Started GET "/" for 127.0.0.1 at 2017-02-27 10:35:27 +0800
  
ActiveRecord::NoDatabaseError (Unknown database 'master_rails_by_actions_development'):
  
activerecord (5.0.1) lib/active_record/connection_adapters/mysql2_adapter.rb:29:in `rescue in mysql2_connection'
activerecord (5.0.1) lib/active_record/connection_adapters/mysql2_adapter.rb:12:in `mysql2_connection'
activerecord (5.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:729:in `new_connection'
activerecord (5.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:773:in `checkout_new_connection'
activerecord (5.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:752:in `try_to_checkout_new_connection'
activerecord (5.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:713:in `acquire_connection'
activerecord (5.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:490:in `checkout'
activerecord (5.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:364:in `connection'
activerecord (5.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:883:in `retrieve_connection'
activerecord (5.0.1) lib/active_record/connection_handling.rb:128:in `retrieve_connection'
activerecord (5.0.1) lib/active_record/connection_handling.rb:91:in `connection'
activerecord (5.0.1) lib/active_record/migration.rb:559:in `connection'
activerecord (5.0.1) lib/active_record/migration.rb:546:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.1) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.1) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.1) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.1) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.4.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.4.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.1) lib/rails/engine.rb:522:in `call'
rack (2.0.1) lib/rack/handler/webrick.rb:86:in `service'
/home/code/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
/home/code/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
/home/code/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.5ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (21.5ms)
Started GET "/" for 127.0.0.1 at 2017-02-27 10:36:29 +0800
Processing by Rails::WelcomeController#index as HTML
  Parameters: {"internal"=>true}
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/railties-5.0.1/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/railties-5.0.1/lib/rails/templates/rails/welcome/index.html.erb (3.0ms)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 0.0ms)


  [1m[35m (24.6ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) PRIMARY KEY) ENGINE=InnoDB[0m
  [1m[35m (14.1ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) PRIMARY KEY, `value` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2321506512563442330', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to SorceryCore (20170227030410)
  [1m[35m (14.8ms)[0m  [1m[35mCREATE TABLE `users` (`id` int AUTO_INCREMENT PRIMARY KEY, `email` varchar(255) NOT NULL, `crypted_password` varchar(255), `salt` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (13.1ms)[0m  [1m[35mCREATE UNIQUE INDEX `index_users_on_email`  ON `users` (`email`) [0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170227030410')[0m
  [1m[35m (5.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryUserActivation (20170227031504)
  [1m[35m (24.0ms)[0m  [1m[35mALTER TABLE `users` ADD `activation_state` varchar(255)[0m
  [1m[35m (23.7ms)[0m  [1m[35mALTER TABLE `users` ADD `activation_token` varchar(255)[0m
  [1m[35m (25.0ms)[0m  [1m[35mALTER TABLE `users` ADD `activation_token_expires_at` datetime[0m
  [1m[35m (12.0ms)[0m  [1m[35mCREATE  INDEX `index_users_on_activation_token`  ON `users` (`activation_token`) [0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170227031504')[0m
  [1m[35m (3.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryRememberMe (20170227031505)
  [1m[35m (30.5ms)[0m  [1m[35mALTER TABLE `users` ADD `remember_me_token` varchar(255)[0m
  [1m[35m (28.7ms)[0m  [1m[35mALTER TABLE `users` ADD `remember_me_token_expires_at` datetime[0m
  [1m[35m (13.5ms)[0m  [1m[35mCREATE  INDEX `index_users_on_remember_me_token`  ON `users` (`remember_me_token`) [0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170227031505')[0m
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryResetPassword (20170227031506)
  [1m[35m (32.0ms)[0m  [1m[35mALTER TABLE `users` ADD `reset_password_token` varchar(255)[0m
  [1m[35m (30.9ms)[0m  [1m[35mALTER TABLE `users` ADD `reset_password_token_expires_at` datetime[0m
  [1m[35m (32.2ms)[0m  [1m[35mALTER TABLE `users` ADD `reset_password_email_sent_at` datetime[0m
  [1m[35m (12.3ms)[0m  [1m[35mCREATE  INDEX `index_users_on_reset_password_token`  ON `users` (`reset_password_token`) [0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170227031506')[0m
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2017-02-27 03:17:28', '2017-02-27 03:17:28')[0m
  [1m[35m (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('2321506512563442330')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'users'[0m
Started GET "/" for 127.0.0.1 at 2017-02-27 14:36:37 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.4ms)
Completed 500 Internal Server Error in 4497ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (Missing partial layout/_menu with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/code/master_rails_by_actions/app/views"
):
    11:   </head>
    12: 
    13:   <body>
    14:     <% render 'layout/menu' %>
    15:     <div class="container">
    16:       <%= yield %>
    17:     </div>
  
app/views/layouts/application.html.erb:14:in `_app_views_layouts_application_html_erb___844077910762007398_48134620'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.3ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (23.3ms)
Started GET "/" for 127.0.0.1 at 2017-02-27 14:37:49 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (3.1ms)
  Rendered layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 108ms (Views: 106.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-02-27 14:38:14 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
  Rendered layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 42ms (Views: 40.4ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-02-27 14:38:15 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
  Rendered layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 39ms (Views: 38.0ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-02-27 14:44:16 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.2ms)
  Rendered layouts/_menu.html.erb (20.9ms)
Completed 200 OK in 215ms (Views: 214.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-02-27 14:44:28 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
  Rendered layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 47ms (Views: 46.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-02-27 15:16:21 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
  Rendered layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 65ms (Views: 63.5ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-02-27 16:32:28 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.4ms)
  Rendered layouts/_menu.html.erb (11.3ms)
Completed 500 Internal Server Error in 44ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined local variable or method `new_uer_path' for #<#<Class:0x007f0fe1cc6968>:0x007f0fe1cc5a40>):
    25:     </form>
    26:     <ul class="nav navbar-nav navbar-right">
    27:       <li><a href="#">购物车</a></li>
    28:       <li><a href="<%= new_uer_path %>">注册</a></li>
    29:       <li><a href="#">登录</a></li>
    30:       <li class="dropdown">
    31:         <a href="#" class="data-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded>个人中心<span class="caret"></span></a>
  
app/views/layouts/_menu.html.erb:28:in `_app_views_layouts__menu_html_erb__1543888085735292036_69852845712900'
app/views/layouts/application.html.erb:14:in `_app_views_layouts_application_html_erb__3974430341336110263_69853096218620'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.5ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.2ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (21.5ms)
Started GET "/" for 127.0.0.1 at 2017-02-27 16:32:53 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
  Rendered layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 42ms (Views: 40.6ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-02-27 16:32:55 +0800
  
SyntaxError (/home/code/master_rails_by_actions/app/controllers/users_controller.rb:18: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/users_controller.rb:18: syntax error, unexpected end-of-input, expecting keyword_end
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.9ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (20.5ms)
Started GET "/users/new" for 127.0.0.1 at 2017-02-27 16:34:08 +0800
Processing by UsersController#new as HTML
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms)


  
ArgumentError (To use reset_password submodule, you must define a mailer (config.reset_password_mailer = YourMailerClass).):
  
app/models/user.rb:2:in `<class:User>'
app/models/user.rb:1:in `<top (required)>'
app/controllers/users_controller.rb:4:in `new'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.1ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (23.0ms)
Started GET "/users/new" for 127.0.0.1 at 2017-02-27 16:38:44 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (0.9ms)
Completed 500 Internal Server Error in 318ms (ActiveRecord: 1.2ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/views/users/new.html.erb:12: syntax error, unexpected keyword_if, expecting '|'
...zontal', id:"user_form"} do |if| @output_buffer.safe_append='
...                               ^
/home/code/master_rails_by_actions/app/views/users/new.html.erb:37: syntax error, unexpected keyword_ensure, expecting end-of-input):
  
app/views/users/new.html.erb:12: syntax error, unexpected keyword_if, expecting '|'
app/views/users/new.html.erb:37: syntax error, unexpected keyword_ensure, expecting end-of-input
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.1ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (8.4ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (33.5ms)
Started GET "/users/new" for 127.0.0.1 at 2017-02-27 16:39:29 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (1.4ms)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/views/users/new.html.erb:12: syntax error, unexpected keyword_if, expecting '|'
...zontal', id:"user_form"} do |if| @output_buffer.safe_append='
...                               ^
/home/code/master_rails_by_actions/app/views/users/new.html.erb:37: syntax error, unexpected keyword_ensure, expecting end-of-input):
  
app/views/users/new.html.erb:12: syntax error, unexpected keyword_if, expecting '|'
app/views/users/new.html.erb:37: syntax error, unexpected keyword_ensure, expecting end-of-input
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.1ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.7ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (27.8ms)
Started GET "/users/new" for 127.0.0.1 at 2017-02-27 16:40:23 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (28.7ms)
Completed 500 Internal Server Error in 35ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `emil' for #<User:0x00000004a7d0d8>):
    13:   <div class="form-group">
    14:     <div class="col-lg-12">邮箱 *</div>
    15:     <div class="col-lg-12">
    16:       <%= f.text_field :emil, class: "form-control" %>
    17:     </div>
    18:   </div>
    19:   <div class="form-group">
  
app/views/users/new.html.erb:16:in `block in _app_views_users_new_html_erb__2848505529778594560_39025140'
app/views/users/new.html.erb:12:in `_app_views_users_new_html_erb__2848505529778594560_39025140'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (7.2ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.9ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (25.3ms)
Started GET "/users/new" for 127.0.0.1 at 2017-02-27 16:41:14 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (13.1ms)
  Rendered layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 240ms (Views: 239.2ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2017-02-27 16:42:01 +0800
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"VTQ+Kv/fjCQOQXydT/eo0IdMcjr/oc5lGsvvg+KnhT+BcytOLOmByKzuGZUdUd76U2E5AUx6yDOI+QQFjEVJIw==", "user"=>{"email"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "create_user_submit"=>"创建账户"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.5ms)


  
NoMethodError (undefined method `new' for #<User:0x007f2971563488>):
  
app/models/user.rb:20:in `need_validate_password'
app/controllers/users_controller.rb:11:in `create'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (7.2ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.6ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (26.8ms)
Started POST "/users" for 127.0.0.1 at 2017-02-27 16:44:33 +0800
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"VTQ+Kv/fjCQOQXydT/eo0IdMcjr/oc5lGsvvg+KnhT+BcytOLOmByKzuGZUdUd76U2E5AUx6yDOI+QQFjEVJIw==", "user"=>{"email"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "create_user_submit"=>"创建账户"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY '' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (2.4ms)
Completed 500 Internal Server Error in 40ms (ActiveRecord: 0.7ms)


  
ActionView::Template::Error (undefined method `message' for #<ActiveModel::Errors:0x0000000419cd88>):
    2: <% unless @user.errors.empty? %>
    3:  <div class="alert alert-danger"> 
    4:     <ul>
    5:       <% @user.errors.message.values.flatten.each do |error| %>
    6:         <li><%= error %></li>
    7:       <% end -%>
    8:     </ul>
  
app/views/users/new.html.erb:5:in `_app_views_users_new_html_erb__2848505529778594560_33578440'
app/controllers/users_controller.rb:15:in `create'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.1ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.0ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (24.5ms)
Started POST "/users" for 127.0.0.1 at 2017-02-27 16:46:32 +0800
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"VTQ+Kv/fjCQOQXydT/eo0IdMcjr/oc5lGsvvg+KnhT+BcytOLOmByKzuGZUdUd76U2E5AUx6yDOI+QQFjEVJIw==", "user"=>{"email"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "create_user_submit"=>"创建账户"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY '' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (7.5ms)
  Rendered layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 77ms (Views: 56.3ms | ActiveRecord: 0.9ms)


Started POST "/users" for 127.0.0.1 at 2017-02-27 16:47:33 +0800
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"avCrJ6+8Ig48WGcpKsR942mxhxWEUWkzYdBNySJ1w4S+t75DfIov4p73AiF4YgvJvZzMLjeKb2Xz4qZPTJcPmA==", "user"=>{"email"=>"111@qq.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "create_user_submit"=>"创建账户"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY '111@qq.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 122ms (Views: 21.2ms | ActiveRecord: 0.6ms)


Started POST "/users" for 127.0.0.1 at 2017-02-27 16:47:40 +0800
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"A2Sy1NRD5QEyMfYSSJxucPFMLEq7WyZWcEGQ4sYOF2zXI6ewB3Xo7ZCekxoaOhhaJWFncQiAIADic3tkqOzbcA==", "user"=>{"email"=>"111@qq.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "create_user_submit"=>"创建账户"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY '111@qq.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `crypted_password`, `salt`, `created_at`, `updated_at`, `activation_state`, `activation_token`) VALUES ('111@qq.com', '$2a$10$W5s3A3blbN8qsb..H5JbzuMl902e/nhqckU7V3eaT5dkJPNU9Zzta', 'x3rGqFoo_iaZWGNmtpCR', '2017-02-27 08:47:40', '2017-02-27 08:47:40', 'pending', 'woomzgvJ5G1QbcAMxbGp')[0m
  [1m[35m (11.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 97ms (ActiveRecord: 11.7ms)


Started GET "/" for 127.0.0.1 at 2017-02-27 16:47:40 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.3ms)
  Rendered layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 21ms (Views: 20.8ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-02-27 17:20:20 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
  Rendered layouts/_menu.html.erb (12.4ms)
Completed 500 Internal Server Error in 33ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined local variable or method `new_sessoin_path' for #<#<Class:0x00000002716db0>:0x000000026fa750>):
    26:     <ul class="nav navbar-nav navbar-right">
    27:       <li><a href="#">购物车</a></li>
    28:       <li><a href="<%= new_user_path %>">注册</a></li>
    29:       <li><a href="<%= new_sessoin_path %>">登录</a></li>
    30:       <li class="dropdown">
    31:         <a href="#" class="data-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded>个人中心<span class="caret"></span></a>
    32:         <ul class="dropdown-menu">
  
app/views/layouts/_menu.html.erb:29:in `_app_views_layouts__menu_html_erb___1468268037717527645_69907741506260'
app/views/layouts/application.html.erb:14:in `_app_views_layouts_application_html_erb___2048371797573198588_20161040'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.4ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.9ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (22.4ms)
Started GET "/" for 127.0.0.1 at 2017-02-27 17:20:55 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.3ms)
  Rendered layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 31ms (Views: 30.0ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-02-27 17:21:00 +0800
Processing by UsersController#new as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/models/user.rb:9: syntax error, unexpected ':'
    if: proc { |user| !user.email.blank? }
       ^):
  
app/models/user.rb:9: syntax error, unexpected ':'
app/controllers/users_controller.rb:4:in `new'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.6ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.0ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (23.7ms)
Started GET "/users/new" for 127.0.0.1 at 2017-02-27 17:23:39 +0800
Processing by UsersController#new as HTML
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/models/user.rb:9: syntax error, unexpected ':'
    if: proc { |user| !user.email.blank? }
       ^):
  
app/models/user.rb:9: syntax error, unexpected ':'
app/controllers/users_controller.rb:4:in `new'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.5ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (23.9ms)
Started GET "/users/new" for 127.0.0.1 at 2017-02-27 17:23:54 +0800
Processing by UsersController#new as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/models/user.rb:9: syntax error, unexpected ':'
    if: proc { |user| !user.email.blank? }
       ^):
  
app/models/user.rb:9: syntax error, unexpected ':'
app/controllers/users_controller.rb:4:in `new'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.6ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (21.8ms)
Started GET "/users/new" for 127.0.0.1 at 2017-02-27 17:26:20 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 47ms (Views: 30.8ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-02-27 17:27:55 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.2ms)
  Rendered layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 41ms (Views: 40.2ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-02-27 17:27:56 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.4ms)
  Rendered layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 29ms (Views: 27.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-02-27 17:27:56 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.8ms)
  Rendered layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 25ms (Views: 23.9ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-02-27 17:28:00 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (3.3ms)
  Rendered layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 45ms (Views: 43.5ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2017-02-27 17:28:10 +0800
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"E3krIdgtEG26VD84a+bg+x50zrWYYCQEN9Mr3zUir4PHPj5FCxsdgRj7WjA5QJbRylmFjiu7IlKl4cBZW8Bjnw==", "user"=>{"email"=>"ljljlkjljlkjlkjlkjljkljklk", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "create_user_submit"=>"创建账户"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'ljljlkjljlkjlkjlkjljkljklk' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 35ms (Views: 27.6ms | ActiveRecord: 0.5ms)


Started POST "/users" for 127.0.0.1 at 2017-02-27 17:28:49 +0800
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"4e1sgdozxUBNqFaPtqgqOSYAg2/5uaFFfOyqCnFX7HY1qnnlCQXIrO8HM4fkDlwT8i3IVEpipxPu3kGMH7Ugag==", "user"=>{"email"=>"aaa@qq.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "create_user_submit"=>"创建账户"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'aaa@qq.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 112ms (Views: 29.7ms | ActiveRecord: 0.5ms)


Started POST "/users" for 127.0.0.1 at 2017-02-27 17:30:35 +0800
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Ce50IaYMJDwv2di2myvuUcOBXk8/chAozCX2Xcf55STdqWFFdTop0I12vb7JjZh7F6wVdIypFn5eFx3bqRspOA==", "user"=>{"email"=>"aaa@qq.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "create_user_submit"=>"创建账户"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'aaa@qq.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 146ms (Views: 23.5ms | ActiveRecord: 0.6ms)


Started POST "/users" for 127.0.0.1 at 2017-02-27 17:30:38 +0800
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Jk+im25Ncb3I8H0uX2s6QPRCXZofpZa5hRBDnblbvjbyCLf/vXt8UWpfGCYNzUxqIG8Woax+kO8XIqgb17lyKg==", "user"=>{"email"=>"aaa@qq.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "create_user_submit"=>"创建账户"}
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'aaa@qq.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (3.7ms)
  Rendered layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 51ms (Views: 37.0ms | ActiveRecord: 1.1ms)


Started POST "/users" for 127.0.0.1 at 2017-02-27 17:30:57 +0800
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"KbUmRNonXwtSr35WjU1ltPeAQRGqkKPg3l5sLSTnwaj98jMgCRFS5/AAG17f6xOeI60KKhlLpbZMbIerSgUNtA==", "user"=>{"email"=>"aaa@qq.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "create_user_submit"=>"创建账户"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'aaa@qq.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 116ms (Views: 20.7ms | ActiveRecord: 0.5ms)


Started POST "/users" for 127.0.0.1 at 2017-02-27 17:32:47 +0800
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"yji9h9vF5ssjQRCVBGWGz9NTkPUnxoiA+LK68B+cjucef6jjCPPrJ4HudZ1Ww/DlB37bzpQdjtZqgFF2cX5C+w==", "user"=>{"email"=>"aaa", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "create_user_submit"=>"创建账户"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'aaa' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (2.2ms)
  Rendered layouts/_menu.html.erb (1.1ms)
Completed 200 OK in 64ms (Views: 28.8ms | ActiveRecord: 2.7ms)


Started POST "/users" for 127.0.0.1 at 2017-02-27 17:32:58 +0800
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"3l0lBxevY6laLSkgVn0eC9fn/nSKOwsIXFQPzGFs4XYKGjBjxJluRfiCTCgE22ghA8q1TzngDV7OZuRKD44tag==", "user"=>{"email"=>"aaa@qq.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "create_user_submit"=>"创建账户"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'aaa@qq.com' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO `users` (`email`, `crypted_password`, `salt`, `created_at`, `updated_at`, `activation_state`, `activation_token`) VALUES ('aaa@qq.com', '$2a$10$pwAn.M9pa6Wo3XoBMNMN6uIiJjKpLK3YXKQnRBLamXZ5oodUtOG1m', '1WwAZNfq4x16UzuN4Voj', '2017-02-27 09:32:59', '2017-02-27 09:32:59', 'pending', 'zBCURdT-LPM7CwkDqiVm')[0m
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/sessions/new
Completed 302 Found in 134ms (ActiveRecord: 3.5ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-02-27 17:32:59 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 26ms (Views: 24.9ms | ActiveRecord: 0.0ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-02-27 17:33:03 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (11.9ms)
  Rendered layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 40ms (Views: 38.4ms | ActiveRecord: 0.0ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-02-27 17:33:05 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_menu.html.erb (1.1ms)
Completed 200 OK in 26ms (Views: 25.3ms | ActiveRecord: 0.0ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-02-27 17:33:06 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_menu.html.erb (1.3ms)
Completed 200 OK in 34ms (Views: 32.4ms | ActiveRecord: 0.0ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-02-27 17:33:07 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_menu.html.erb (1.0ms)
Completed 200 OK in 40ms (Views: 38.3ms | ActiveRecord: 0.0ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-02-27 17:45:18 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (16.2ms)
Completed 500 Internal Server Error in 21ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `from_tag' for #<#<Class:0x00000004341cd8>:0x007f2971b9ba30>):
    1: <h1>登录</h1>
    2: <%= from_tag sessions_path, method: :post, class: "from-horizontal" do %>
    3:   <div class="form_group">
    4:     <div class="col-lg-12">邮箱或者手机号</div>
    5:     <div class="col-lg-12">
  
app/views/sessions/new.html.erb:2:in `_app_views_sessions_new_html_erb___121750842096450065_69907989187720'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.8ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (24.1ms)
Started GET "/sessions/new" for 127.0.0.1 at 2017-02-27 17:45:40 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"sessions"} missing required keys: [:id]):
    1: <h1>登录</h1>
    2: <%= from_tag session_path, method: :post, class: "from-horizontal" do %>
    3:   <div class="form_group">
    4:     <div class="col-lg-12">邮箱或者手机号</div>
    5:     <div class="col-lg-12">
  
app/views/sessions/new.html.erb:2:in `_app_views_sessions_new_html_erb___121750842096450065_69907995816800'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (15.0ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.6ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.9ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (33.6ms)
Started GET "/sessions/new" for 127.0.0.1 at 2017-02-27 17:46:04 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 45ms (Views: 44.4ms | ActiveRecord: 0.0ms)


Started POST "/sessions" for 127.0.0.1 at 2017-02-27 17:46:31 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"CL2/toffZHJYYh60WdJfALIQINkv2i4SZNs0Um8eV/Hc+qrSVOlpnvrNe7wLdCkqZj1r4pwBKET26d/UAfyb7Q==", "email"=>"aaa@qq.com", "password"=>"[FILTERED]", "sign_submit"=>"登录"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'aaa@qq.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/
Completed 302 Found in 156ms (ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-02-27 17:46:31 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.3ms)
  Rendered layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 34ms (Views: 32.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-02-27 17:54:18 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  Rendered layouts/_menu.html.erb (56.5ms)
Completed 500 Internal Server Error in 87ms (ActiveRecord: 0.3ms)


  
ActionView::Template::Error (undefined local variable or method `current' for #<#<Class:0x007f2971894300>:0x007f2971875220>):
    29:         <li><a href="<%= new_user_path %>">注册</a></li>
    30:         <li><a href="<%= new_session_path %>">登录</a></li>
    31:       <% else %>
    32:         <li><a href="#">欢迎您, <%= current.user.username %></a></li>
    33:       <% end -%>
    34:       <li class="dropdown">
    35:         <a href="#" class="data-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded>个人中心<span class="caret"></span></a>
  
app/views/layouts/_menu.html.erb:32:in `_app_views_layouts__menu_html_erb___1468268037717527645_69907995085200'
app/views/layouts/application.html.erb:14:in `_app_views_layouts_application_html_erb___2048371797573198588_69907987798320'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.3ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (23.3ms)
Started GET "/" for 127.0.0.1 at 2017-02-27 17:57:22 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  Rendered layouts/_menu.html.erb (13.9ms)
Completed 500 Internal Server Error in 41ms (ActiveRecord: 0.9ms)


  
ActionView::Template::Error (undefined local variable or method `current' for #<#<Class:0x007f2971894300>:0x007f29713474d8>):
    29:         <li><a href="<%= new_user_path %>">注册</a></li>
    30:         <li><a href="<%= new_session_path %>">登录</a></li>
    31:       <% else %>
    32:         <li><a href="#">欢迎您,<%= current.user.username %></a></li>
    33:       <% end -%>
    34:       <li class="dropdown">
    35:         <a href="#" class="data-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded>个人中心<span class="caret"></span></a>
  
app/views/layouts/_menu.html.erb:32:in `_app_views_layouts__menu_html_erb___1468268037717527645_39633540'
app/views/layouts/application.html.erb:14:in `_app_views_layouts_application_html_erb___2048371797573198588_69907984765380'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.7ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.6ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (22.3ms)
Started GET "/" for 127.0.0.1 at 2017-02-27 17:58:43 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  Rendered layouts/_menu.html.erb (1.8ms)
Completed 200 OK in 25ms (Views: 23.8ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-02-27 17:59:49 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  Rendered layouts/_menu.html.erb (1.7ms)
Completed 200 OK in 24ms (Views: 22.7ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-02-27 18:08:14 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.3ms)
  Rendered layouts/_menu.html.erb (0.9ms)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/views/layouts/_menu.html.erb:33: syntax error, unexpected '<'
...reeze;@output_buffer.append=( <%= link_to "退出", logout_p...
...                               ^
/home/code/master_rails_by_actions/app/views/layouts/_menu.html.erb:34: syntax error, unexpected keyword_end, expecting ')'
'.freeze;       end 
                   ^
/home/code/master_rails_by_actions/app/views/layouts/_menu.html.erb:49: syntax error, unexpected keyword_ensure, expecting ')'
/home/code/master_rails_by_actions/app/views/layouts/_menu.html.erb:51: syntax error, unexpected keyword_end, expecting ')'):
  
app/views/layouts/_menu.html.erb:33: syntax error, unexpected '<'
app/views/layouts/_menu.html.erb:34: syntax error, unexpected keyword_end, expecting ')'
app/views/layouts/_menu.html.erb:49: syntax error, unexpected keyword_ensure, expecting ')'
app/views/layouts/_menu.html.erb:51: syntax error, unexpected keyword_end, expecting ')'
app/views/layouts/application.html.erb:14:in `_app_views_layouts_application_html_erb___2048371797573198588_69907741068160'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.8ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.1ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (23.5ms)
Started GET "/" for 127.0.0.1 at 2017-02-27 18:08:51 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.4ms)
  Rendered layouts/_menu.html.erb (0.8ms)
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/views/layouts/_menu.html.erb:33: syntax error, unexpected '<'
...reeze;@output_buffer.append=( <%= link_to "退出", logout_p...
...                               ^
/home/code/master_rails_by_actions/app/views/layouts/_menu.html.erb:34: syntax error, unexpected keyword_end, expecting ')'
'.freeze;       end 
                   ^
/home/code/master_rails_by_actions/app/views/layouts/_menu.html.erb:49: syntax error, unexpected keyword_ensure, expecting ')'
/home/code/master_rails_by_actions/app/views/layouts/_menu.html.erb:51: syntax error, unexpected keyword_end, expecting ')'):
  
app/views/layouts/_menu.html.erb:33: syntax error, unexpected '<'
app/views/layouts/_menu.html.erb:34: syntax error, unexpected keyword_end, expecting ')'
app/views/layouts/_menu.html.erb:49: syntax error, unexpected keyword_ensure, expecting ')'
app/views/layouts/_menu.html.erb:51: syntax error, unexpected keyword_end, expecting ')'
app/views/layouts/application.html.erb:14:in `_app_views_layouts_application_html_erb___2048371797573198588_69907995751560'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.7ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (21.7ms)
Started GET "/" for 127.0.0.1 at 2017-02-27 18:08:52 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
  Rendered layouts/_menu.html.erb (1.4ms)
Completed 500 Internal Server Error in 28ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/views/layouts/_menu.html.erb:33: syntax error, unexpected '<'
...reeze;@output_buffer.append=( <%= link_to "退出", logout_p...
...                               ^
/home/code/master_rails_by_actions/app/views/layouts/_menu.html.erb:34: syntax error, unexpected keyword_end, expecting ')'
'.freeze;       end 
                   ^
/home/code/master_rails_by_actions/app/views/layouts/_menu.html.erb:49: syntax error, unexpected keyword_ensure, expecting ')'
/home/code/master_rails_by_actions/app/views/layouts/_menu.html.erb:51: syntax error, unexpected keyword_end, expecting ')'):
  
app/views/layouts/_menu.html.erb:33: syntax error, unexpected '<'
app/views/layouts/_menu.html.erb:34: syntax error, unexpected keyword_end, expecting ')'
app/views/layouts/_menu.html.erb:49: syntax error, unexpected keyword_ensure, expecting ')'
app/views/layouts/_menu.html.erb:51: syntax error, unexpected keyword_end, expecting ')'
app/views/layouts/application.html.erb:14:in `_app_views_layouts_application_html_erb___2048371797573198588_69907786665840'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.7ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (21.9ms)
Started GET "/" for 127.0.0.1 at 2017-02-27 18:09:08 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  Rendered layouts/_menu.html.erb (24.3ms)
Completed 200 OK in 56ms (Views: 52.9ms | ActiveRecord: 1.8ms)


Started DELETE "/logout" for 127.0.0.1 at 2017-02-27 18:10:09 +0800
  
AbstractController::ActionNotFound (The action 'destory' could not be found for SessionsController):
  
actionpack (5.0.1) lib/abstract_controller/base.rb:121:in `process'
actionview (5.0.1) lib/action_view/rendering.rb:30:in `process'
actionpack (5.0.1) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (5.0.1) lib/action_controller/metal.rb:262:in `dispatch'
actionpack (5.0.1) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (5.0.1) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (5.0.1) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.1) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.1) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.1) lib/action_dispatch/routing/route_set.rb:725:in `call'
rack (2.0.1) lib/rack/etag.rb:25:in `call'
rack (2.0.1) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.1) lib/rack/head.rb:12:in `call'
rack (2.0.1) lib/rack/session/abstract/id.rb:222:in `context'
rack (2.0.1) lib/rack/session/abstract/id.rb:216:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.0.1) lib/active_record/migration.rb:553:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.1) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.1) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.1) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.1) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.4.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.4.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.1) lib/rails/engine.rb:522:in `call'
rack (2.0.1) lib/rack/handler/webrick.rb:86:in `service'
/home/code/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
/home/code/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
/home/code/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout (0.4ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-02-27 18:11:10 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"nfflSAcidoTaKzIIcKi9HbCNqZ6u9FvQIAZnkpNmxEtJsPAs1BR7aHiEVwAiDss3ZKDipR0vXYayNIwU/YQIVw=="}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35mSQL (12.0ms)[0m  [1m[33mUPDATE `users` SET `users`.`remember_me_token` = NULL, `users`.`remember_me_token_expires_at` = NULL WHERE `users`.`id` = 2[0m
Redirected to http://localhost:3000/
Completed 302 Found in 42ms (ActiveRecord: 12.4ms)


Started GET "/" for 127.0.0.1 at 2017-02-27 18:11:11 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
  Rendered layouts/_menu.html.erb (4.4ms)
Completed 200 OK in 26ms (Views: 25.7ms | ActiveRecord: 0.0ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-02-27 18:12:00 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 27ms (Views: 26.8ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-02-27 18:12:00 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (2.1ms)
  Rendered layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 29ms (Views: 26.7ms | ActiveRecord: 0.0ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-02-27 18:12:01 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.2ms)
  Rendered layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 33ms (Views: 32.3ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-02-27 18:12:01 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 33ms (Views: 32.7ms | ActiveRecord: 0.0ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-02-27 18:12:03 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.6ms)
  Rendered layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 34ms (Views: 33.6ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-02-27 18:12:03 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (2.8ms)
  Rendered layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 25ms (Views: 24.7ms | ActiveRecord: 0.0ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-02-27 18:12:04 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.0ms)
  Rendered layouts/_menu.html.erb (1.1ms)
Completed 200 OK in 43ms (Views: 40.8ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-02-27 18:12:04 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_menu.html.erb (1.3ms)
Completed 200 OK in 28ms (Views: 27.4ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-02-27 18:12:05 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 28ms (Views: 27.4ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-02-27 18:12:06 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 28ms (Views: 27.0ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-02-27 18:12:06 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (7.8ms)
  Rendered layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 33ms (Views: 32.2ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-02-27 18:12:07 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 26ms (Views: 25.2ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-02-27 18:12:08 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (3.5ms)
  Rendered layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 25ms (Views: 23.9ms | ActiveRecord: 0.0ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-02-27 18:12:08 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 20ms (Views: 19.7ms | ActiveRecord: 0.0ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-02-27 18:12:09 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_menu.html.erb (1.4ms)
Completed 200 OK in 33ms (Views: 27.5ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-02-27 18:12:09 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (6.0ms)
  Rendered layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 44ms (Views: 43.2ms | ActiveRecord: 0.0ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-02-27 18:12:10 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_menu.html.erb (1.1ms)
Completed 200 OK in 34ms (Views: 33.4ms | ActiveRecord: 0.0ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-02-27 18:12:11 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 31ms (Views: 30.8ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-02-27 18:12:11 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (2.9ms)
  Rendered layouts/_menu.html.erb (1.3ms)
Completed 200 OK in 45ms (Views: 44.1ms | ActiveRecord: 0.0ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-02-27 18:12:12 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.6ms)
  Rendered layouts/_menu.html.erb (1.2ms)
Completed 200 OK in 55ms (Views: 53.2ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-02-27 18:12:12 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (2.2ms)
  Rendered layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 34ms (Views: 33.3ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-02-27 18:12:13 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 32ms (Views: 30.9ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-02-27 18:12:15 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_menu.html.erb (1.0ms)
Completed 200 OK in 35ms (Views: 34.6ms | ActiveRecord: 0.0ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-02-27 18:12:15 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 37ms (Views: 36.3ms | ActiveRecord: 0.0ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-02-27 18:12:16 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.6ms)
  Rendered layouts/_menu.html.erb (1.2ms)
Completed 200 OK in 49ms (Views: 47.9ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-02-27 18:12:17 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (2.8ms)
  Rendered layouts/_menu.html.erb (1.1ms)
Completed 200 OK in 39ms (Views: 37.9ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-02-27 18:12:17 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 35ms (Views: 30.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-02-28 10:30:03 +0800
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

):
  
activerecord (5.0.1) lib/active_record/migration.rb:573:in `check_pending!'
activerecord (5.0.1) lib/active_record/migration.rb:549:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.1) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.1) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.1) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.1) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.4.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.4.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.1) lib/rails/engine.rb:522:in `call'
rack (2.0.1) lib/rack/handler/webrick.rb:86:in `service'
/home/code/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
/home/code/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
/home/code/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.0ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (22.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2321506512563442330', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to CreateCategories (20170228015232)
  [1m[35m (19.7ms)[0m  [1m[35mCREATE TABLE `categories` (`id` int AUTO_INCREMENT PRIMARY KEY, `title` varchar(255), `weight` int DEFAULT 0, `products_counter` int DEFAULT 0, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (12.5ms)[0m  [1m[35mCREATE  INDEX `index_categories_on_title`  ON `categories` (`title`) [0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170228015232')[0m
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProducts (20170228015253)
  [1m[35m (16.6ms)[0m  [1m[35mCREATE TABLE `products` (`id` int AUTO_INCREMENT PRIMARY KEY, `category_id` int, `title` varchar(255), `status` varchar(255) DEFAULT 'off', `amount` int DEFAULT 0, `uuid` varchar(255), `msrp` decimal(10,2), `price` decimal(10,2), `description` text, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (12.3ms)[0m  [1m[35mCREATE  INDEX `index_products_on_status_and_category_id`  ON `products` (`status`, `category_id`) [0m
  [1m[35m (16.4ms)[0m  [1m[35mCREATE  INDEX `index_products_on_category_id`  ON `products` (`category_id`) [0m
  [1m[35m (12.2ms)[0m  [1m[35mCREATE UNIQUE INDEX `index_products_on_uuid`  ON `products` (`uuid`) [0m
  [1m[35m (12.4ms)[0m  [1m[35mCREATE  INDEX `index_products_on_title`  ON `products` (`title`) [0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170228015253')[0m
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (4.6ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2321506512563442330')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `categories`[0m
  [1m[35m (0.6ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'categories'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `products`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'products'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'users'[0m
Started GET "/" for 127.0.0.1 at 2017-02-28 10:32:10 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.4ms)
  Rendered layouts/_menu.html.erb (3.7ms)
Completed 200 OK in 310ms (Views: 308.6ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-02-28 10:42:08 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.3ms)
  Rendered layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 21ms (Views: 20.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-02-28 10:42:08 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.3ms)
  Rendered layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 27ms (Views: 25.9ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-02-28 10:42:11 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (7.1ms)
  Rendered layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 300ms (Views: 26.9ms | ActiveRecord: 1.2ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-02-28 10:42:12 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 23ms (Views: 21.9ms | ActiveRecord: 0.0ms)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2321506512563442330', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to AddAncestryToCatrgory (20170228030926)
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE `categfories` ADD `ancestry` varchar(255)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2321506512563442330')[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2321506512563442330', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to AddAncestryToCategory (20170228031838)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2321506512563442330')[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2321506512563442330', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to AddAncestryToCategory (20170228031838)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2321506512563442330')[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2321506512563442330', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to AddAncestryToCategory (20170228031838)
  [1m[35m (24.0ms)[0m  [1m[35mALTER TABLE `categories` ADD `ancestry` varchar(255)[0m
  [1m[35m (15.7ms)[0m  [1m[35mCREATE  INDEX `index_categories_on_ancestry`  ON `categories` (`ancestry`) [0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170228031838')[0m
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT RELEASE_LOCK('2321506512563442330')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `categories`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'categories'[0m
  [1m[35m (0.6ms)[0m  [1m[35mSHOW CREATE TABLE `products`[0m
  [1m[35m (1.0ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'products'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'users'[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `categories` (`title`, `created_at`, `updated_at`) VALUES ('c1', '2017-02-28 03:23:00', '2017-02-28 03:23:00')[0m
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO `categories` (`title`, `created_at`, `updated_at`) VALUES ('c1', '2017-02-28 03:24:14', '2017-02-28 03:24:14')[0m
  [1m[35m (12.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `categories` (`title`, `created_at`, `updated_at`, `ancestry`) VALUES ('c12', '2017-02-28 03:24:26', '2017-02-28 03:24:26', '2')[0m
  [1m[35m (11.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '2'[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '2' ORDER BY `categories`.`id` ASC LIMIT 1[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '2' ORDER BY `categories`.`id` ASC LIMIT 1[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 2 LIMIT 1[0m
Started GET "/" for 127.0.0.1 at 2017-02-28 16:37:35 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.2ms)
  Rendered layouts/_menu.html.erb (4.0ms)
Completed 200 OK in 3990ms (Views: 3988.7ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-02-28 16:37:49 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
  Rendered layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 33ms (Views: 31.7ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-02-28 16:37:57 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.6ms)
Completed 500 Internal Server Error in 22ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined local variable or method `csrf_meta' for #<#<Class:0x007f10e35ca6e8>:0x007f10e35c9478>):
    3:   <head>
    4:     <title>管理平台 - 蛋人商城</title>
    5:     <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    6:     <%= csrf_meta-tags %>
    7: 
    8:     <%= stylesheet_link_tag 'admin', media: "all" %>
    9:     <%= yield :stylesheets %>
  
app/views/admin/layouts/admin.html.erb:6:in `_app_views_admin_layouts_admin_html_erb___2520502166714445797_69855255335040'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.7ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.2ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (25.1ms)
Started GET "/admin" for 127.0.0.1 at 2017-02-28 16:39:07 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.4ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 86ms (Views: 84.7ms | ActiveRecord: 0.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-02-28 16:39:16 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  Rendered admin/categories/index.html.erb within admin/layouts/admin (0.4ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 30ms (Views: 29.6ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-02-28 16:39:17 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.3ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 22ms (Views: 21.7ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-02-28 16:39:17 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.3ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 22ms (Views: 21.3ms | ActiveRecord: 0.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-02-28 16:40:36 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  Rendered admin/categories/index.html.erb within admin/layouts/admin (0.4ms)
  Rendered admin/layouts/_menu.html.erb (1.2ms)
Completed 200 OK in 44ms (Views: 43.1ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-02-28 16:40:37 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.3ms)
  Rendered admin/layouts/_menu.html.erb (1.8ms)
Completed 200 OK in 27ms (Views: 25.6ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-02-28 16:40:37 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.7ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 27ms (Views: 25.9ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-02-28 16:40:38 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.4ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 25ms (Views: 24.6ms | ActiveRecord: 0.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-02-28 16:40:38 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  Rendered admin/categories/index.html.erb within admin/layouts/admin (0.4ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 22ms (Views: 20.9ms | ActiveRecord: 0.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-02-28 17:09:53 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by Admin::CategoriesController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
NameError (uninitialized constant Admin::CategoriesController::Categories):
  
app/controllers/admin/categories_controller.rb:3:in `index'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.3ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (7.2ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (9.4ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (38.9ms)
Started GET "/admin/categories" for 127.0.0.1 at 2017-02-28 17:11:33 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (14.5ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 320ms (Views: 308.8ms | ActiveRecord: 2.6ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-02-28 17:12:14 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (7.5ms)
  Rendered admin/layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 44ms (Views: 41.6ms | ActiveRecord: 0.5ms)


Started GET "/admin" for 127.0.0.1 at 2017-02-28 17:12:16 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.4ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 41ms (Views: 40.3ms | ActiveRecord: 0.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-02-28 17:12:17 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (9.9ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 48ms (Views: 44.2ms | ActiveRecord: 1.2ms)


Started GET "/" for 127.0.0.1 at 2017-03-01 09:56:31 +0800
  [1m[36mActiveRecord::SchemaMigration Load (2.6ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.7ms)
  Rendered layouts/_menu.html.erb (4.1ms)
Completed 200 OK in 371ms (Views: 369.7ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 09:56:45 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.7ms)
  Rendered admin/layouts/_menu.html.erb (1.5ms)
Completed 200 OK in 92ms (Views: 90.3ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 09:56:50 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.4ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 32ms (Views: 30.9ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 09:56:51 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.7ms)
  Rendered admin/layouts/_menu.html.erb (1.4ms)
Completed 200 OK in 60ms (Views: 57.8ms | ActiveRecord: 0.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 09:56:53 +0800
  
SyntaxError (/home/code/master_rails_by_actions/app/controllers/admin/categories_controller.rb:22: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/admin/categories_controller.rb:22: syntax error, unexpected end-of-input, expecting keyword_end
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.6ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (22.3ms)
Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 09:57:35 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (15.6ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 44ms (Views: 31.7ms | ActiveRecord: 3.8ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 09:57:39 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.6ms)
  Rendered admin/layouts/_menu.html.erb (1.0ms)
Completed 200 OK in 37ms (Views: 36.1ms | ActiveRecord: 0.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 09:57:39 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (1.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (8.4ms)
  Rendered admin/layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 46ms (Views: 42.1ms | ActiveRecord: 1.8ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 09:57:45 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (1.2ms)
  Rendered admin/layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 48ms (Views: 45.7ms | ActiveRecord: 0.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 09:58:01 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (10.1ms)
  Rendered admin/layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 52ms (Views: 48.1ms | ActiveRecord: 1.4ms)


Started GET "/admin/categories/new" for 127.0.0.1 at 2017-03-01 09:58:04 +0800
Processing by Admin::CategoriesController#new as HTML
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (23.5ms)
Completed 500 Internal Server Error in 28ms (ActiveRecord: 0.6ms)


  
ActionView::Template::Error (undefined method `from_for' for #<#<Class:0x007effedb3fb98>:0x007effee64e020>):
    3: </div>
    4: 
    5: <div class="form-body">
    6:   <%= from_for @category,
    7:   url: (@category.new_record? ? admin_categories_path : admin_category_path(@category)),
    8:   method: (@category.new_record? ? 'post' : 'put'),
    9:   html: { class: 'form-horizontal' } do |f| %>
  
app/views/admin/categories/new.html.erb:6:in `_app_views_admin_categories_new_html_erb__3356741449268442108_69818840675640'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.0ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (24.7ms)
Started GET "/admin/categories/new" for 127.0.0.1 at 2017-03-01 09:59:50 +0800
Processing by Admin::CategoriesController#new as HTML
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (31.2ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 63ms (Views: 59.8ms | ActiveRecord: 0.5ms)


Started POST "/admin/categories" for 127.0.0.1 at 2017-03-01 10:00:01 +0800
Processing by Admin::CategoriesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"MebdYQc2RXiSjUk7qJLpofjLOOutbqDoL9NdgTOcWiM8jfwR78TTqBcX69BVSpV5HzDHZ9pZA55qrnRumYpXBg==", "category"=>{"ancestry"=>"", "title"=>"", "weight"=>"0"}, "commit"=>"新建分类"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  Rendered admin/categories/new.html.erb within admin/layouts/admin (3.4ms)
Completed 500 Internal Server Error in 32ms (ActiveRecord: 0.3ms)


  
ActionView::Template::Error (undefined method `message' for #<ActiveModel::Errors:0x007effee97d8e0>):
    11:     <% unless @category.errors.blank? %>
    12:       <div class="alert alert-danger">
    13:         <ul class="list-unstyled">
    14:           <% @category.errors.message.values.flatten.each do |error| %>
    15:             <li><i class="fa fa-exclamation-circles"></i><%= error %></li>
    16:           <% end -%>
    17:         </ul>
  
app/views/admin/categories/new.html.erb:14:in `block in _app_views_admin_categories_new_html_erb__3356741449268442108_69818842534320'
app/views/admin/categories/new.html.erb:6:in `_app_views_admin_categories_new_html_erb__3356741449268442108_69818842534320'
app/controllers/admin/categories_controller.rb:20:in `create'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.6ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.6ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (22.9ms)
Started POST "/admin/categories" for 127.0.0.1 at 2017-03-01 10:00:59 +0800
Processing by Admin::CategoriesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"MebdYQc2RXiSjUk7qJLpofjLOOutbqDoL9NdgTOcWiM8jfwR78TTqBcX69BVSpV5HzDHZ9pZA55qrnRumYpXBg==", "category"=>{"ancestry"=>"", "title"=>"", "weight"=>"0"}, "commit"=>"新建分类"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (8.2ms)
  Rendered admin/layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 62ms (Views: 57.1ms | ActiveRecord: 1.0ms)


Started POST "/admin/categories" for 127.0.0.1 at 2017-03-01 10:05:28 +0800
Processing by Admin::CategoriesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"MebdYQc2RXiSjUk7qJLpofjLOOutbqDoL9NdgTOcWiM8jfwR78TTqBcX69BVSpV5HzDHZ9pZA55qrnRumYpXBg==", "category"=>{"ancestry"=>"", "title"=>"", "weight"=>"0"}, "commit"=>"新建分类"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (3.8ms)
  Rendered admin/layouts/_menu.html.erb (1.0ms)
Completed 200 OK in 41ms (Views: 26.0ms | ActiveRecord: 1.9ms)


Started POST "/admin/categories" for 127.0.0.1 at 2017-03-01 10:05:44 +0800
Processing by Admin::CategoriesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"YCDzjUzhHmtk/q6JMd1E4UUnssWhmg1FEa/87lcSQwFtS9L9pBOIu+FkDGLMBTg5otxNSdatrjNU0tUB/QROJA==", "category"=>{"ancestry"=>"", "title"=>"a", "weight"=>"10"}, "commit"=>"新建分类"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (4.2ms)[0m  [1m[32mINSERT INTO `categories` (`title`, `weight`, `created_at`, `updated_at`) VALUES ('a', 10, '2017-03-01 02:05:44', '2017-03-01 02:05:44')[0m
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 16ms (ActiveRecord: 7.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 10:05:44 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (5.4ms)
  Rendered admin/layouts/_menu.html.erb (1.1ms)
Completed 200 OK in 33ms (Views: 31.2ms | ActiveRecord: 0.7ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 10:05:59 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (1.0ms)
  Rendered admin/layouts/_menu.html.erb (1.1ms)
Completed 200 OK in 44ms (Views: 42.6ms | ActiveRecord: 0.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 10:06:00 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (4.0ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 29ms (Views: 27.7ms | ActiveRecord: 0.6ms)


Started GET "/admin/categories/new" for 127.0.0.1 at 2017-03-01 10:06:01 +0800
Processing by Admin::CategoriesController#new as HTML
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (1.1ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (6.1ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 37ms (Views: 34.7ms | ActiveRecord: 1.1ms)


Started POST "/admin/categories" for 127.0.0.1 at 2017-03-01 10:06:10 +0800
Processing by Admin::CategoriesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"yHx8UegxFYGzDTfENMZV1IU5GKsvt4w/rsWFhwY5l1/FF10hAMODUTaXlS/JHikMYsLnJ1iAL0nruKxorC+aeg==", "category"=>{"ancestry"=>"4", "title"=>"a1", "weight"=>"100"}, "commit"=>"新建分类"}
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO `categories` (`title`, `weight`, `created_at`, `updated_at`, `ancestry`) VALUES ('a1', 100, '2017-03-01 02:06:10', '2017-03-01 02:06:10', '4')[0m
  [1m[35m (5.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 15ms (ActiveRecord: 7.6ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 10:06:10 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (4.3ms)
  Rendered admin/layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 31ms (Views: 29.2ms | ActiveRecord: 0.7ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 10:30:09 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (8.7ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 36ms (Views: 30.2ms | ActiveRecord: 0.7ms)


Started GET "/admin/categories/4/edit" for 127.0.0.1 at 2017-03-01 10:30:13 +0800
Processing by Admin::CategoriesController#edit as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 4 LIMIT 1[0m
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (6.0ms)
  Rendered admin/layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 62ms (Views: 45.4ms | ActiveRecord: 0.9ms)


Started PUT "/admin/categories/4" for 127.0.0.1 at 2017-03-01 10:30:25 +0800
Processing by Admin::CategoriesController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ZnhsR2FwFkFr5PaZUnzjuZCQEEqvlfnRX04g+mTDg8BrE003iYKAke5+VHKvpJ9hd2vvxtiiWqcaMwkVztWO5Q==", "category"=>{"ancestry"=>"", "title"=>"a2", "weight"=>"11"}, "commit"=>"编辑分类", "id"=>"4"}
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 4 LIMIT 1[0m
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.4ms)


  
NoMethodError (undefined method `attributes=' for nil:NilClass):
  
app/controllers/admin/categories_controller.rb:32:in `update'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.4ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (23.2ms)
Started PUT "/admin/categories/4" for 127.0.0.1 at 2017-03-01 10:31:41 +0800
Processing by Admin::CategoriesController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ZnhsR2FwFkFr5PaZUnzjuZCQEEqvlfnRX04g+mTDg8BrE003iYKAke5+VHKvpJ9hd2vvxtiiWqcaMwkVztWO5Q==", "category"=>{"ancestry"=>"", "title"=>"a2", "weight"=>"11"}, "commit"=>"编辑分类", "id"=>"4"}
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `categories` SET `title` = 'a2', `weight` = 11, `updated_at` = '2017-03-01 02:31:41' WHERE `categories`.`id` = 4[0m
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 22ms (ActiveRecord: 3.2ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 10:31:41 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (4.7ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 28ms (Views: 25.5ms | ActiveRecord: 0.6ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 10:36:36 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (9.6ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 34ms (Views: 28.4ms | ActiveRecord: 0.8ms)


Started GET "/admin/categories?id=2" for 127.0.0.1 at 2017-03-01 10:37:40 +0800
Processing by Admin::CategoriesController#index as HTML
  Parameters: {"id"=>"2"}
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (5.4ms)
  Rendered admin/layouts/_menu.html.erb (8.8ms)
Completed 200 OK in 38ms (Views: 35.3ms | ActiveRecord: 0.6ms)


Started GET "/admin/categories?id=4" for 127.0.0.1 at 2017-03-01 10:37:41 +0800
Processing by Admin::CategoriesController#index as HTML
  Parameters: {"id"=>"4"}
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (3.3ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 22ms (Views: 20.4ms | ActiveRecord: 0.6ms)


Started DELETE "/admin/categories/4" for 127.0.0.1 at 2017-03-01 10:37:51 +0800
Processing by Admin::CategoriesController#destroy as HTML
  Parameters: {"authenticity_token"=>"cgVkYqHJXAdBcmTv1F1otgaPvzioR6to4eWJfcXku/F/bkUSSTvK18ToxgQphRRu4XRAtN9wCB6kmKCSb/K21A==", "id"=>"4"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE (`categories`.`ancestry` LIKE '4/%' OR `categories`.`ancestry` = '4')[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`category_id` = 5[0m
  [1m[35mSQL (0.9ms)[0m  [1m[31mDELETE FROM `categories` WHERE `categories`.`id` = 5[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`category_id` = 4[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `categories` WHERE `categories`.`id` = 4[0m
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 43ms (ActiveRecord: 7.6ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 10:37:51 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (3.0ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 23ms (Views: 21.8ms | ActiveRecord: 0.5ms)


Started DELETE "/admin/categories/2" for 127.0.0.1 at 2017-03-01 10:37:55 +0800
Processing by Admin::CategoriesController#destroy as HTML
  Parameters: {"authenticity_token"=>"IROHn3CEzyBu4jzpupAwxa1BqV5mICAMRZjt+bw1u3UseKbvmHZZ8Ot4ngJHSEwdSrpW0hEXg3oA5cQWFiO2UA==", "id"=>"2"}
  [1m[36mCategory Load (1.1ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE (`categories`.`ancestry` LIKE '2/%' OR `categories`.`ancestry` = '2')[0m
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`category_id` = 3[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM `categories` WHERE `categories`.`id` = 3[0m
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`category_id` = 2[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM `categories` WHERE `categories`.`id` = 2[0m
  [1m[35m (10.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 33ms (ActiveRecord: 15.3ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 10:37:55 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (5.5ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 31ms (Views: 28.9ms | ActiveRecord: 1.1ms)


Started DELETE "/admin/categories/1" for 127.0.0.1 at 2017-03-01 10:37:56 +0800
Processing by Admin::CategoriesController#destroy as HTML
  Parameters: {"authenticity_token"=>"YvBDS5N7Ft5wERn5LvlsKxoiTURowVqUUmoNalXGNQlvm2I7e4mADvWLuxLTIRDz/dmyyB/2+eIXFySF/9A4LA==", "id"=>"1"}
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE (`categories`.`ancestry` LIKE '1/%' OR `categories`.`ancestry` = '1')[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`category_id` = 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM `categories` WHERE `categories`.`id` = 1[0m
  [1m[35m (11.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 21ms (ActiveRecord: 13.4ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 10:37:56 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (3.1ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 31ms (Views: 28.8ms | ActiveRecord: 0.7ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 10:45:02 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (3.1ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 28ms (Views: 22.3ms | ActiveRecord: 0.6ms)


Started GET "/admin/categories/new" for 127.0.0.1 at 2017-03-01 10:45:04 +0800
Processing by Admin::CategoriesController#new as HTML
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (3.3ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 31ms (Views: 22.7ms | ActiveRecord: 1.1ms)


Started POST "/admin/categories" for 127.0.0.1 at 2017-03-01 10:45:29 +0800
Processing by Admin::CategoriesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"XyI/mYRMl+ha/+ejr1Zby5lusHQIaZFMyCCcA6ZjkRFSSR7pbL4BON9lRUhSjicTfpVP+H9eMjqNXbXsDHWcNA==", "category"=>{"ancestry"=>"", "title"=>"aaa", "weight"=>"100"}, "commit"=>"新建分类"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `categories` (`title`, `weight`, `created_at`, `updated_at`) VALUES ('aaa', 100, '2017-03-01 02:45:29', '2017-03-01 02:45:29')[0m
  [1m[35m (14.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 25ms (ActiveRecord: 14.6ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 10:45:29 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (4.5ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 38ms (Views: 35.8ms | ActiveRecord: 0.7ms)


Started GET "/admin/categories/6/edit" for 127.0.0.1 at 2017-03-01 10:45:32 +0800
Processing by Admin::CategoriesController#edit as HTML
  Parameters: {"id"=>"6"}
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 6 LIMIT 1[0m
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (5.3ms)
  Rendered admin/layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 51ms (Views: 47.1ms | ActiveRecord: 1.2ms)


Started PUT "/admin/categories/6" for 127.0.0.1 at 2017-03-01 10:45:40 +0800
Processing by Admin::CategoriesController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"LJUTSh1BgIRHTfVMJHFeuHWPAQ8BLx99LLFjS3XvHvch/jI69bMWVMLXV6fZqSJgknT+g3YYvAtpzEqk3/kT0g==", "category"=>{"ancestry"=>"", "title"=>"aaa 2", "weight"=>"1002"}, "commit"=>"编辑分类", "id"=>"6"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `categories` SET `title` = 'aaa 2', `weight` = 1002, `updated_at` = '2017-03-01 02:45:40' WHERE `categories`.`id` = 6[0m
  [1m[35m (9.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 15ms (ActiveRecord: 9.8ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 10:45:40 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (4.2ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 25ms (Views: 22.9ms | ActiveRecord: 1.0ms)


Started DELETE "/admin/categories/6" for 127.0.0.1 at 2017-03-01 10:45:47 +0800
Processing by Admin::CategoriesController#destroy as HTML
  Parameters: {"authenticity_token"=>"xZmynQh1gsEgUITKvf8iwUvA8O++gIsEqDxjIRbLgFbI8pPt4IcUEaXKJiFAJ14ZrDsPY8m3KHLtQUrOvN2Ncw==", "id"=>"6"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 6 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Load (1.2ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE (`categories`.`ancestry` LIKE '6/%' OR `categories`.`ancestry` = '6')[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`category_id` = 6[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM `categories` WHERE `categories`.`id` = 6[0m
  [1m[35m (11.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 33ms (ActiveRecord: 15.2ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 10:45:47 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (3.1ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 38ms (Views: 36.2ms | ActiveRecord: 0.5ms)


Started GET "/admin/categories/new" for 127.0.0.1 at 2017-03-01 10:45:58 +0800
Processing by Admin::CategoriesController#new as HTML
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (3.3ms)
  Rendered admin/layouts/_menu.html.erb (1.1ms)
Completed 200 OK in 26ms (Views: 23.6ms | ActiveRecord: 0.4ms)


Started POST "/admin/categories" for 127.0.0.1 at 2017-03-01 10:46:01 +0800
Processing by Admin::CategoriesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"P0STzEdq3czRLzPNeAUI8rgEXjBKPU+nmZZlmfq6SMIyL7K8r5hLHFS1kSaF3XQqX/+hvD0K7NHc60x2UKxF5w==", "category"=>{"ancestry"=>"", "title"=>"aa", "weight"=>"0"}, "commit"=>"新建分类"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `categories` (`title`, `created_at`, `updated_at`) VALUES ('aa', '2017-03-01 02:46:01', '2017-03-01 02:46:01')[0m
  [1m[35m (4.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 10ms (ActiveRecord: 5.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 10:46:01 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (4.8ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 29ms (Views: 27.2ms | ActiveRecord: 0.7ms)


Started GET "/admin/categories/new" for 127.0.0.1 at 2017-03-01 10:46:10 +0800
Processing by Admin::CategoriesController#new as HTML
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (5.7ms)
  Rendered admin/layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 53ms (Views: 49.9ms | ActiveRecord: 0.6ms)


Started POST "/admin/categories" for 127.0.0.1 at 2017-03-01 10:46:33 +0800
Processing by Admin::CategoriesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"tkRbpGozPhfrTgLvn16VmxQVmUnpJTEpbRQqUY3xf9y7L3rUgsGox27UoARihulD8+5mxZ4Skl8oaQO+J+dy+Q==", "category"=>{"ancestry"=>"7", "title"=>"aa 2", "weight"=>"0"}, "commit"=>"新建分类"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `categories` (`title`, `created_at`, `updated_at`, `ancestry`) VALUES ('aa 2', '2017-03-01 02:46:33', '2017-03-01 02:46:33', '7')[0m
  [1m[35m (9.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 17ms (ActiveRecord: 9.7ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 10:46:33 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (6.0ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 35ms (Views: 32.5ms | ActiveRecord: 1.2ms)


Started DELETE "/admin/categories/7" for 127.0.0.1 at 2017-03-01 10:47:13 +0800
Processing by Admin::CategoriesController#destroy as HTML
  Parameters: {"authenticity_token"=>"24F6oHInVuY4WAqZawiuqu4NIPHlhkiUA3XTYDjJ0EfW6lvQmtXANr3CqHKW0NJyCfbffZKx6+JGCPqPkt/dYg==", "id"=>"7"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE (`categories`.`ancestry` LIKE '7/%' OR `categories`.`ancestry` = '7')[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`category_id` = 8[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM `categories` WHERE `categories`.`id` = 8[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`category_id` = 7[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `categories` WHERE `categories`.`id` = 7[0m
  [1m[35m (11.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 22ms (ActiveRecord: 13.8ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 10:47:13 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (2.6ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 21ms (Views: 19.1ms | ActiveRecord: 0.5ms)


Started GET "/admin/categories/new" for 127.0.0.1 at 2017-03-01 10:47:17 +0800
Processing by Admin::CategoriesController#new as HTML
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (2.5ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 23ms (Views: 21.6ms | ActiveRecord: 0.3ms)


Started POST "/admin/categories" for 127.0.0.1 at 2017-03-01 10:47:58 +0800
Processing by Admin::CategoriesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"gkmRRZXZXpTjSXDvZLaF2VVstf+EK2T51JarQgHdO4WPIrA1fSvIRGbT0gSZbvkBspdKc/Mcx4+R64Ktq8s2oA==", "category"=>{"ancestry"=>"", "title"=>"手机", "weight"=>"19"}, "commit"=>"新建分类"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO `categories` (`title`, `weight`, `created_at`, `updated_at`) VALUES ('手机', 19, '2017-03-01 02:47:58', '2017-03-01 02:47:58')[0m
  [1m[35m (9.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 16ms (ActiveRecord: 10.5ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 10:47:58 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (4.4ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 32ms (Views: 30.0ms | ActiveRecord: 0.7ms)


Started GET "/admin/categories/new" for 127.0.0.1 at 2017-03-01 10:48:03 +0800
Processing by Admin::CategoriesController#new as HTML
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (4.9ms)
  Rendered admin/layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 52ms (Views: 49.2ms | ActiveRecord: 0.5ms)


Started POST "/admin/categories" for 127.0.0.1 at 2017-03-01 10:48:13 +0800
Processing by Admin::CategoriesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"rEbJqxAveYQH1+sRQknAzobCCbh/sVywY9wshJicuUuhLejb+N3vVIJNSfq/kbwWYTn2NAiG/8YmoQVrMoq0bg==", "category"=>{"ancestry"=>"", "title"=>"主机游戏", "weight"=>"10"}, "commit"=>"新建分类"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `categories` (`title`, `weight`, `created_at`, `updated_at`) VALUES ('主机游戏', 10, '2017-03-01 02:48:13', '2017-03-01 02:48:13')[0m
  [1m[35m (11.5ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 19ms (ActiveRecord: 12.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 10:48:13 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (5.1ms)
  Rendered admin/layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 40ms (Views: 36.4ms | ActiveRecord: 0.8ms)


Started GET "/admin/categories/new" for 127.0.0.1 at 2017-03-01 10:49:15 +0800
Processing by Admin::CategoriesController#new as HTML
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (3.1ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 25ms (Views: 24.0ms | ActiveRecord: 0.3ms)


Started GET "/admin/categories/new" for 127.0.0.1 at 2017-03-01 10:57:20 +0800
  
SyntaxError (/home/code/master_rails_by_actions/app/controllers/admin/categories_controller.rb:65: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/admin/categories_controller.rb:65: syntax error, unexpected end-of-input, expecting keyword_end
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.5ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (19.4ms)
Started GET "/admin/categories/new" for 127.0.0.1 at 2017-03-01 11:00:29 +0800
Processing by Admin::CategoriesController#new as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `find_root_categories' for #<Admin::CategoriesController:0x007effeda245b0>):
  
activesupport (5.0.1) lib/active_support/callbacks.rb:382:in `block in make_lambda'
activesupport (5.0.1) lib/active_support/callbacks.rb:150:in `call'
activesupport (5.0.1) lib/active_support/callbacks.rb:150:in `block (2 levels) in halting_and_conditional'
actionpack (5.0.1) lib/abstract_controller/callbacks.rb:12:in `call'
actionpack (5.0.1) lib/abstract_controller/callbacks.rb:12:in `block (2 levels) in <module:Callbacks>'
activesupport (5.0.1) lib/active_support/callbacks.rb:151:in `call'
activesupport (5.0.1) lib/active_support/callbacks.rb:151:in `block in halting_and_conditional'
activesupport (5.0.1) lib/active_support/callbacks.rb:454:in `call'
activesupport (5.0.1) lib/active_support/callbacks.rb:454:in `block in call'
activesupport (5.0.1) lib/active_support/callbacks.rb:454:in `each'
activesupport (5.0.1) lib/active_support/callbacks.rb:454:in `call'
activesupport (5.0.1) lib/active_support/callbacks.rb:101:in `__run_callbacks__'
activesupport (5.0.1) lib/active_support/callbacks.rb:750:in `_run_process_action_callbacks'
activesupport (5.0.1) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.1) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (5.0.1) lib/action_controller/metal/rescue.rb:20:in `process_action'
actionpack (5.0.1) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.0.1) lib/active_support/notifications.rb:164:in `block in instrument'
activesupport (5.0.1) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.0.1) lib/active_support/notifications.rb:164:in `instrument'
actionpack (5.0.1) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.0.1) lib/action_controller/metal/params_wrapper.rb:248:in `process_action'
activerecord (5.0.1) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
actionpack (5.0.1) lib/abstract_controller/base.rb:126:in `process'
actionview (5.0.1) lib/action_view/rendering.rb:30:in `process'
actionpack (5.0.1) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (5.0.1) lib/action_controller/metal.rb:262:in `dispatch'
actionpack (5.0.1) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (5.0.1) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (5.0.1) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.1) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.1) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.1) lib/action_dispatch/routing/route_set.rb:725:in `call'
rack (2.0.1) lib/rack/etag.rb:25:in `call'
rack (2.0.1) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.1) lib/rack/head.rb:12:in `call'
rack (2.0.1) lib/rack/session/abstract/id.rb:222:in `context'
rack (2.0.1) lib/rack/session/abstract/id.rb:216:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.0.1) lib/active_record/migration.rb:553:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.1) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.1) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.1) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.1) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.4.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.4.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.1) lib/rails/engine.rb:522:in `call'
rack (2.0.1) lib/rack/handler/webrick.rb:86:in `service'
/home/code/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
/home/code/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
/home/code/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.8ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (10.3ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (32.7ms)
Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 11:02:51 +0800
Processing by Admin::CategoriesController#index as HTML
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
Completed 500 Internal Server Error in 22ms (ActiveRecord: 0.0ms)


  
NameError (undefined local variable or method `private' for #<Admin::CategoriesController:0x007effee4396e0>):
  
app/controllers/admin/categories_controller.rb:56:in `index'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.7ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (21.3ms)
Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 11:04:46 +0800
Processing by Admin::CategoriesController#index as HTML
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.0ms)


  
NameError (undefined local variable or method `private' for #<Admin::CategoriesController:0x007effed8f7098>):
  
app/controllers/admin/categories_controller.rb:56:in `index'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.4ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (23.5ms)
Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 11:06:23 +0800
Processing by Admin::CategoriesController#index as HTML
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.0ms)


  
NameError (undefined local variable or method `private' for #<Admin::CategoriesController:0x007effed225af8>):
  
app/controllers/admin/categories_controller.rb:56:in `index'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.5ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.2ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.7ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (27.1ms)
Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 11:10:00 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (10.1ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 39ms (Views: 31.6ms | ActiveRecord: 0.7ms)


Started GET "/admin/categories?id=10" for 127.0.0.1 at 2017-03-01 11:10:15 +0800
Processing by Admin::CategoriesController#index as HTML
  Parameters: {"id"=>"10"}
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 10 LIMIT 1[0m
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` = '10'[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (4.1ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 32ms (Views: 27.5ms | ActiveRecord: 1.3ms)


Started GET "/admin/categories/new" for 127.0.0.1 at 2017-03-01 11:10:42 +0800
Processing by Admin::CategoriesController#new as HTML
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (3.6ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 26ms (Views: 24.3ms | ActiveRecord: 0.5ms)


Started POST "/admin/categories" for 127.0.0.1 at 2017-03-01 11:11:12 +0800
Processing by Admin::CategoriesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"/OeQDngokFbWhOxVFuGCxDg0BDCJmJM3Dx7zXFGn3jLxjLF+kNoGhlMeTr7rOf4c38/7vP6vMEFKY9qz+7HTFw==", "category"=>{"ancestry"=>"9", "title"=>"iphone", "weight"=>"10"}, "commit"=>"新建分类"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.6ms)[0m  [1m[32mINSERT INTO `categories` (`title`, `weight`, `created_at`, `updated_at`, `ancestry`) VALUES ('iphone', 10, '2017-03-01 03:11:12', '2017-03-01 03:11:12', '9')[0m
  [1m[35m (14.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 25ms (ActiveRecord: 16.7ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 11:11:12 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (5.1ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 37ms (Views: 34.8ms | ActiveRecord: 0.7ms)


Started GET "/admin/categories?id=10" for 127.0.0.1 at 2017-03-01 11:11:14 +0800
Processing by Admin::CategoriesController#index as HTML
  Parameters: {"id"=>"10"}
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 10 LIMIT 1[0m
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` = '10'[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (7.6ms)
  Rendered admin/layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 48ms (Views: 43.1ms | ActiveRecord: 1.6ms)


Started GET "/admin/categories?id=9" for 127.0.0.1 at 2017-03-01 11:11:21 +0800
Processing by Admin::CategoriesController#index as HTML
  Parameters: {"id"=>"9"}
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 9 LIMIT 1[0m
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` = '9'[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (5.6ms)
  Rendered admin/layouts/_menu.html.erb (1.1ms)
Completed 200 OK in 60ms (Views: 55.5ms | ActiveRecord: 1.5ms)


Started GET "/admin/categories/11/edit" for 127.0.0.1 at 2017-03-01 11:11:38 +0800
Processing by Admin::CategoriesController#edit as HTML
  Parameters: {"id"=>"11"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 11 LIMIT 1[0m
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (3.7ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 28ms (Views: 26.2ms | ActiveRecord: 0.7ms)


Started PUT "/admin/categories/11" for 127.0.0.1 at 2017-03-01 11:11:53 +0800
Processing by Admin::CategoriesController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"U/c0dljGb3iBtUX507Y1nO0nSRKxLMCNtb+clNVmW8NenBUGsDT5qAQv5xIubklECty2nsYbY/vwwrV7f3BW5g==", "category"=>{"ancestry"=>"9", "title"=>"iphone 7", "weight"=>"100"}, "commit"=>"编辑分类", "id"=>"11"}
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE `categories` SET `title` = 'iphone 7', `weight` = 100, `updated_at` = '2017-03-01 03:11:53' WHERE `categories`.`id` = 11[0m
  [1m[35m (12.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 21ms (ActiveRecord: 13.9ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 11:11:53 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (4.4ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 32ms (Views: 30.5ms | ActiveRecord: 0.7ms)


Started GET "/admin/categories?id=9" for 127.0.0.1 at 2017-03-01 11:11:55 +0800
Processing by Admin::CategoriesController#index as HTML
  Parameters: {"id"=>"9"}
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 9 LIMIT 1[0m
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` = '9'[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (2.7ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 23ms (Views: 20.1ms | ActiveRecord: 1.0ms)


Started DELETE "/admin/categories/11" for 127.0.0.1 at 2017-03-01 11:12:07 +0800
Processing by Admin::CategoriesController#destroy as HTML
  Parameters: {"authenticity_token"=>"bf/BKqETL5DcptnCDgXZSngu4g+il/XllJ5SDAiHeU1glOBaSeG5QFk8eynz3aWSn9Udg9WgVpPR43vjopF0aA==", "id"=>"11"}
  [1m[36mCategory Load (2.8ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Load (1.0ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE (`categories`.`ancestry` LIKE '9/11/%' OR `categories`.`ancestry` = '9/11')[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`category_id` = 11[0m
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM `categories` WHERE `categories`.`id` = 11[0m
  [1m[35m (13.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 39ms (ActiveRecord: 18.6ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 11:12:07 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (5.7ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 33ms (Views: 31.2ms | ActiveRecord: 0.7ms)


Started GET "/admin/categories?id=9" for 127.0.0.1 at 2017-03-01 11:12:09 +0800
Processing by Admin::CategoriesController#index as HTML
  Parameters: {"id"=>"9"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 9 LIMIT 1[0m
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` = '9'[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (5.7ms)
  Rendered admin/layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 31ms (Views: 28.4ms | ActiveRecord: 0.9ms)


Started GET "/admin/categories?id=9" for 127.0.0.1 at 2017-03-01 11:23:21 +0800
Processing by Admin::CategoriesController#index as HTML
  Parameters: {"id"=>"9"}
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 9 LIMIT 1[0m
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` = '9'[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (3.4ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 57ms (Views: 28.8ms | ActiveRecord: 1.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 11:23:26 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (4.9ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 35ms (Views: 31.4ms | ActiveRecord: 0.8ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 11:29:03 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (1.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (7.7ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 1717ms (Views: 1713.2ms | ActiveRecord: 1.7ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 11:29:07 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.5ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 25ms (Views: 23.8ms | ActiveRecord: 0.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 11:29:07 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (5.5ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 40ms (Views: 36.7ms | ActiveRecord: 0.7ms)


Started GET "/admin/categories/new" for 127.0.0.1 at 2017-03-01 11:29:12 +0800
Processing by Admin::CategoriesController#new as HTML
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (3.1ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 31ms (Views: 29.7ms | ActiveRecord: 0.3ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 11:34:22 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.3ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 19ms (Views: 18.8ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 11:34:23 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.4ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 27ms (Views: 26.3ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 11:34:23 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.4ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 28ms (Views: 27.7ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 11:34:24 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (1.0ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 44ms (Views: 43.7ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 11:34:24 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.3ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 20ms (Views: 19.8ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 11:34:24 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.3ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 23ms (Views: 22.3ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 11:34:25 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.4ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 24ms (Views: 23.4ms | ActiveRecord: 0.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 11:34:25 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (9.1ms)
  Rendered admin/layouts/_menu.html.erb (0.4ms)
Completed 200 OK in 34ms (Views: 27.9ms | ActiveRecord: 1.1ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 11:34:26 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.4ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 30ms (Views: 29.3ms | ActiveRecord: 0.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 11:34:26 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (6.3ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 37ms (Views: 34.4ms | ActiveRecord: 0.8ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 11:34:27 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.5ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 22ms (Views: 21.2ms | ActiveRecord: 0.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 11:34:27 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (6.2ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 30ms (Views: 28.2ms | ActiveRecord: 0.6ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 11:34:27 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (1.1ms)
  Rendered admin/layouts/_menu.html.erb (1.2ms)
Completed 200 OK in 21ms (Views: 20.7ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 11:34:28 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.6ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 29ms (Views: 28.2ms | ActiveRecord: 0.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 11:34:29 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (5.1ms)
  Rendered admin/layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 35ms (Views: 33.0ms | ActiveRecord: 1.1ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 11:34:30 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.8ms)
  Rendered admin/layouts/_menu.html.erb (1.1ms)
Completed 200 OK in 41ms (Views: 39.8ms | ActiveRecord: 0.0ms)


Started GET "/admin/new" for 127.0.0.1 at 2017-03-01 11:35:05 +0800
  
ActionController::RoutingError (No route matches [GET] "/admin/new"):
  
actionpack (5.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.4.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.4.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.1) lib/rails/engine.rb:522:in `call'
rack (2.0.1) lib/rack/handler/webrick.rb:86:in `service'
/home/code/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
/home/code/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
/home/code/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.6ms)
  Rendered collection of /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/routes/_route.html.erb [35 times] (13.7ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/routes/_table.html.erb (2.3ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (54.1ms)
Started GET "/admin" for 127.0.0.1 at 2017-03-01 11:38:33 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.8ms)
  Rendered admin/layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 37ms (Views: 36.5ms | ActiveRecord: 0.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 11:38:35 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (7.3ms)
  Rendered admin/layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 44ms (Views: 41.1ms | ActiveRecord: 1.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 11:38:36 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.6ms)
  Rendered admin/layouts/_menu.html.erb (1.0ms)
Completed 200 OK in 33ms (Views: 32.3ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 11:38:37 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.6ms)
  Rendered admin/layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 34ms (Views: 32.8ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 11:38:38 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.4ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 25ms (Views: 23.8ms | ActiveRecord: 0.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 11:56:05 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (3.0ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 21ms (Views: 19.7ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2017-03-01 12:00:28 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.5ms)
  Rendered layouts/_menu.html.erb (1.0ms)
Completed 200 OK in 1729ms (Views: 1728.7ms | ActiveRecord: 0.0ms)


Started GET "/admin/new" for 127.0.0.1 at 2017-03-01 14:57:14 +0800
  
ActionController::RoutingError (No route matches [GET] "/admin/new"):
  
actionpack (5.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.4.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.4.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.1) lib/rails/engine.rb:522:in `call'
rack (2.0.1) lib/rack/handler/webrick.rb:86:in `service'
/home/code/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
/home/code/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
/home/code/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendered collection of /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/routes/_route.html.erb [35 times] (22.5ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.4ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (64.6ms)
Started GET "/admin" for 127.0.0.1 at 2017-03-01 14:57:23 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (1.6ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 41ms (Views: 40.6ms | ActiveRecord: 0.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 14:57:25 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (8.4ms)
  Rendered admin/layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 42ms (Views: 38.2ms | ActiveRecord: 1.2ms)


Started GET "/admin/categories/new" for 127.0.0.1 at 2017-03-01 14:57:29 +0800
Processing by Admin::CategoriesController#new as HTML
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (7.0ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 41ms (Views: 38.6ms | ActiveRecord: 0.4ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 14:58:17 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.4ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 32ms (Views: 30.8ms | ActiveRecord: 0.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 14:58:22 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (7.2ms)
  Rendered admin/layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 50ms (Views: 46.6ms | ActiveRecord: 1.0ms)


Started GET "/admin/categories/new" for 127.0.0.1 at 2017-03-01 14:59:31 +0800
Processing by Admin::CategoriesController#new as HTML
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (1.0ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (5.1ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 40ms (Views: 37.5ms | ActiveRecord: 1.0ms)


Started GET "/admin/categories/new" for 127.0.0.1 at 2017-03-01 14:59:47 +0800
Processing by Admin::CategoriesController#new as HTML
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (8.2ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 33ms (Views: 31.5ms | ActiveRecord: 0.4ms)


Started POST "/admin/categories" for 127.0.0.1 at 2017-03-01 15:00:00 +0800
Processing by Admin::CategoriesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"JLj9LzXwHXis3avYezww0QXRM1Zlg4y5cCmhrkxkInsp09xf3QKLqClHCTOG5EwJ4irM2hK0L881VIhB5nIvXg==", "category"=>{"ancestry"=>"10", "title"=>"阿三大大宋", "weight"=>"10"}, "commit"=>"新建分类"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `categories` WHERE `categories`.`title` = BINARY '阿三大大宋' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO `categories` (`title`, `weight`, `created_at`, `updated_at`, `ancestry`) VALUES ('阿三大大宋', 10, '2017-03-01 07:00:00', '2017-03-01 07:00:00', '10')[0m
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 33ms (ActiveRecord: 3.7ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 15:00:00 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (6.4ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 40ms (Views: 37.3ms | ActiveRecord: 0.7ms)


Started GET "/admin/categories?id=10" for 127.0.0.1 at 2017-03-01 15:00:03 +0800
Processing by Admin::CategoriesController#index as HTML
  Parameters: {"id"=>"10"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 10 LIMIT 1[0m
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (9.8ms)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.6ms)


  
ActionView::Template::Error (undefined local variable or method `categories' for #<#<Class:0x007effc11e8058>:0x007effc140efd0>):
     5: 
     6:   <h1>
     7:     <% if @category %>
     8:       分类:<%= @category.title %>(<%= categories.total_entries %>)
     9:     <% else %>
    10:       分类(<%= @categories.total_entries %>)
    11:     <% end -%>
  
app/views/admin/categories/index.html.erb:8:in `_app_views_admin_categories_index_html_erb__4352280971972282380_69818462010880'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.1ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (22.9ms)
Started GET "/admin/categories?id=10" for 127.0.0.1 at 2017-03-01 15:02:41 +0800
Processing by Admin::CategoriesController#index as HTML
  Parameters: {"id"=>"10"}
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 10 LIMIT 1[0m
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` = '10'[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (2.8ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 24ms (Views: 21.8ms | ActiveRecord: 0.9ms)


Started DELETE "/admin/categories/12" for 127.0.0.1 at 2017-03-01 15:02:51 +0800
Processing by Admin::CategoriesController#destroy as HTML
  Parameters: {"authenticity_token"=>"nb5bF7qsom+ApbPNMvivR98fQnVokM3oCgk073HWllKQ1XpnUl40vwU/ESbPINOfOOS9+R+nbp5PdB0A28Cbdw==", "id"=>"12"}
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 12 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE (`categories`.`ancestry` LIKE '10/12/%' OR `categories`.`ancestry` = '10/12')[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`category_id` = 12[0m
  [1m[35mSQL (1.2ms)[0m  [1m[31mDELETE FROM `categories` WHERE `categories`.`id` = 12[0m
  [1m[35m (11.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 34ms (ActiveRecord: 14.7ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 15:02:51 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (4.0ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 27ms (Views: 24.7ms | ActiveRecord: 0.6ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 15:07:07 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  Rendered admin/categories/index.html.erb within admin/layouts/admin (4.1ms)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `total_entries' for nil:NilClass):
     7:     <% if @category %>
     8:       分类:<%= @category.title %>(<%= @category.total_entries %>) 
     9:     <% else -%>
    10:       分类(<%= @category.total_entries %>)
    11:     <% end -%> 
    12:   </h1>
    13: </div>
  
app/views/admin/categories/index.html.erb:10:in `_app_views_admin_categories_index_html_erb__4352280971972282380_69818459021320'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.3ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.8ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (24.5ms)
Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 15:07:58 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  Rendered admin/categories/index.html.erb within admin/layouts/admin (2.6ms)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `total_entries' for nil:NilClass):
     7:     <% if @category %>
     8:       分类:<%= @category.title %>(<%= @category.total_entries %>) 
     9:     <% else -%>
    10:       分类(<%= @category.total_entries %>)
    11:     <% end -%> 
    12:   </h1>
    13: </div>
  
app/views/admin/categories/index.html.erb:10:in `_app_views_admin_categories_index_html_erb__4352280971972282380_69818453752300'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.8ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (22.4ms)
Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 15:09:05 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (4.1ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 32ms (Views: 29.6ms | ActiveRecord: 0.6ms)


Started GET "/admin/categories/new" for 127.0.0.1 at 2017-03-01 15:18:13 +0800
Processing by Admin::CategoriesController#new as HTML
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (5.4ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 31ms (Views: 29.0ms | ActiveRecord: 0.5ms)


Started POST "/admin/categories" for 127.0.0.1 at 2017-03-01 15:18:24 +0800
Processing by Admin::CategoriesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ARPGXzsj2mFL9Cv8pjlX+Zxvpe/YX8dC5+X94lJw/EIMeOcv09FMsc5uiRdb4Sshe5RaY69oZDSimNQN+GbxZw==", "category"=>{"ancestry"=>"10", "title"=>"123", "weight"=>"123"}, "commit"=>"新建分类"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `categories` WHERE `categories`.`title` = BINARY '123' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `categories` (`title`, `weight`, `created_at`, `updated_at`, `ancestry`) VALUES ('123', 123, '2017-03-01 07:18:24', '2017-03-01 07:18:24', '10')[0m
  [1m[35m (3.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 11ms (ActiveRecord: 4.9ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 15:18:24 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (3.7ms)
  Rendered admin/layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 34ms (Views: 32.1ms | ActiveRecord: 0.6ms)


Started GET "/admin/categories?id=10" for 127.0.0.1 at 2017-03-01 15:18:26 +0800
Processing by Admin::CategoriesController#index as HTML
  Parameters: {"id"=>"10"}
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 10 LIMIT 1[0m
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` = '10'[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (4.8ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 38ms (Views: 32.8ms | ActiveRecord: 1.1ms)


Started GET "/admin/categories/13/edit" for 127.0.0.1 at 2017-03-01 15:18:33 +0800
Processing by Admin::CategoriesController#edit as HTML
  Parameters: {"id"=>"13"}
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 13 LIMIT 1[0m
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (5.2ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 33ms (Views: 29.7ms | ActiveRecord: 0.9ms)


Started DELETE "/admin/categories/13" for 127.0.0.1 at 2017-03-01 15:18:48 +0800
Processing by Admin::CategoriesController#destroy as HTML
  Parameters: {"authenticity_token"=>"tFThcIuedREmqGawik8s2ZEKlaKw6oJHzcelVsZ9jl65P8AAY2zjwaMyxFt3l1ABdvFqLsfdITGIuoy5bGuDew==", "id"=>"13"}
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 13 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE (`categories`.`ancestry` LIKE '10/13/%' OR `categories`.`ancestry` = '10/13')[0m
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`category_id` = 13[0m
  [1m[35mSQL (2.7ms)[0m  [1m[31mDELETE FROM `categories` WHERE `categories`.`id` = 13[0m
  [1m[35m (10.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 30ms (ActiveRecord: 15.3ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 15:18:48 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (5.0ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 34ms (Views: 31.4ms | ActiveRecord: 0.8ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 15:41:26 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (9.4ms)
  Rendered admin/layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 51ms (Views: 47.4ms | ActiveRecord: 1.1ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 15:41:28 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.3ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 20ms (Views: 19.3ms | ActiveRecord: 0.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 15:41:29 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (7.1ms)
  Rendered admin/layouts/_menu.html.erb (1.2ms)
Completed 200 OK in 45ms (Views: 41.0ms | ActiveRecord: 1.5ms)


Started GET "/admin/categories/new" for 127.0.0.1 at 2017-03-01 15:41:59 +0800
Processing by Admin::CategoriesController#new as HTML
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.9ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (7.1ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 37ms (Views: 34.9ms | ActiveRecord: 0.9ms)


Started GET "/admin/categories/new" for 127.0.0.1 at 2017-03-01 15:42:54 +0800
Processing by Admin::CategoriesController#new as HTML
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (3.1ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 24ms (Views: 22.1ms | ActiveRecord: 0.6ms)


Started GET "/admin/categories/new" for 127.0.0.1 at 2017-03-01 16:44:30 +0800
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:CategoriesController> at /home/code/master_rails_by_actions/app/controllers/admin/categories_controller.rb:3)
Processing by Admin::CategoriesController#new as HTML
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (4.0ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 40ms (Views: 26.1ms | ActiveRecord: 0.4ms)


Started POST "/admin/categories" for 127.0.0.1 at 2017-03-01 16:47:48 +0800
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:CategoriesController> at /home/code/master_rails_by_actions/app/controllers/admin/categories_controller.rb:3)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:CategoriesController> at /home/code/master_rails_by_actions/app/controllers/admin/categories_controller.rb:4)
Processing by Admin::CategoriesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"jmktPso0od5XcT0FG/dkNnATziZ0FOz3Ox0Xo934LhyDAgxOIsY3DtLrn+7mLxjul+gxqgMjT4F+YD5Md+4jOQ==", "category"=>{"ancestry"=>"", "title"=>"sdf", "weight"=>"01"}, "commit"=>"新建分类"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `categories` WHERE `categories`.`title` = BINARY 'sdf' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `categories` (`title`, `weight`, `created_at`, `updated_at`) VALUES ('sdf', 1, '2017-03-01 08:47:48', '2017-03-01 08:47:48')[0m
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 16ms (ActiveRecord: 3.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 16:47:48 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (3.5ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 21ms (Views: 19.5ms | ActiveRecord: 0.6ms)


Started GET "/admin/categories/14/edit" for 127.0.0.1 at 2017-03-01 16:48:07 +0800
Processing by Admin::CategoriesController#edit as HTML
  Parameters: {"id"=>"14"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 14 LIMIT 1[0m
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (2.7ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 22ms (Views: 20.5ms | ActiveRecord: 0.6ms)


Started PUT "/admin/categories/14" for 127.0.0.1 at 2017-03-01 16:48:14 +0800
Processing by Admin::CategoriesController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"rX8wXLrXg2fJlqso0WEwOAJSaCqMVzN94KdB1Q7zdPSgFBEsUiUVt0wMCcMsuUzg5amXpvtgkAul2mg6pOV50Q==", "category"=>{"ancestry"=>"", "title"=>"sdffg", "weight"=>"10"}, "commit"=>"编辑分类", "id"=>"14"}
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM `categories` WHERE `categories`.`title` = BINARY 'sdffg' AND (`categories`.`id` != 14) LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE `categories` SET `title` = 'sdffg', `weight` = 10, `updated_at` = '2017-03-01 08:48:15' WHERE `categories`.`id` = 14[0m
  [1m[35m (14.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 30ms (ActiveRecord: 17.3ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 16:48:15 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (4.9ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 34ms (Views: 32.0ms | ActiveRecord: 0.7ms)


Started DELETE "/admin/categories/14" for 127.0.0.1 at 2017-03-01 16:48:34 +0800
Processing by Admin::CategoriesController#destroy as HTML
  Parameters: {"authenticity_token"=>"GOxjgWQfU9FRWE1RkqRRjbpRddvu/49Dvx7qDZ58gboVh0LxjO3FAdTC77pvfC1VXaqKV5nILDX6Y8PiNGqMnw==", "id"=>"14"}
  [1m[36mCategory Load (1.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE (`categories`.`ancestry` LIKE '14/%' OR `categories`.`ancestry` = '14')[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`category_id` = 14[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM `categories` WHERE `categories`.`id` = 14[0m
  [1m[35m (11.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 34ms (ActiveRecord: 15.6ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 16:48:34 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (5.7ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 26ms (Views: 23.1ms | ActiveRecord: 1.1ms)


Started GET "/admin/categories/new" for 127.0.0.1 at 2017-03-01 16:48:48 +0800
Processing by Admin::CategoriesController#new as HTML
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (10.3ms)
  Rendered admin/layouts/_menu.html.erb (1.1ms)
Completed 200 OK in 46ms (Views: 44.2ms | ActiveRecord: 0.4ms)


Started POST "/admin/categories" for 127.0.0.1 at 2017-03-01 16:49:16 +0800
Processing by Admin::CategoriesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"EwMlfw/Skg9fFJbVt7xq0ELLrK4B3HGKzleay9frNSMeaAQP5yAE39qOND5KZBYIpTBTInbr0vyLKrMkff04Bg==", "category"=>{"ancestry"=>"9", "title"=>"王者荣耀", "weight"=>"100"}, "commit"=>"新建分类"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `categories` WHERE `categories`.`title` = BINARY '王者荣耀' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `categories` (`title`, `weight`, `created_at`, `updated_at`, `ancestry`) VALUES ('王者荣耀', 100, '2017-03-01 08:49:16', '2017-03-01 08:49:16', '9')[0m
  [1m[35m (4.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 13ms (ActiveRecord: 5.9ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 16:49:16 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (5.1ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 31ms (Views: 28.7ms | ActiveRecord: 0.9ms)


Started GET "/admin/categories?id=10" for 127.0.0.1 at 2017-03-01 16:49:19 +0800
Processing by Admin::CategoriesController#index as HTML
  Parameters: {"id"=>"10"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 10 LIMIT 1[0m
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` = '10'[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (3.4ms)
  Rendered admin/layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 25ms (Views: 20.9ms | ActiveRecord: 0.9ms)


Started GET "/admin/categories?id=9" for 127.0.0.1 at 2017-03-01 16:49:24 +0800
Processing by Admin::CategoriesController#index as HTML
  Parameters: {"id"=>"9"}
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 9 LIMIT 1[0m
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` = '9'[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (5.0ms)
  Rendered admin/layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 38ms (Views: 33.8ms | ActiveRecord: 1.7ms)


Started GET "/admin/categories/new" for 127.0.0.1 at 2017-03-01 16:49:33 +0800
Processing by Admin::CategoriesController#new as HTML
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (4.1ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 40ms (Views: 37.4ms | ActiveRecord: 0.6ms)


Started GET "/admin/categories/9/edit" for 127.0.0.1 at 2017-03-01 16:49:38 +0800
Processing by Admin::CategoriesController#edit as HTML
  Parameters: {"id"=>"9"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 9 LIMIT 1[0m
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (3.0ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 34ms (Views: 32.1ms | ActiveRecord: 0.8ms)


Started GET "/admin/categories?id=10" for 127.0.0.1 at 2017-03-01 17:27:37 +0800
Processing by Admin::CategoriesController#index as HTML
  Parameters: {"id"=>"10"}
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 10 LIMIT 1[0m
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` = '10'[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (4.0ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 41ms (Views: 37.1ms | ActiveRecord: 1.3ms)


Started GET "/admin/categories?id=9" for 127.0.0.1 at 2017-03-01 17:27:44 +0800
Processing by Admin::CategoriesController#index as HTML
  Parameters: {"id"=>"9"}
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 9 LIMIT 1[0m
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` = '9'[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (2.7ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 26ms (Views: 21.5ms | ActiveRecord: 1.1ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 17:28:45 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (4.7ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 30ms (Views: 27.9ms | ActiveRecord: 0.6ms)


Started GET "/admin/categories?id=10" for 127.0.0.1 at 2017-03-01 17:29:41 +0800
Processing by Admin::CategoriesController#index as HTML
  Parameters: {"id"=>"10"}
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 10 LIMIT 1[0m
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` = '10'[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (2.4ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 25ms (Views: 22.1ms | ActiveRecord: 1.1ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 17:37:00 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.4ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 29ms (Views: 27.4ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 17:39:20 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.5ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 37ms (Views: 35.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-03-02 09:35:18 +0800
  [1m[36mActiveRecord::SchemaMigration Load (1.4ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.4ms)
  Rendered layouts/_menu.html.erb (3.8ms)
Completed 200 OK in 441ms (Views: 439.9ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-02 09:35:25 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.6ms)
  Rendered admin/layouts/_menu.html.erb (1.2ms)
Completed 200 OK in 73ms (Views: 71.4ms | ActiveRecord: 0.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-02 09:35:28 +0800
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:CategoriesController> at /home/code/master_rails_by_actions/app/controllers/admin/categories_controller.rb:3)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:CategoriesController> at /home/code/master_rails_by_actions/app/controllers/admin/categories_controller.rb:4)
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (20.8ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 81ms (Views: 54.1ms | ActiveRecord: 3.2ms)


Started GET "/admin/categories?id=10" for 127.0.0.1 at 2017-03-02 09:35:32 +0800
Processing by Admin::CategoriesController#index as HTML
  Parameters: {"id"=>"10"}
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 10 LIMIT 1[0m
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` = '10'[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (3.0ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 28ms (Views: 20.9ms | ActiveRecord: 1.0ms)


Started GET "/admin/categories?id=9" for 127.0.0.1 at 2017-03-02 09:35:34 +0800
Processing by Admin::CategoriesController#index as HTML
  Parameters: {"id"=>"9"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 9 LIMIT 1[0m
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` = '9'[0m
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (5.3ms)
  Rendered admin/layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 28ms (Views: 24.6ms | ActiveRecord: 2.1ms)


Started GET "/admin/categories?id=9" for 127.0.0.1 at 2017-03-02 09:35:40 +0800
Processing by Admin::CategoriesController#index as HTML
  Parameters: {"id"=>"9"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 9 LIMIT 1[0m
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` = '9'[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (3.5ms)
  Rendered admin/layouts/_menu.html.erb (1.3ms)
Completed 200 OK in 27ms (Views: 23.4ms | ActiveRecord: 0.9ms)


Started DELETE "/admin/categories/15" for 127.0.0.1 at 2017-03-02 09:35:44 +0800
Processing by Admin::CategoriesController#destroy as HTML
  Parameters: {"authenticity_token"=>"YCKWNSBg+/XXZqIHh2t4iA8iiu7ivjWP0FbT7d7W8buB85VTpvnf6RFtTsqL7FSdIPBPON2PGfNhIeukszIEXw==", "id"=>"15"}
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 15 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE (`categories`.`ancestry` LIKE '9/15/%' OR `categories`.`ancestry` = '9/15')[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`category_id` = 15[0m
  [1m[35mSQL (0.8ms)[0m  [1m[31mDELETE FROM `categories` WHERE `categories`.`id` = 15[0m
  [1m[35m (4.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 45ms (ActiveRecord: 8.5ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-02 09:35:44 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (3.3ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 22ms (Views: 20.2ms | ActiveRecord: 0.5ms)


Started GET "/admin/categories?id=10" for 127.0.0.1 at 2017-03-02 09:35:48 +0800
Processing by Admin::CategoriesController#index as HTML
  Parameters: {"id"=>"10"}
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 10 LIMIT 1[0m
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` = '10'[0m
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (6.8ms)
  Rendered admin/layouts/_menu.html.erb (2.5ms)
Completed 200 OK in 54ms (Views: 49.4ms | ActiveRecord: 1.6ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-02 10:39:10 +0800
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:CategoriesController> at /home/code/master_rails_by_actions/app/controllers/admin/categories_controller.rb:3)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:CategoriesController> at /home/code/master_rails_by_actions/app/controllers/admin/categories_controller.rb:4)
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (7.9ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 29ms (Views: 22.7ms | ActiveRecord: 1.6ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 10:39:12 +0800
Processing by Admin::ProductsController#index as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/models/product.rb:9: syntax error, unexpected ':'
    if: proc { |product| !product.amount.blank? }
       ^
/home/code/master_rails_by_actions/app/models/product.rb:14: syntax error, unexpected ':'
    if: proc { |product| !product.msrp.blank? }
       ^
/home/code/master_rails_by_actions/app/models/product.rb:16: syntax error, unexpected ':'
    if: proc { |product| !product.price.blank? }
       ^):
  
app/models/product.rb:9: syntax error, unexpected ':'
app/models/product.rb:14: syntax error, unexpected ':'
app/models/product.rb:16: syntax error, unexpected ':'
app/controllers/admin/products_controller.rb:6:in `index'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.8ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (26.3ms)
Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 10:41:13 +0800
Processing by Admin::ProductsController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/models/product.rb:9: syntax error, unexpected ':'
    if: proc { |product| !product.amount.blank? }
       ^
/home/code/master_rails_by_actions/app/models/product.rb:14: syntax error, unexpected ':'
    if: proc { |product| !product.msrp.blank? }
       ^
/home/code/master_rails_by_actions/app/models/product.rb:16: syntax error, unexpected ':'
    if: proc { |product| !product.price.blank? }
       ^):
  
app/models/product.rb:9: syntax error, unexpected ':'
app/models/product.rb:14: syntax error, unexpected ':'
app/models/product.rb:16: syntax error, unexpected ':'
app/controllers/admin/products_controller.rb:6:in `index'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.6ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (21.1ms)
Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 10:43:29 +0800
Processing by Admin::ProductsController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/models/product.rb:9: syntax error, unexpected ':'
    if: proc { |product| !product.amount.blank? }
       ^
/home/code/master_rails_by_actions/app/models/product.rb:14: syntax error, unexpected ':'
    if: proc { |product| !product.msrp.blank? }
       ^
/home/code/master_rails_by_actions/app/models/product.rb:16: syntax error, unexpected ':'
    if: proc { |product| !product.price.blank? }
       ^):
  
app/models/product.rb:9: syntax error, unexpected ':'
app/models/product.rb:14: syntax error, unexpected ':'
app/models/product.rb:16: syntax error, unexpected ':'
app/controllers/admin/products_controller.rb:6:in `index'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.9ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (21.0ms)
Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 10:43:30 +0800
Processing by Admin::ProductsController#index as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/models/product.rb:9: syntax error, unexpected ':'
    if: proc { |product| !product.amount.blank? }
       ^
/home/code/master_rails_by_actions/app/models/product.rb:14: syntax error, unexpected ':'
    if: proc { |product| !product.msrp.blank? }
       ^
/home/code/master_rails_by_actions/app/models/product.rb:16: syntax error, unexpected ':'
    if: proc { |product| !product.price.blank? }
       ^):
  
app/models/product.rb:9: syntax error, unexpected ':'
app/models/product.rb:14: syntax error, unexpected ':'
app/models/product.rb:16: syntax error, unexpected ':'
app/controllers/admin/products_controller.rb:6:in `index'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.0ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (23.6ms)
Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 10:43:30 +0800
Processing by Admin::ProductsController#index as HTML
Completed 500 Internal Server Error in 26ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/models/product.rb:9: syntax error, unexpected ':'
    if: proc { |product| !product.amount.blank? }
       ^
/home/code/master_rails_by_actions/app/models/product.rb:14: syntax error, unexpected ':'
    if: proc { |product| !product.msrp.blank? }
       ^
/home/code/master_rails_by_actions/app/models/product.rb:16: syntax error, unexpected ':'
    if: proc { |product| !product.price.blank? }
       ^):
  
app/models/product.rb:9: syntax error, unexpected ':'
app/models/product.rb:14: syntax error, unexpected ':'
app/models/product.rb:16: syntax error, unexpected ':'
app/controllers/admin/products_controller.rb:6:in `index'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.4ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (20.1ms)
Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 10:43:30 +0800
Processing by Admin::ProductsController#index as HTML
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/models/product.rb:9: syntax error, unexpected ':'
    if: proc { |product| !product.amount.blank? }
       ^
/home/code/master_rails_by_actions/app/models/product.rb:14: syntax error, unexpected ':'
    if: proc { |product| !product.msrp.blank? }
       ^
/home/code/master_rails_by_actions/app/models/product.rb:16: syntax error, unexpected ':'
    if: proc { |product| !product.price.blank? }
       ^):
  
app/models/product.rb:9: syntax error, unexpected ':'
app/models/product.rb:14: syntax error, unexpected ':'
app/models/product.rb:16: syntax error, unexpected ':'
app/controllers/admin/products_controller.rb:6:in `index'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.8ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (21.1ms)
Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 10:43:31 +0800
Processing by Admin::ProductsController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/models/product.rb:9: syntax error, unexpected ':'
    if: proc { |product| !product.amount.blank? }
       ^
/home/code/master_rails_by_actions/app/models/product.rb:14: syntax error, unexpected ':'
    if: proc { |product| !product.msrp.blank? }
       ^
/home/code/master_rails_by_actions/app/models/product.rb:16: syntax error, unexpected ':'
    if: proc { |product| !product.price.blank? }
       ^):
  
app/models/product.rb:9: syntax error, unexpected ':'
app/models/product.rb:14: syntax error, unexpected ':'
app/models/product.rb:16: syntax error, unexpected ':'
app/controllers/admin/products_controller.rb:6:in `index'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.4ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.7ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (22.8ms)
Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 10:43:31 +0800
Processing by Admin::ProductsController#index as HTML
Completed 500 Internal Server Error in 34ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/models/product.rb:9: syntax error, unexpected ':'
    if: proc { |product| !product.amount.blank? }
       ^
/home/code/master_rails_by_actions/app/models/product.rb:14: syntax error, unexpected ':'
    if: proc { |product| !product.msrp.blank? }
       ^
/home/code/master_rails_by_actions/app/models/product.rb:16: syntax error, unexpected ':'
    if: proc { |product| !product.price.blank? }
       ^):
  
app/models/product.rb:9: syntax error, unexpected ':'
app/models/product.rb:14: syntax error, unexpected ':'
app/models/product.rb:16: syntax error, unexpected ':'
app/controllers/admin/products_controller.rb:6:in `index'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.9ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 10:43:31 +0800
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
Processing by Admin::ProductsController#index as HTML
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (32.2ms)
Completed 500 Internal Server Error in 37ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/models/product.rb:9: syntax error, unexpected ':'
    if: proc { |product| !product.amount.blank? }
       ^
/home/code/master_rails_by_actions/app/models/product.rb:14: syntax error, unexpected ':'
    if: proc { |product| !product.msrp.blank? }
       ^
/home/code/master_rails_by_actions/app/models/product.rb:16: syntax error, unexpected ':'
    if: proc { |product| !product.price.blank? }
       ^):
  
app/models/product.rb:9: syntax error, unexpected ':'
app/models/product.rb:14: syntax error, unexpected ':'
app/models/product.rb:16: syntax error, unexpected ':'
app/controllers/admin/products_controller.rb:6:in `index'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.9ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (21.3ms)
Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 10:44:49 +0800
Processing by Admin::ProductsController#index as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `order' for 30:Fixnum):
  
app/controllers/admin/products_controller.rb:7:in `index'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.9ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (20.0ms)
Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 10:45:26 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  Rendered admin/products/index.html.erb within admin/layouts/admin (1.1ms)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/views/admin/products/index.html.erb:35: syntax error, unexpected ':', expecting =>
...thod: :delete, "data-confirm" : "确认删除吗？"  );@out...
...                               ^):
  
app/views/admin/products/index.html.erb:35: syntax error, unexpected ':', expecting =>
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.2ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.2ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (21.2ms)
Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 10:47:13 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  Rendered admin/products/index.html.erb within admin/layouts/admin (1.7ms)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/views/admin/products/index.html.erb:35: syntax error, unexpected ':', expecting =>
...thod: :delete, 'data-confirm' : "确认删除吗？"  );@out...
...                               ^):
  
app/views/admin/products/index.html.erb:35: syntax error, unexpected ':', expecting =>
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (13.7ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (34.6ms)
Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 10:47:17 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  Rendered admin/products/index.html.erb within admin/layouts/admin (2.4ms)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/views/admin/products/index.html.erb:35: syntax error, unexpected ':', expecting =>
...thod: :delete, 'data-confirm' : "确认删除吗？"  );@out...
...                               ^):
  
app/views/admin/products/index.html.erb:35: syntax error, unexpected ':', expecting =>
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.6ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (21.7ms)
Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 10:48:20 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (22.2ms)
Completed 500 Internal Server Error in 28ms (ActiveRecord: 1.8ms)


  
ActionView::Template::Error (undefined local variable or method `products' for #<#<Class:0x007f592c823818>:0x00000004522778>):
    21:       <th></th>
    22:     </tr>
    23: 
    24:     <%= products.each do |product| %>
    25:       <tr>
    26:         <td><%= @prduct.id %></td>
    27:         <td><%= @prduct.title %></td>
  
app/views/admin/products/index.html.erb:24:in `_app_views_admin_products_index_html_erb___1477443466142388478_36331980'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (17.2ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.2ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (36.2ms)
Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 10:48:42 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (13.0ms)
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.5ms)


  
ActionView::Template::Error (undefined local variable or method `products' for #<#<Class:0x007f592c823818>:0x007f592c76d630>):
    21:       <th></th>
    22:     </tr>
    23: 
    24:     <% products.each do |product| %>
    25:       <tr>
    26:         <td><%= @prduct.id %></td>
    27:         <td><%= @prduct.title %></td>
  
app/views/admin/products/index.html.erb:24:in `_app_views_admin_products_index_html_erb___1477443466142388478_70010487402520'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.5ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (22.4ms)
Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 10:49:10 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (6.7ms)
  Rendered admin/layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 38ms (Views: 35.1ms | ActiveRecord: 1.1ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 10:50:04 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (2.4ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 23ms (Views: 21.9ms | ActiveRecord: 0.5ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 10:50:08 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (2.8ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 27ms (Views: 24.7ms | ActiveRecord: 0.5ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 11:47:07 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (5.0ms)
  Rendered admin/layouts/_menu.html.erb (2.6ms)
Completed 200 OK in 41ms (Views: 33.6ms | ActiveRecord: 1.3ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 11:47:09 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (3.0ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 34ms (Views: 31.7ms | ActiveRecord: 0.6ms)


Started GET "/admin/products/new" for 127.0.0.1 at 2017-03-02 11:47:17 +0800
Processing by Admin::ProductsController#new as HTML
  Rendering admin/products/new.html.erb within admin/layouts/admin
  Rendered admin/products/new.html.erb within admin/layouts/admin (1.6ms)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 1.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/views/admin/products/new.html.erb:7: syntax error, unexpected ':', expecting keyword_end
  url: (@product.new_record? ? admi...
      ^
/home/code/master_rails_by_actions/app/views/admin/products/new.html.erb:7: syntax error, unexpected ',', expecting keyword_end
/home/code/master_rails_by_actions/app/views/admin/products/new.html.erb:8: syntax error, unexpected ',', expecting keyword_end
/home/code/master_rails_by_actions/app/views/admin/products/new.html.erb:9: syntax error, unexpected keyword_do_block, expecting keyword_end
...{ class: 'form-horizontal' } do |f| @output_buffer.safe_appe...
...                               ^
/home/code/master_rails_by_actions/app/views/admin/products/new.html.erb:74: syntax error, unexpected keyword_class, expecting ')'
... f.text_area :description class="form-control" );@output_buf...
...                               ^
/home/code/master_rails_by_actions/app/views/admin/products/new.html.erb:84: syntax error, unexpected keyword_ensure, expecting end-of-input):
  
app/views/admin/products/new.html.erb:7: syntax error, unexpected ':', expecting keyword_end
app/views/admin/products/new.html.erb:7: syntax error, unexpected ',', expecting keyword_end
app/views/admin/products/new.html.erb:8: syntax error, unexpected ',', expecting keyword_end
app/views/admin/products/new.html.erb:9: syntax error, unexpected keyword_do_block, expecting keyword_end
app/views/admin/products/new.html.erb:74: syntax error, unexpected keyword_class, expecting ')'
app/views/admin/products/new.html.erb:84: syntax error, unexpected keyword_ensure, expecting end-of-input
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.2ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.8ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (25.4ms)
Started GET "/admin/products/new" for 127.0.0.1 at 2017-03-02 11:47:39 +0800
Processing by Admin::ProductsController#new as HTML
  Rendering admin/products/new.html.erb within admin/layouts/admin
  Rendered admin/products/new.html.erb within admin/layouts/admin (1.8ms)
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/views/admin/products/new.html.erb:7: syntax error, unexpected ':', expecting keyword_end
  url: (@product.new_record? ? admi...
      ^
/home/code/master_rails_by_actions/app/views/admin/products/new.html.erb:7: syntax error, unexpected ',', expecting keyword_end
/home/code/master_rails_by_actions/app/views/admin/products/new.html.erb:8: syntax error, unexpected ',', expecting keyword_end
/home/code/master_rails_by_actions/app/views/admin/products/new.html.erb:9: syntax error, unexpected keyword_do_block, expecting keyword_end
...{ class: 'form-horizontal' } do |f| @output_buffer.safe_appe...
...                               ^
/home/code/master_rails_by_actions/app/views/admin/products/new.html.erb:74: syntax error, unexpected keyword_class, expecting ')'
... f.text_area :description class="form-control" );@output_buf...
...                               ^
/home/code/master_rails_by_actions/app/views/admin/products/new.html.erb:84: syntax error, unexpected keyword_ensure, expecting end-of-input):
  
app/views/admin/products/new.html.erb:7: syntax error, unexpected ':', expecting keyword_end
app/views/admin/products/new.html.erb:7: syntax error, unexpected ',', expecting keyword_end
app/views/admin/products/new.html.erb:8: syntax error, unexpected ',', expecting keyword_end
app/views/admin/products/new.html.erb:9: syntax error, unexpected keyword_do_block, expecting keyword_end
app/views/admin/products/new.html.erb:74: syntax error, unexpected keyword_class, expecting ')'
app/views/admin/products/new.html.erb:84: syntax error, unexpected keyword_ensure, expecting end-of-input
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.6ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (22.5ms)
Started GET "/admin/products/new" for 127.0.0.1 at 2017-03-02 11:48:32 +0800
Processing by Admin::ProductsController#new as HTML
  Rendering admin/products/new.html.erb within admin/layouts/admin
  Rendered admin/products/new.html.erb within admin/layouts/admin (2.9ms)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/views/admin/products/new.html.erb:7: syntax error, unexpected ':', expecting keyword_end
  url: (@product.new_record? ? admi...
      ^
/home/code/master_rails_by_actions/app/views/admin/products/new.html.erb:7: syntax error, unexpected ',', expecting keyword_end
/home/code/master_rails_by_actions/app/views/admin/products/new.html.erb:8: syntax error, unexpected ',', expecting keyword_end
/home/code/master_rails_by_actions/app/views/admin/products/new.html.erb:9: syntax error, unexpected keyword_do_block, expecting keyword_end
...{ class: 'form-horizontal' } do |f| @output_buffer.safe_appe...
...                               ^
/home/code/master_rails_by_actions/app/views/admin/products/new.html.erb:74: syntax error, unexpected keyword_class, expecting ')'
... f.text_area :description class="form-control" );@output_buf...
...                               ^
/home/code/master_rails_by_actions/app/views/admin/products/new.html.erb:84: syntax error, unexpected keyword_ensure, expecting end-of-input):
  
app/views/admin/products/new.html.erb:7: syntax error, unexpected ':', expecting keyword_end
app/views/admin/products/new.html.erb:7: syntax error, unexpected ',', expecting keyword_end
app/views/admin/products/new.html.erb:8: syntax error, unexpected ',', expecting keyword_end
app/views/admin/products/new.html.erb:9: syntax error, unexpected keyword_do_block, expecting keyword_end
app/views/admin/products/new.html.erb:74: syntax error, unexpected keyword_class, expecting ')'
app/views/admin/products/new.html.erb:84: syntax error, unexpected keyword_ensure, expecting end-of-input
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.5ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (21.8ms)
Started GET "/admin/products/new" for 127.0.0.1 at 2017-03-02 11:49:49 +0800
Processing by Admin::ProductsController#new as HTML
  Rendering admin/products/new.html.erb within admin/layouts/admin
  Rendered admin/products/new.html.erb within admin/layouts/admin (3.0ms)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/views/admin/products/new.html.erb:74: syntax error, unexpected keyword_class, expecting ')'
... f.text_area :description class="form-control" );@output_buf...
...                               ^):
  
app/views/admin/products/new.html.erb:74: syntax error, unexpected keyword_class, expecting ')'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.3ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.2ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (21.1ms)
Started GET "/admin/products/new" for 127.0.0.1 at 2017-03-02 11:50:48 +0800
Processing by Admin::ProductsController#new as HTML
  Rendering admin/products/new.html.erb within admin/layouts/admin
  Rendered admin/products/new.html.erb within admin/layouts/admin (2.6ms)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/views/admin/products/new.html.erb:74: syntax error, unexpected keyword_class, expecting ')'
... f.text_area :description class="form-control" );@output_buf...
...                               ^):
  
app/views/admin/products/new.html.erb:74: syntax error, unexpected keyword_class, expecting ')'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.1ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.7ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (24.0ms)
Started GET "/admin/products/new" for 127.0.0.1 at 2017-03-02 11:51:17 +0800
Processing by Admin::ProductsController#new as HTML
  Rendering admin/products/new.html.erb within admin/layouts/admin
  Rendered admin/products/new.html.erb within admin/layouts/admin (2.7ms)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/views/admin/products/new.html.erb:74: syntax error, unexpected '='
....text_area :description, class="form-control" );@output_buff...
...                               ^):
  
app/views/admin/products/new.html.erb:74: syntax error, unexpected '='
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.0ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (23.0ms)
Started GET "/admin/products/new" for 127.0.0.1 at 2017-03-02 11:52:01 +0800
Processing by Admin::ProductsController#new as HTML
  Rendering admin/products/new.html.erb within admin/layouts/admin
  Rendered admin/products/new.html.erb within admin/layouts/admin (5.7ms)
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `error' for #<Product:0x007f59266b9708>):
     8:   method:(@product.new_record? ? 'post' : 'put'),
     9:   html: { class: 'form-horizontal' } do |f| %>
    10: 
    11:   <% unless @product.error.blank? %>
    12:     <div class="alert alert-danger">
    13:       <ul class="list-unstyled">
    14:         <% @product.errors.messages.values.flatten.each do |error| %>
  
app/views/admin/products/new.html.erb:11:in `block in _app_views_admin_products_new_html_erb__2749381057325628113_70010435164160'
app/views/admin/products/new.html.erb:6:in `_app_views_admin_products_new_html_erb__2749381057325628113_70010435164160'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.3ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (23.5ms)
Started GET "/admin/products/new" for 127.0.0.1 at 2017-03-02 11:52:26 +0800
Processing by Admin::ProductsController#new as HTML
  Rendering admin/products/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9'[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10'[0m
  Rendered admin/products/new.html.erb within admin/layouts/admin (33.6ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 61ms (Views: 55.8ms | ActiveRecord: 2.9ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-02 11:56:23 +0800
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:CategoriesController> at /home/code/master_rails_by_actions/app/controllers/admin/categories_controller.rb:3)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:CategoriesController> at /home/code/master_rails_by_actions/app/controllers/admin/categories_controller.rb:4)
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (6.8ms)
  Rendered admin/layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 28ms (Views: 25.1ms | ActiveRecord: 1.2ms)


Started GET "/admin/categories?id=9" for 127.0.0.1 at 2017-03-02 11:56:27 +0800
Processing by Admin::CategoriesController#index as HTML
  Parameters: {"id"=>"9"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 9 LIMIT 1[0m
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` = '9'[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (2.6ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 27ms (Views: 24.1ms | ActiveRecord: 0.8ms)


Started GET "/admin/categories/new" for 127.0.0.1 at 2017-03-02 11:56:29 +0800
Processing by Admin::CategoriesController#new as HTML
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (3.0ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 28ms (Views: 26.0ms | ActiveRecord: 0.3ms)


Started POST "/admin/categories" for 127.0.0.1 at 2017-03-02 11:56:45 +0800
Processing by Admin::CategoriesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"NWpmJFKFeV8IMLjGDrt+MHpAxpm3LMFaVsKWQQh7JuXUu2VC1BxdQ847VAsCPFIlVZIDT4gd7Sbnta4IZZ/TAQ==", "category"=>{"ancestry"=>"9", "title"=>"iphone 7", "weight"=>"100"}, "commit"=>"新建分类"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `categories` WHERE `categories`.`title` = BINARY 'iphone 7' LIMIT 1[0m
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO `categories` (`title`, `weight`, `created_at`, `updated_at`, `ancestry`) VALUES ('iphone 7', 100, '2017-03-02 03:56:45', '2017-03-02 03:56:45', '9')[0m
  [1m[35m (3.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 36ms (ActiveRecord: 5.6ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-02 11:56:45 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (4.7ms)
  Rendered admin/layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 36ms (Views: 33.4ms | ActiveRecord: 0.8ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 11:56:47 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (2.9ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 23ms (Views: 21.7ms | ActiveRecord: 0.5ms)


Started GET "/admin/products/new" for 127.0.0.1 at 2017-03-02 11:56:49 +0800
Processing by Admin::ProductsController#new as HTML
  Rendering admin/products/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9'[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10'[0m
  Rendered admin/products/new.html.erb within admin/layouts/admin (11.3ms)
  Rendered admin/layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 60ms (Views: 54.6ms | ActiveRecord: 1.5ms)


Started GET "/admin/products/new" for 127.0.0.1 at 2017-03-02 11:58:57 +0800
Processing by Admin::ProductsController#new as HTML
  Rendering admin/products/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (1.0ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9'[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10'[0m
  Rendered admin/products/new.html.erb within admin/layouts/admin (10.2ms)
  Rendered admin/layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 41ms (Views: 37.3ms | ActiveRecord: 1.9ms)


Started POST "/admin/products" for 127.0.0.1 at 2017-03-02 11:59:08 +0800
Processing by Admin::ProductsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"c6mWXAAxJ1/AduKRB3iDsz6wWnFs4KD24nglBe5uzCWSeJU6hqgDQwZ9DlwL/6+mEWKfp1PRjIpTDx1Mg4o5wQ==", "product"=>{"title"=>"killzone", "category_id"=>"16", "status"=>"off", "amount"=>"100", "price"=>"29.99", "msrp"=>"32.99", "description"=>"col....."}, "commit"=>"新建商品"}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (9.7ms)[0m  [1m[32mINSERT INTO `products` (`category_id`, `title`, `amount`, `msrp`, `price`, `description`, `created_at`, `updated_at`) VALUES (16, 'killzone', 100, 32.99, 29.99, 'col.....', '2017-03-02 03:59:08', '2017-03-02 03:59:08')[0m
  [1m[35m (3.6ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 22ms (ActiveRecord: 13.7ms)


  
NameError (uninitialized constant Product::RandomCode):
  
app/models/product.rb:26:in `set_default_attrs'
app/controllers/admin/products_controller.rb:19:in `create'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.7ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.7ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (10.2ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (31.8ms)
Started POST "/admin/products" for 127.0.0.1 at 2017-03-02 12:02:09 +0800
Processing by Admin::ProductsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"c6mWXAAxJ1/AduKRB3iDsz6wWnFs4KD24nglBe5uzCWSeJU6hqgDQwZ9DlwL/6+mEWKfp1PRjIpTDx1Mg4o5wQ==", "product"=>{"title"=>"killzone", "category_id"=>"16", "status"=>"off", "amount"=>"100", "price"=>"29.99", "msrp"=>"32.99", "description"=>"col....."}, "commit"=>"新建商品"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 21ms (ActiveRecord: 1.2ms)


  
NameError (uninitialized constant Product::RandomCode):
  
app/models/product.rb:26:in `set_default_attrs'
app/controllers/admin/products_controller.rb:19:in `create'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.5ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (22.4ms)
Started POST "/admin/products" for 127.0.0.1 at 2017-03-02 12:06:46 +0800
Processing by Admin::ProductsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"c6mWXAAxJ1/AduKRB3iDsz6wWnFs4KD24nglBe5uzCWSeJU6hqgDQwZ9DlwL/6+mEWKfp1PRjIpTDx1Mg4o5wQ==", "product"=>{"title"=>"killzone", "category_id"=>"16", "status"=>"off", "amount"=>"100", "price"=>"29.99", "msrp"=>"32.99", "description"=>"col....."}, "commit"=>"新建商品"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.3ms)


  
NameError (uninitialized constant Product::RandomCode):
  
app/models/product.rb:26:in `set_default_attrs'
app/controllers/admin/products_controller.rb:19:in `create'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (16.2ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.7ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.6ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (36.6ms)
Started POST "/admin/products" for 127.0.0.1 at 2017-03-02 14:56:00 +0800
Processing by Admin::ProductsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"c6mWXAAxJ1/AduKRB3iDsz6wWnFs4KD24nglBe5uzCWSeJU6hqgDQwZ9DlwL/6+mEWKfp1PRjIpTDx1Mg4o5wQ==", "product"=>{"title"=>"killzone", "category_id"=>"16", "status"=>"off", "amount"=>"100", "price"=>"29.99", "msrp"=>"32.99", "description"=>"col....."}, "commit"=>"新建商品"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `products` (`category_id`, `title`, `amount`, `msrp`, `price`, `description`, `created_at`, `updated_at`) VALUES (16, 'killzone', 100, 32.99, 29.99, 'col.....', '2017-03-02 06:56:00', '2017-03-02 06:56:00')[0m
  [1m[35m (14.4ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 50ms (ActiveRecord: 15.0ms)


  
NameError (uninitialized constant Product::RandomCode):
  
app/models/product.rb:26:in `set_default_attrs'
app/controllers/admin/products_controller.rb:19:in `create'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.8ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (21.6ms)
Started POST "/admin/products" for 127.0.0.1 at 2017-03-02 15:02:19 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by Admin::ProductsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"c6mWXAAxJ1/AduKRB3iDsz6wWnFs4KD24nglBe5uzCWSeJU6hqgDQwZ9DlwL/6+mEWKfp1PRjIpTDx1Mg4o5wQ==", "product"=>{"title"=>"killzone", "category_id"=>"16", "status"=>"off", "amount"=>"100", "price"=>"29.99", "msrp"=>"32.99", "description"=>"col....."}, "commit"=>"新建商品"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO `products` (`category_id`, `title`, `amount`, `msrp`, `price`, `description`, `created_at`, `updated_at`) VALUES (16, 'killzone', 100, 32.99, 29.99, 'col.....', '2017-03-02 07:02:19', '2017-03-02 07:02:19')[0m
  [1m[35m (11.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 43ms (ActiveRecord: 13.4ms)


  
NameError (uninitialized constant Product::RandomCode):
  
app/models/product.rb:26:in `set_default_attrs'
app/controllers/admin/products_controller.rb:19:in `create'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.3ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (9.6ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (33.3ms)
Started POST "/admin/products" for 127.0.0.1 at 2017-03-02 15:12:07 +0800
Processing by Admin::ProductsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"c6mWXAAxJ1/AduKRB3iDsz6wWnFs4KD24nglBe5uzCWSeJU6hqgDQwZ9DlwL/6+mEWKfp1PRjIpTDx1Mg4o5wQ==", "product"=>{"title"=>"killzone", "category_id"=>"16", "status"=>"off", "amount"=>"100", "price"=>"29.99", "msrp"=>"32.99", "description"=>"col....."}, "commit"=>"新建商品"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 25ms (ActiveRecord: 2.6ms)


  
NameError (uninitialized constant Product::RandomCode):
  
app/models/product.rb:26:in `set_default_attrs'
app/controllers/admin/products_controller.rb:19:in `create'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.5ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (23.2ms)
Started POST "/admin/products" for 127.0.0.1 at 2017-03-02 15:13:41 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by Admin::ProductsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"c6mWXAAxJ1/AduKRB3iDsz6wWnFs4KD24nglBe5uzCWSeJU6hqgDQwZ9DlwL/6+mEWKfp1PRjIpTDx1Mg4o5wQ==", "product"=>{"title"=>"killzone", "category_id"=>"16", "status"=>"off", "amount"=>"100", "price"=>"29.99", "msrp"=>"32.99", "description"=>"col....."}, "commit"=>"新建商品"}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 31ms (ActiveRecord: 1.9ms)


  
NameError (uninitialized constant Product::RandomCode):
  
app/models/product.rb:26:in `set_default_attrs'
app/controllers/admin/products_controller.rb:19:in `create'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.5ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (9.3ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (33.2ms)
Started POST "/admin/products" for 127.0.0.1 at 2017-03-02 15:36:11 +0800
Processing by Admin::ProductsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"c6mWXAAxJ1/AduKRB3iDsz6wWnFs4KD24nglBe5uzCWSeJU6hqgDQwZ9DlwL/6+mEWKfp1PRjIpTDx1Mg4o5wQ==", "product"=>{"title"=>"killzone", "category_id"=>"16", "status"=>"off", "amount"=>"100", "price"=>"29.99", "msrp"=>"32.99", "description"=>"col....."}, "commit"=>"新建商品"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.3ms)


  
NameError (uninitialized constant Product::RandomCode):
  
app/models/product.rb:26:in `set_default_attrs'
app/controllers/admin/products_controller.rb:19:in `create'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.1ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (21.6ms)
Started POST "/admin/products" for 127.0.0.1 at 2017-03-02 15:36:13 +0800
Processing by Admin::ProductsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"c6mWXAAxJ1/AduKRB3iDsz6wWnFs4KD24nglBe5uzCWSeJU6hqgDQwZ9DlwL/6+mEWKfp1PRjIpTDx1Mg4o5wQ==", "product"=>{"title"=>"killzone", "category_id"=>"16", "status"=>"off", "amount"=>"100", "price"=>"29.99", "msrp"=>"32.99", "description"=>"col....."}, "commit"=>"新建商品"}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.5ms)


  
NameError (uninitialized constant Product::RandomCode):
  
app/models/product.rb:26:in `set_default_attrs'
app/controllers/admin/products_controller.rb:19:in `create'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (9.7ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.6ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.7ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (28.7ms)
Started POST "/admin/products" for 127.0.0.1 at 2017-03-02 15:38:47 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by Admin::ProductsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"c6mWXAAxJ1/AduKRB3iDsz6wWnFs4KD24nglBe5uzCWSeJU6hqgDQwZ9DlwL/6+mEWKfp1PRjIpTDx1Mg4o5wQ==", "product"=>{"title"=>"killzone", "category_id"=>"16", "status"=>"off", "amount"=>"100", "price"=>"29.99", "msrp"=>"32.99", "description"=>"col....."}, "commit"=>"新建商品"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `products` (`category_id`, `title`, `amount`, `uuid`, `msrp`, `price`, `description`, `created_at`, `updated_at`) VALUES (16, 'killzone', 100, '0302SY56BO', 32.99, 29.99, 'col.....', '2017-03-02 07:38:47', '2017-03-02 07:38:47')[0m
  [1m[35m (12.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/products
Completed 302 Found in 51ms (ActiveRecord: 14.4ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 15:38:47 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (7.5ms)
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.5ms)


  
ActionView::Template::Error (undefined method `id' for nil:NilClass):
    23: 
    24:     <% @products.each do |product| %>
    25:       <tr>
    26:         <td><%= @prduct.id %></td>
    27:         <td><%= @prduct.title %></td>
    28:         <td><%= @prduct.uuid %></td>
    29:         <td><%= @prduct.msrp %></td>
  
app/views/admin/products/index.html.erb:26:in `block in _app_views_admin_products_index_html_erb__1339420750326520921_17133940'
app/views/admin/products/index.html.erb:24:in `_app_views_admin_products_index_html_erb__1339420750326520921_17133940'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.3ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (21.8ms)
Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 15:39:28 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (9.4ms)
Completed 500 Internal Server Error in 15ms (ActiveRecord: 1.0ms)


  
ActionView::Template::Error (undefined method `id' for nil:NilClass):
    23: 
    24:     <% @products.each do |product| %>
    25:       <tr>
    26:         <td><%= @product.id %></td>
    27:         <td><%= @product.title %></td>
    28:         <td><%= @product.uuid %></td>
    29:         <td><%= @product.msrp %></td>
  
app/views/admin/products/index.html.erb:26:in `block in _app_views_admin_products_index_html_erb__1339420750326520921_24576480'
app/views/admin/products/index.html.erb:24:in `_app_views_admin_products_index_html_erb__1339420750326520921_24576480'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.4ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (22.3ms)
Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 15:41:13 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (4.7ms)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.7ms)


  
ActionView::Template::Error (undefined method `id' for nil:NilClass):
    23: 
    24:     <% @products.each do |product| %>
    25:       <tr>
    26:         <td><%= @product.id %></td>
    27:         <td><%= @product.title %></td>
    28:         <td><%= @product.uuid %></td>
    29:         <td><%= @product.msrp %></td>
  
app/views/admin/products/index.html.erb:26:in `block in _app_views_admin_products_index_html_erb__1339420750326520921_26913280'
app/views/admin/products/index.html.erb:24:in `_app_views_admin_products_index_html_erb__1339420750326520921_26913280'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (8.6ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.8ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (28.0ms)
Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 15:41:15 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (10.5ms)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.7ms)


  
ActionView::Template::Error (undefined method `id' for nil:NilClass):
    23: 
    24:     <% @products.each do |product| %>
    25:       <tr>
    26:         <td><%= @product.id %></td>
    27:         <td><%= @product.title %></td>
    28:         <td><%= @product.uuid %></td>
    29:         <td><%= @product.msrp %></td>
  
app/views/admin/products/index.html.erb:26:in `block in _app_views_admin_products_index_html_erb__1339420750326520921_39764700'
app/views/admin/products/index.html.erb:24:in `_app_views_admin_products_index_html_erb__1339420750326520921_39764700'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.1ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (23.0ms)
Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 15:42:03 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (6.4ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 279ms (Views: 275.9ms | ActiveRecord: 0.9ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 15:46:51 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (21.6ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 70ms (Views: 61.8ms | ActiveRecord: 1.7ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 15:46:53 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (3.0ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 25ms (Views: 23.2ms | ActiveRecord: 0.6ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 15:46:53 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (3.1ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 31ms (Views: 29.4ms | ActiveRecord: 0.5ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 15:46:53 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (3.5ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 23ms (Views: 21.3ms | ActiveRecord: 0.5ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 15:46:53 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (3.3ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 22ms (Views: 20.0ms | ActiveRecord: 0.5ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 15:46:53 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (2.7ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 20ms (Views: 19.1ms | ActiveRecord: 0.5ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 15:46:54 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (3.0ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 26ms (Views: 24.7ms | ActiveRecord: 0.5ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 15:46:54 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (4.2ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 35ms (Views: 34.0ms | ActiveRecord: 0.6ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 16:28:53 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (20.6ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 277ms (Views: 265.1ms | ActiveRecord: 2.6ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-02 16:28:56 +0800
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:CategoriesController> at /home/code/master_rails_by_actions/app/controllers/admin/categories_controller.rb:3)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:CategoriesController> at /home/code/master_rails_by_actions/app/controllers/admin/categories_controller.rb:4)
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (10.3ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 39ms (Views: 29.7ms | ActiveRecord: 1.8ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-02 16:28:57 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.4ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 20ms (Views: 18.8ms | ActiveRecord: 0.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-02 16:28:57 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (3.7ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 27ms (Views: 25.4ms | ActiveRecord: 0.5ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 16:28:58 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (3.9ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 34ms (Views: 32.3ms | ActiveRecord: 0.5ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-02 16:28:59 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.4ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 59ms (Views: 58.3ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-02 16:29:00 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.6ms)
  Rendered admin/layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 29ms (Views: 25.6ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-02 16:29:00 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (1.0ms)
  Rendered admin/layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 39ms (Views: 37.8ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-02 16:29:00 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.5ms)
  Rendered admin/layouts/_menu.html.erb (1.4ms)
Completed 200 OK in 46ms (Views: 43.7ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-02 16:29:01 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.6ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 39ms (Views: 35.8ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-02 16:29:01 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.6ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 52ms (Views: 51.1ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-02 16:29:02 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.9ms)
  Rendered admin/layouts/_menu.html.erb (1.9ms)
Completed 200 OK in 39ms (Views: 36.6ms | ActiveRecord: 0.0ms)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('2321506512563442330', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to CreateProductImages (20170302082933)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2321506512563442330')[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('2321506512563442330', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to CreateProductImages (20170302082933)
  [1m[35m (26.7ms)[0m  [1m[35mCREATE TABLE `product_images` (`id` int AUTO_INCREMENT PRIMARY KEY, `product_id` int, `weight` int DEFAULT 0, `image_file_name` varchar(255), `image_content_type` varchar(255), `image_file_size` int, `image_updated_at` datetime, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL,  INDEX `index_product_images_on_product_id`  (`product_id`)) ENGINE=InnoDB[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170302082933')[0m
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2321506512563442330')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `categories`[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'categories'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `product_images`[0m
  [1m[35m (0.6ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'product_images'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `products`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'products'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'users'[0m
Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 16:56:38 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (15.1ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 44ms (Views: 34.8ms | ActiveRecord: 2.2ms)


