Started GET "/" for 127.0.0.1 at 2017-02-27 10:35:27 +0800
  
ActiveRecord::NoDatabaseError (Unknown database 'master_rails_by_actions_development'):
  
activerecord (5.0.1) lib/active_record/connection_adapters/mysql2_adapter.rb:29:in `rescue in mysql2_connection'
activerecord (5.0.1) lib/active_record/connection_adapters/mysql2_adapter.rb:12:in `mysql2_connection'
activerecord (5.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:729:in `new_connection'
activerecord (5.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:773:in `checkout_new_connection'
activerecord (5.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:752:in `try_to_checkout_new_connection'
activerecord (5.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:713:in `acquire_connection'
activerecord (5.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:490:in `checkout'
activerecord (5.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:364:in `connection'
activerecord (5.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:883:in `retrieve_connection'
activerecord (5.0.1) lib/active_record/connection_handling.rb:128:in `retrieve_connection'
activerecord (5.0.1) lib/active_record/connection_handling.rb:91:in `connection'
activerecord (5.0.1) lib/active_record/migration.rb:559:in `connection'
activerecord (5.0.1) lib/active_record/migration.rb:546:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.1) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.1) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.1) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.1) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.4.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.4.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.1) lib/rails/engine.rb:522:in `call'
rack (2.0.1) lib/rack/handler/webrick.rb:86:in `service'
/home/code/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
/home/code/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
/home/code/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.5ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (21.5ms)
Started GET "/" for 127.0.0.1 at 2017-02-27 10:36:29 +0800
Processing by Rails::WelcomeController#index as HTML
  Parameters: {"internal"=>true}
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/railties-5.0.1/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/railties-5.0.1/lib/rails/templates/rails/welcome/index.html.erb (3.0ms)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 0.0ms)


  [1m[35m (24.6ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) PRIMARY KEY) ENGINE=InnoDB[0m
  [1m[35m (14.1ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) PRIMARY KEY, `value` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2321506512563442330', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to SorceryCore (20170227030410)
  [1m[35m (14.8ms)[0m  [1m[35mCREATE TABLE `users` (`id` int AUTO_INCREMENT PRIMARY KEY, `email` varchar(255) NOT NULL, `crypted_password` varchar(255), `salt` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (13.1ms)[0m  [1m[35mCREATE UNIQUE INDEX `index_users_on_email`  ON `users` (`email`) [0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170227030410')[0m
  [1m[35m (5.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryUserActivation (20170227031504)
  [1m[35m (24.0ms)[0m  [1m[35mALTER TABLE `users` ADD `activation_state` varchar(255)[0m
  [1m[35m (23.7ms)[0m  [1m[35mALTER TABLE `users` ADD `activation_token` varchar(255)[0m
  [1m[35m (25.0ms)[0m  [1m[35mALTER TABLE `users` ADD `activation_token_expires_at` datetime[0m
  [1m[35m (12.0ms)[0m  [1m[35mCREATE  INDEX `index_users_on_activation_token`  ON `users` (`activation_token`) [0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170227031504')[0m
  [1m[35m (3.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryRememberMe (20170227031505)
  [1m[35m (30.5ms)[0m  [1m[35mALTER TABLE `users` ADD `remember_me_token` varchar(255)[0m
  [1m[35m (28.7ms)[0m  [1m[35mALTER TABLE `users` ADD `remember_me_token_expires_at` datetime[0m
  [1m[35m (13.5ms)[0m  [1m[35mCREATE  INDEX `index_users_on_remember_me_token`  ON `users` (`remember_me_token`) [0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170227031505')[0m
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryResetPassword (20170227031506)
  [1m[35m (32.0ms)[0m  [1m[35mALTER TABLE `users` ADD `reset_password_token` varchar(255)[0m
  [1m[35m (30.9ms)[0m  [1m[35mALTER TABLE `users` ADD `reset_password_token_expires_at` datetime[0m
  [1m[35m (32.2ms)[0m  [1m[35mALTER TABLE `users` ADD `reset_password_email_sent_at` datetime[0m
  [1m[35m (12.3ms)[0m  [1m[35mCREATE  INDEX `index_users_on_reset_password_token`  ON `users` (`reset_password_token`) [0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170227031506')[0m
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2017-02-27 03:17:28', '2017-02-27 03:17:28')[0m
  [1m[35m (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('2321506512563442330')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'users'[0m
Started GET "/" for 127.0.0.1 at 2017-02-27 14:36:37 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.4ms)
Completed 500 Internal Server Error in 4497ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (Missing partial layout/_menu with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/code/master_rails_by_actions/app/views"
):
    11:   </head>
    12: 
    13:   <body>
    14:     <% render 'layout/menu' %>
    15:     <div class="container">
    16:       <%= yield %>
    17:     </div>
  
app/views/layouts/application.html.erb:14:in `_app_views_layouts_application_html_erb___844077910762007398_48134620'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.3ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (23.3ms)
Started GET "/" for 127.0.0.1 at 2017-02-27 14:37:49 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (3.1ms)
  Rendered layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 108ms (Views: 106.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-02-27 14:38:14 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
  Rendered layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 42ms (Views: 40.4ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-02-27 14:38:15 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
  Rendered layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 39ms (Views: 38.0ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-02-27 14:44:16 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.2ms)
  Rendered layouts/_menu.html.erb (20.9ms)
Completed 200 OK in 215ms (Views: 214.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-02-27 14:44:28 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
  Rendered layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 47ms (Views: 46.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-02-27 15:16:21 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
  Rendered layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 65ms (Views: 63.5ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-02-27 16:32:28 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.4ms)
  Rendered layouts/_menu.html.erb (11.3ms)
Completed 500 Internal Server Error in 44ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined local variable or method `new_uer_path' for #<#<Class:0x007f0fe1cc6968>:0x007f0fe1cc5a40>):
    25:     </form>
    26:     <ul class="nav navbar-nav navbar-right">
    27:       <li><a href="#">购物车</a></li>
    28:       <li><a href="<%= new_uer_path %>">注册</a></li>
    29:       <li><a href="#">登录</a></li>
    30:       <li class="dropdown">
    31:         <a href="#" class="data-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded>个人中心<span class="caret"></span></a>
  
app/views/layouts/_menu.html.erb:28:in `_app_views_layouts__menu_html_erb__1543888085735292036_69852845712900'
app/views/layouts/application.html.erb:14:in `_app_views_layouts_application_html_erb__3974430341336110263_69853096218620'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.5ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.2ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (21.5ms)
Started GET "/" for 127.0.0.1 at 2017-02-27 16:32:53 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
  Rendered layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 42ms (Views: 40.6ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-02-27 16:32:55 +0800
  
SyntaxError (/home/code/master_rails_by_actions/app/controllers/users_controller.rb:18: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/users_controller.rb:18: syntax error, unexpected end-of-input, expecting keyword_end
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.9ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (20.5ms)
Started GET "/users/new" for 127.0.0.1 at 2017-02-27 16:34:08 +0800
Processing by UsersController#new as HTML
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms)


  
ArgumentError (To use reset_password submodule, you must define a mailer (config.reset_password_mailer = YourMailerClass).):
  
app/models/user.rb:2:in `<class:User>'
app/models/user.rb:1:in `<top (required)>'
app/controllers/users_controller.rb:4:in `new'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.1ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (23.0ms)
Started GET "/users/new" for 127.0.0.1 at 2017-02-27 16:38:44 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (0.9ms)
Completed 500 Internal Server Error in 318ms (ActiveRecord: 1.2ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/views/users/new.html.erb:12: syntax error, unexpected keyword_if, expecting '|'
...zontal', id:"user_form"} do |if| @output_buffer.safe_append='
...                               ^
/home/code/master_rails_by_actions/app/views/users/new.html.erb:37: syntax error, unexpected keyword_ensure, expecting end-of-input):
  
app/views/users/new.html.erb:12: syntax error, unexpected keyword_if, expecting '|'
app/views/users/new.html.erb:37: syntax error, unexpected keyword_ensure, expecting end-of-input
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.1ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (8.4ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (33.5ms)
Started GET "/users/new" for 127.0.0.1 at 2017-02-27 16:39:29 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (1.4ms)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/views/users/new.html.erb:12: syntax error, unexpected keyword_if, expecting '|'
...zontal', id:"user_form"} do |if| @output_buffer.safe_append='
...                               ^
/home/code/master_rails_by_actions/app/views/users/new.html.erb:37: syntax error, unexpected keyword_ensure, expecting end-of-input):
  
app/views/users/new.html.erb:12: syntax error, unexpected keyword_if, expecting '|'
app/views/users/new.html.erb:37: syntax error, unexpected keyword_ensure, expecting end-of-input
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.1ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.7ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (27.8ms)
Started GET "/users/new" for 127.0.0.1 at 2017-02-27 16:40:23 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (28.7ms)
Completed 500 Internal Server Error in 35ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `emil' for #<User:0x00000004a7d0d8>):
    13:   <div class="form-group">
    14:     <div class="col-lg-12">邮箱 *</div>
    15:     <div class="col-lg-12">
    16:       <%= f.text_field :emil, class: "form-control" %>
    17:     </div>
    18:   </div>
    19:   <div class="form-group">
  
app/views/users/new.html.erb:16:in `block in _app_views_users_new_html_erb__2848505529778594560_39025140'
app/views/users/new.html.erb:12:in `_app_views_users_new_html_erb__2848505529778594560_39025140'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (7.2ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.9ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (25.3ms)
Started GET "/users/new" for 127.0.0.1 at 2017-02-27 16:41:14 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (13.1ms)
  Rendered layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 240ms (Views: 239.2ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2017-02-27 16:42:01 +0800
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"VTQ+Kv/fjCQOQXydT/eo0IdMcjr/oc5lGsvvg+KnhT+BcytOLOmByKzuGZUdUd76U2E5AUx6yDOI+QQFjEVJIw==", "user"=>{"email"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "create_user_submit"=>"创建账户"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.5ms)


  
NoMethodError (undefined method `new' for #<User:0x007f2971563488>):
  
app/models/user.rb:20:in `need_validate_password'
app/controllers/users_controller.rb:11:in `create'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (7.2ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.6ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (26.8ms)
Started POST "/users" for 127.0.0.1 at 2017-02-27 16:44:33 +0800
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"VTQ+Kv/fjCQOQXydT/eo0IdMcjr/oc5lGsvvg+KnhT+BcytOLOmByKzuGZUdUd76U2E5AUx6yDOI+QQFjEVJIw==", "user"=>{"email"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "create_user_submit"=>"创建账户"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY '' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (2.4ms)
Completed 500 Internal Server Error in 40ms (ActiveRecord: 0.7ms)


  
ActionView::Template::Error (undefined method `message' for #<ActiveModel::Errors:0x0000000419cd88>):
    2: <% unless @user.errors.empty? %>
    3:  <div class="alert alert-danger"> 
    4:     <ul>
    5:       <% @user.errors.message.values.flatten.each do |error| %>
    6:         <li><%= error %></li>
    7:       <% end -%>
    8:     </ul>
  
app/views/users/new.html.erb:5:in `_app_views_users_new_html_erb__2848505529778594560_33578440'
app/controllers/users_controller.rb:15:in `create'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.1ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.0ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (24.5ms)
Started POST "/users" for 127.0.0.1 at 2017-02-27 16:46:32 +0800
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"VTQ+Kv/fjCQOQXydT/eo0IdMcjr/oc5lGsvvg+KnhT+BcytOLOmByKzuGZUdUd76U2E5AUx6yDOI+QQFjEVJIw==", "user"=>{"email"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "create_user_submit"=>"创建账户"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY '' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (7.5ms)
  Rendered layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 77ms (Views: 56.3ms | ActiveRecord: 0.9ms)


Started POST "/users" for 127.0.0.1 at 2017-02-27 16:47:33 +0800
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"avCrJ6+8Ig48WGcpKsR942mxhxWEUWkzYdBNySJ1w4S+t75DfIov4p73AiF4YgvJvZzMLjeKb2Xz4qZPTJcPmA==", "user"=>{"email"=>"111@qq.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "create_user_submit"=>"创建账户"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY '111@qq.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 122ms (Views: 21.2ms | ActiveRecord: 0.6ms)


Started POST "/users" for 127.0.0.1 at 2017-02-27 16:47:40 +0800
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"A2Sy1NRD5QEyMfYSSJxucPFMLEq7WyZWcEGQ4sYOF2zXI6ewB3Xo7ZCekxoaOhhaJWFncQiAIADic3tkqOzbcA==", "user"=>{"email"=>"111@qq.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "create_user_submit"=>"创建账户"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY '111@qq.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `crypted_password`, `salt`, `created_at`, `updated_at`, `activation_state`, `activation_token`) VALUES ('111@qq.com', '$2a$10$W5s3A3blbN8qsb..H5JbzuMl902e/nhqckU7V3eaT5dkJPNU9Zzta', 'x3rGqFoo_iaZWGNmtpCR', '2017-02-27 08:47:40', '2017-02-27 08:47:40', 'pending', 'woomzgvJ5G1QbcAMxbGp')[0m
  [1m[35m (11.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 97ms (ActiveRecord: 11.7ms)


Started GET "/" for 127.0.0.1 at 2017-02-27 16:47:40 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.3ms)
  Rendered layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 21ms (Views: 20.8ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-02-27 17:20:20 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
  Rendered layouts/_menu.html.erb (12.4ms)
Completed 500 Internal Server Error in 33ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined local variable or method `new_sessoin_path' for #<#<Class:0x00000002716db0>:0x000000026fa750>):
    26:     <ul class="nav navbar-nav navbar-right">
    27:       <li><a href="#">购物车</a></li>
    28:       <li><a href="<%= new_user_path %>">注册</a></li>
    29:       <li><a href="<%= new_sessoin_path %>">登录</a></li>
    30:       <li class="dropdown">
    31:         <a href="#" class="data-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded>个人中心<span class="caret"></span></a>
    32:         <ul class="dropdown-menu">
  
app/views/layouts/_menu.html.erb:29:in `_app_views_layouts__menu_html_erb___1468268037717527645_69907741506260'
app/views/layouts/application.html.erb:14:in `_app_views_layouts_application_html_erb___2048371797573198588_20161040'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.4ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.9ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (22.4ms)
Started GET "/" for 127.0.0.1 at 2017-02-27 17:20:55 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.3ms)
  Rendered layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 31ms (Views: 30.0ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-02-27 17:21:00 +0800
Processing by UsersController#new as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/models/user.rb:9: syntax error, unexpected ':'
    if: proc { |user| !user.email.blank? }
       ^):
  
app/models/user.rb:9: syntax error, unexpected ':'
app/controllers/users_controller.rb:4:in `new'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.6ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.0ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (23.7ms)
Started GET "/users/new" for 127.0.0.1 at 2017-02-27 17:23:39 +0800
Processing by UsersController#new as HTML
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/models/user.rb:9: syntax error, unexpected ':'
    if: proc { |user| !user.email.blank? }
       ^):
  
app/models/user.rb:9: syntax error, unexpected ':'
app/controllers/users_controller.rb:4:in `new'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.5ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (23.9ms)
Started GET "/users/new" for 127.0.0.1 at 2017-02-27 17:23:54 +0800
Processing by UsersController#new as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/models/user.rb:9: syntax error, unexpected ':'
    if: proc { |user| !user.email.blank? }
       ^):
  
app/models/user.rb:9: syntax error, unexpected ':'
app/controllers/users_controller.rb:4:in `new'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.6ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (21.8ms)
Started GET "/users/new" for 127.0.0.1 at 2017-02-27 17:26:20 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 47ms (Views: 30.8ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-02-27 17:27:55 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.2ms)
  Rendered layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 41ms (Views: 40.2ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-02-27 17:27:56 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.4ms)
  Rendered layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 29ms (Views: 27.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-02-27 17:27:56 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.8ms)
  Rendered layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 25ms (Views: 23.9ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-02-27 17:28:00 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (3.3ms)
  Rendered layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 45ms (Views: 43.5ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2017-02-27 17:28:10 +0800
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"E3krIdgtEG26VD84a+bg+x50zrWYYCQEN9Mr3zUir4PHPj5FCxsdgRj7WjA5QJbRylmFjiu7IlKl4cBZW8Bjnw==", "user"=>{"email"=>"ljljlkjljlkjlkjlkjljkljklk", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "create_user_submit"=>"创建账户"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'ljljlkjljlkjlkjlkjljkljklk' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 35ms (Views: 27.6ms | ActiveRecord: 0.5ms)


Started POST "/users" for 127.0.0.1 at 2017-02-27 17:28:49 +0800
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"4e1sgdozxUBNqFaPtqgqOSYAg2/5uaFFfOyqCnFX7HY1qnnlCQXIrO8HM4fkDlwT8i3IVEpipxPu3kGMH7Ugag==", "user"=>{"email"=>"aaa@qq.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "create_user_submit"=>"创建账户"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'aaa@qq.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 112ms (Views: 29.7ms | ActiveRecord: 0.5ms)


Started POST "/users" for 127.0.0.1 at 2017-02-27 17:30:35 +0800
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Ce50IaYMJDwv2di2myvuUcOBXk8/chAozCX2Xcf55STdqWFFdTop0I12vb7JjZh7F6wVdIypFn5eFx3bqRspOA==", "user"=>{"email"=>"aaa@qq.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "create_user_submit"=>"创建账户"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'aaa@qq.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 146ms (Views: 23.5ms | ActiveRecord: 0.6ms)


Started POST "/users" for 127.0.0.1 at 2017-02-27 17:30:38 +0800
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Jk+im25Ncb3I8H0uX2s6QPRCXZofpZa5hRBDnblbvjbyCLf/vXt8UWpfGCYNzUxqIG8Woax+kO8XIqgb17lyKg==", "user"=>{"email"=>"aaa@qq.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "create_user_submit"=>"创建账户"}
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'aaa@qq.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (3.7ms)
  Rendered layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 51ms (Views: 37.0ms | ActiveRecord: 1.1ms)


Started POST "/users" for 127.0.0.1 at 2017-02-27 17:30:57 +0800
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"KbUmRNonXwtSr35WjU1ltPeAQRGqkKPg3l5sLSTnwaj98jMgCRFS5/AAG17f6xOeI60KKhlLpbZMbIerSgUNtA==", "user"=>{"email"=>"aaa@qq.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "create_user_submit"=>"创建账户"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'aaa@qq.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 116ms (Views: 20.7ms | ActiveRecord: 0.5ms)


Started POST "/users" for 127.0.0.1 at 2017-02-27 17:32:47 +0800
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"yji9h9vF5ssjQRCVBGWGz9NTkPUnxoiA+LK68B+cjucef6jjCPPrJ4HudZ1Ww/DlB37bzpQdjtZqgFF2cX5C+w==", "user"=>{"email"=>"aaa", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "create_user_submit"=>"创建账户"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'aaa' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (2.2ms)
  Rendered layouts/_menu.html.erb (1.1ms)
Completed 200 OK in 64ms (Views: 28.8ms | ActiveRecord: 2.7ms)


Started POST "/users" for 127.0.0.1 at 2017-02-27 17:32:58 +0800
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"3l0lBxevY6laLSkgVn0eC9fn/nSKOwsIXFQPzGFs4XYKGjBjxJluRfiCTCgE22ghA8q1TzngDV7OZuRKD44tag==", "user"=>{"email"=>"aaa@qq.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "create_user_submit"=>"创建账户"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'aaa@qq.com' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO `users` (`email`, `crypted_password`, `salt`, `created_at`, `updated_at`, `activation_state`, `activation_token`) VALUES ('aaa@qq.com', '$2a$10$pwAn.M9pa6Wo3XoBMNMN6uIiJjKpLK3YXKQnRBLamXZ5oodUtOG1m', '1WwAZNfq4x16UzuN4Voj', '2017-02-27 09:32:59', '2017-02-27 09:32:59', 'pending', 'zBCURdT-LPM7CwkDqiVm')[0m
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/sessions/new
Completed 302 Found in 134ms (ActiveRecord: 3.5ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-02-27 17:32:59 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 26ms (Views: 24.9ms | ActiveRecord: 0.0ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-02-27 17:33:03 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (11.9ms)
  Rendered layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 40ms (Views: 38.4ms | ActiveRecord: 0.0ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-02-27 17:33:05 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_menu.html.erb (1.1ms)
Completed 200 OK in 26ms (Views: 25.3ms | ActiveRecord: 0.0ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-02-27 17:33:06 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_menu.html.erb (1.3ms)
Completed 200 OK in 34ms (Views: 32.4ms | ActiveRecord: 0.0ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-02-27 17:33:07 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_menu.html.erb (1.0ms)
Completed 200 OK in 40ms (Views: 38.3ms | ActiveRecord: 0.0ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-02-27 17:45:18 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (16.2ms)
Completed 500 Internal Server Error in 21ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `from_tag' for #<#<Class:0x00000004341cd8>:0x007f2971b9ba30>):
    1: <h1>登录</h1>
    2: <%= from_tag sessions_path, method: :post, class: "from-horizontal" do %>
    3:   <div class="form_group">
    4:     <div class="col-lg-12">邮箱或者手机号</div>
    5:     <div class="col-lg-12">
  
app/views/sessions/new.html.erb:2:in `_app_views_sessions_new_html_erb___121750842096450065_69907989187720'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.8ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (24.1ms)
Started GET "/sessions/new" for 127.0.0.1 at 2017-02-27 17:45:40 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"sessions"} missing required keys: [:id]):
    1: <h1>登录</h1>
    2: <%= from_tag session_path, method: :post, class: "from-horizontal" do %>
    3:   <div class="form_group">
    4:     <div class="col-lg-12">邮箱或者手机号</div>
    5:     <div class="col-lg-12">
  
app/views/sessions/new.html.erb:2:in `_app_views_sessions_new_html_erb___121750842096450065_69907995816800'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (15.0ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.6ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.9ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (33.6ms)
Started GET "/sessions/new" for 127.0.0.1 at 2017-02-27 17:46:04 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 45ms (Views: 44.4ms | ActiveRecord: 0.0ms)


Started POST "/sessions" for 127.0.0.1 at 2017-02-27 17:46:31 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"CL2/toffZHJYYh60WdJfALIQINkv2i4SZNs0Um8eV/Hc+qrSVOlpnvrNe7wLdCkqZj1r4pwBKET26d/UAfyb7Q==", "email"=>"aaa@qq.com", "password"=>"[FILTERED]", "sign_submit"=>"登录"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'aaa@qq.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/
Completed 302 Found in 156ms (ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-02-27 17:46:31 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.3ms)
  Rendered layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 34ms (Views: 32.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-02-27 17:54:18 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  Rendered layouts/_menu.html.erb (56.5ms)
Completed 500 Internal Server Error in 87ms (ActiveRecord: 0.3ms)


  
ActionView::Template::Error (undefined local variable or method `current' for #<#<Class:0x007f2971894300>:0x007f2971875220>):
    29:         <li><a href="<%= new_user_path %>">注册</a></li>
    30:         <li><a href="<%= new_session_path %>">登录</a></li>
    31:       <% else %>
    32:         <li><a href="#">欢迎您, <%= current.user.username %></a></li>
    33:       <% end -%>
    34:       <li class="dropdown">
    35:         <a href="#" class="data-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded>个人中心<span class="caret"></span></a>
  
app/views/layouts/_menu.html.erb:32:in `_app_views_layouts__menu_html_erb___1468268037717527645_69907995085200'
app/views/layouts/application.html.erb:14:in `_app_views_layouts_application_html_erb___2048371797573198588_69907987798320'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.3ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (23.3ms)
Started GET "/" for 127.0.0.1 at 2017-02-27 17:57:22 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  Rendered layouts/_menu.html.erb (13.9ms)
Completed 500 Internal Server Error in 41ms (ActiveRecord: 0.9ms)


  
ActionView::Template::Error (undefined local variable or method `current' for #<#<Class:0x007f2971894300>:0x007f29713474d8>):
    29:         <li><a href="<%= new_user_path %>">注册</a></li>
    30:         <li><a href="<%= new_session_path %>">登录</a></li>
    31:       <% else %>
    32:         <li><a href="#">欢迎您,<%= current.user.username %></a></li>
    33:       <% end -%>
    34:       <li class="dropdown">
    35:         <a href="#" class="data-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded>个人中心<span class="caret"></span></a>
  
app/views/layouts/_menu.html.erb:32:in `_app_views_layouts__menu_html_erb___1468268037717527645_39633540'
app/views/layouts/application.html.erb:14:in `_app_views_layouts_application_html_erb___2048371797573198588_69907984765380'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.7ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.6ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (22.3ms)
Started GET "/" for 127.0.0.1 at 2017-02-27 17:58:43 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  Rendered layouts/_menu.html.erb (1.8ms)
Completed 200 OK in 25ms (Views: 23.8ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-02-27 17:59:49 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  Rendered layouts/_menu.html.erb (1.7ms)
Completed 200 OK in 24ms (Views: 22.7ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-02-27 18:08:14 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.3ms)
  Rendered layouts/_menu.html.erb (0.9ms)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/views/layouts/_menu.html.erb:33: syntax error, unexpected '<'
...reeze;@output_buffer.append=( <%= link_to "退出", logout_p...
...                               ^
/home/code/master_rails_by_actions/app/views/layouts/_menu.html.erb:34: syntax error, unexpected keyword_end, expecting ')'
'.freeze;       end 
                   ^
/home/code/master_rails_by_actions/app/views/layouts/_menu.html.erb:49: syntax error, unexpected keyword_ensure, expecting ')'
/home/code/master_rails_by_actions/app/views/layouts/_menu.html.erb:51: syntax error, unexpected keyword_end, expecting ')'):
  
app/views/layouts/_menu.html.erb:33: syntax error, unexpected '<'
app/views/layouts/_menu.html.erb:34: syntax error, unexpected keyword_end, expecting ')'
app/views/layouts/_menu.html.erb:49: syntax error, unexpected keyword_ensure, expecting ')'
app/views/layouts/_menu.html.erb:51: syntax error, unexpected keyword_end, expecting ')'
app/views/layouts/application.html.erb:14:in `_app_views_layouts_application_html_erb___2048371797573198588_69907741068160'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.8ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.1ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (23.5ms)
Started GET "/" for 127.0.0.1 at 2017-02-27 18:08:51 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.4ms)
  Rendered layouts/_menu.html.erb (0.8ms)
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/views/layouts/_menu.html.erb:33: syntax error, unexpected '<'
...reeze;@output_buffer.append=( <%= link_to "退出", logout_p...
...                               ^
/home/code/master_rails_by_actions/app/views/layouts/_menu.html.erb:34: syntax error, unexpected keyword_end, expecting ')'
'.freeze;       end 
                   ^
/home/code/master_rails_by_actions/app/views/layouts/_menu.html.erb:49: syntax error, unexpected keyword_ensure, expecting ')'
/home/code/master_rails_by_actions/app/views/layouts/_menu.html.erb:51: syntax error, unexpected keyword_end, expecting ')'):
  
app/views/layouts/_menu.html.erb:33: syntax error, unexpected '<'
app/views/layouts/_menu.html.erb:34: syntax error, unexpected keyword_end, expecting ')'
app/views/layouts/_menu.html.erb:49: syntax error, unexpected keyword_ensure, expecting ')'
app/views/layouts/_menu.html.erb:51: syntax error, unexpected keyword_end, expecting ')'
app/views/layouts/application.html.erb:14:in `_app_views_layouts_application_html_erb___2048371797573198588_69907995751560'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.7ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (21.7ms)
Started GET "/" for 127.0.0.1 at 2017-02-27 18:08:52 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
  Rendered layouts/_menu.html.erb (1.4ms)
Completed 500 Internal Server Error in 28ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/views/layouts/_menu.html.erb:33: syntax error, unexpected '<'
...reeze;@output_buffer.append=( <%= link_to "退出", logout_p...
...                               ^
/home/code/master_rails_by_actions/app/views/layouts/_menu.html.erb:34: syntax error, unexpected keyword_end, expecting ')'
'.freeze;       end 
                   ^
/home/code/master_rails_by_actions/app/views/layouts/_menu.html.erb:49: syntax error, unexpected keyword_ensure, expecting ')'
/home/code/master_rails_by_actions/app/views/layouts/_menu.html.erb:51: syntax error, unexpected keyword_end, expecting ')'):
  
app/views/layouts/_menu.html.erb:33: syntax error, unexpected '<'
app/views/layouts/_menu.html.erb:34: syntax error, unexpected keyword_end, expecting ')'
app/views/layouts/_menu.html.erb:49: syntax error, unexpected keyword_ensure, expecting ')'
app/views/layouts/_menu.html.erb:51: syntax error, unexpected keyword_end, expecting ')'
app/views/layouts/application.html.erb:14:in `_app_views_layouts_application_html_erb___2048371797573198588_69907786665840'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.7ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (21.9ms)
Started GET "/" for 127.0.0.1 at 2017-02-27 18:09:08 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  Rendered layouts/_menu.html.erb (24.3ms)
Completed 200 OK in 56ms (Views: 52.9ms | ActiveRecord: 1.8ms)


Started DELETE "/logout" for 127.0.0.1 at 2017-02-27 18:10:09 +0800
  
AbstractController::ActionNotFound (The action 'destory' could not be found for SessionsController):
  
actionpack (5.0.1) lib/abstract_controller/base.rb:121:in `process'
actionview (5.0.1) lib/action_view/rendering.rb:30:in `process'
actionpack (5.0.1) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (5.0.1) lib/action_controller/metal.rb:262:in `dispatch'
actionpack (5.0.1) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (5.0.1) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (5.0.1) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.1) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.1) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.1) lib/action_dispatch/routing/route_set.rb:725:in `call'
rack (2.0.1) lib/rack/etag.rb:25:in `call'
rack (2.0.1) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.1) lib/rack/head.rb:12:in `call'
rack (2.0.1) lib/rack/session/abstract/id.rb:222:in `context'
rack (2.0.1) lib/rack/session/abstract/id.rb:216:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.0.1) lib/active_record/migration.rb:553:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.1) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.1) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.1) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.1) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.4.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.4.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.1) lib/rails/engine.rb:522:in `call'
rack (2.0.1) lib/rack/handler/webrick.rb:86:in `service'
/home/code/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
/home/code/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
/home/code/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout (0.4ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-02-27 18:11:10 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"nfflSAcidoTaKzIIcKi9HbCNqZ6u9FvQIAZnkpNmxEtJsPAs1BR7aHiEVwAiDss3ZKDipR0vXYayNIwU/YQIVw=="}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35mSQL (12.0ms)[0m  [1m[33mUPDATE `users` SET `users`.`remember_me_token` = NULL, `users`.`remember_me_token_expires_at` = NULL WHERE `users`.`id` = 2[0m
Redirected to http://localhost:3000/
Completed 302 Found in 42ms (ActiveRecord: 12.4ms)


Started GET "/" for 127.0.0.1 at 2017-02-27 18:11:11 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
  Rendered layouts/_menu.html.erb (4.4ms)
Completed 200 OK in 26ms (Views: 25.7ms | ActiveRecord: 0.0ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-02-27 18:12:00 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 27ms (Views: 26.8ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-02-27 18:12:00 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (2.1ms)
  Rendered layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 29ms (Views: 26.7ms | ActiveRecord: 0.0ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-02-27 18:12:01 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.2ms)
  Rendered layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 33ms (Views: 32.3ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-02-27 18:12:01 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 33ms (Views: 32.7ms | ActiveRecord: 0.0ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-02-27 18:12:03 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.6ms)
  Rendered layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 34ms (Views: 33.6ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-02-27 18:12:03 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (2.8ms)
  Rendered layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 25ms (Views: 24.7ms | ActiveRecord: 0.0ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-02-27 18:12:04 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.0ms)
  Rendered layouts/_menu.html.erb (1.1ms)
Completed 200 OK in 43ms (Views: 40.8ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-02-27 18:12:04 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_menu.html.erb (1.3ms)
Completed 200 OK in 28ms (Views: 27.4ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-02-27 18:12:05 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 28ms (Views: 27.4ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-02-27 18:12:06 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 28ms (Views: 27.0ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-02-27 18:12:06 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (7.8ms)
  Rendered layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 33ms (Views: 32.2ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-02-27 18:12:07 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 26ms (Views: 25.2ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-02-27 18:12:08 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (3.5ms)
  Rendered layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 25ms (Views: 23.9ms | ActiveRecord: 0.0ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-02-27 18:12:08 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 20ms (Views: 19.7ms | ActiveRecord: 0.0ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-02-27 18:12:09 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_menu.html.erb (1.4ms)
Completed 200 OK in 33ms (Views: 27.5ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-02-27 18:12:09 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (6.0ms)
  Rendered layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 44ms (Views: 43.2ms | ActiveRecord: 0.0ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-02-27 18:12:10 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_menu.html.erb (1.1ms)
Completed 200 OK in 34ms (Views: 33.4ms | ActiveRecord: 0.0ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-02-27 18:12:11 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 31ms (Views: 30.8ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-02-27 18:12:11 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (2.9ms)
  Rendered layouts/_menu.html.erb (1.3ms)
Completed 200 OK in 45ms (Views: 44.1ms | ActiveRecord: 0.0ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-02-27 18:12:12 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.6ms)
  Rendered layouts/_menu.html.erb (1.2ms)
Completed 200 OK in 55ms (Views: 53.2ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-02-27 18:12:12 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (2.2ms)
  Rendered layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 34ms (Views: 33.3ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-02-27 18:12:13 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 32ms (Views: 30.9ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-02-27 18:12:15 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_menu.html.erb (1.0ms)
Completed 200 OK in 35ms (Views: 34.6ms | ActiveRecord: 0.0ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-02-27 18:12:15 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 37ms (Views: 36.3ms | ActiveRecord: 0.0ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-02-27 18:12:16 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.6ms)
  Rendered layouts/_menu.html.erb (1.2ms)
Completed 200 OK in 49ms (Views: 47.9ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-02-27 18:12:17 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (2.8ms)
  Rendered layouts/_menu.html.erb (1.1ms)
Completed 200 OK in 39ms (Views: 37.9ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-02-27 18:12:17 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 35ms (Views: 30.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-02-28 10:30:03 +0800
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

):
  
activerecord (5.0.1) lib/active_record/migration.rb:573:in `check_pending!'
activerecord (5.0.1) lib/active_record/migration.rb:549:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.1) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.1) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.1) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.1) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.4.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.4.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.1) lib/rails/engine.rb:522:in `call'
rack (2.0.1) lib/rack/handler/webrick.rb:86:in `service'
/home/code/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
/home/code/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
/home/code/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.0ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (22.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2321506512563442330', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to CreateCategories (20170228015232)
  [1m[35m (19.7ms)[0m  [1m[35mCREATE TABLE `categories` (`id` int AUTO_INCREMENT PRIMARY KEY, `title` varchar(255), `weight` int DEFAULT 0, `products_counter` int DEFAULT 0, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (12.5ms)[0m  [1m[35mCREATE  INDEX `index_categories_on_title`  ON `categories` (`title`) [0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170228015232')[0m
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProducts (20170228015253)
  [1m[35m (16.6ms)[0m  [1m[35mCREATE TABLE `products` (`id` int AUTO_INCREMENT PRIMARY KEY, `category_id` int, `title` varchar(255), `status` varchar(255) DEFAULT 'off', `amount` int DEFAULT 0, `uuid` varchar(255), `msrp` decimal(10,2), `price` decimal(10,2), `description` text, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (12.3ms)[0m  [1m[35mCREATE  INDEX `index_products_on_status_and_category_id`  ON `products` (`status`, `category_id`) [0m
  [1m[35m (16.4ms)[0m  [1m[35mCREATE  INDEX `index_products_on_category_id`  ON `products` (`category_id`) [0m
  [1m[35m (12.2ms)[0m  [1m[35mCREATE UNIQUE INDEX `index_products_on_uuid`  ON `products` (`uuid`) [0m
  [1m[35m (12.4ms)[0m  [1m[35mCREATE  INDEX `index_products_on_title`  ON `products` (`title`) [0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170228015253')[0m
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (4.6ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2321506512563442330')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `categories`[0m
  [1m[35m (0.6ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'categories'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `products`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'products'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'users'[0m
Started GET "/" for 127.0.0.1 at 2017-02-28 10:32:10 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.4ms)
  Rendered layouts/_menu.html.erb (3.7ms)
Completed 200 OK in 310ms (Views: 308.6ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-02-28 10:42:08 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.3ms)
  Rendered layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 21ms (Views: 20.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-02-28 10:42:08 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.3ms)
  Rendered layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 27ms (Views: 25.9ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-02-28 10:42:11 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (7.1ms)
  Rendered layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 300ms (Views: 26.9ms | ActiveRecord: 1.2ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-02-28 10:42:12 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 23ms (Views: 21.9ms | ActiveRecord: 0.0ms)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2321506512563442330', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to AddAncestryToCatrgory (20170228030926)
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE `categfories` ADD `ancestry` varchar(255)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2321506512563442330')[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2321506512563442330', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to AddAncestryToCategory (20170228031838)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2321506512563442330')[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2321506512563442330', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to AddAncestryToCategory (20170228031838)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2321506512563442330')[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2321506512563442330', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to AddAncestryToCategory (20170228031838)
  [1m[35m (24.0ms)[0m  [1m[35mALTER TABLE `categories` ADD `ancestry` varchar(255)[0m
  [1m[35m (15.7ms)[0m  [1m[35mCREATE  INDEX `index_categories_on_ancestry`  ON `categories` (`ancestry`) [0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170228031838')[0m
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT RELEASE_LOCK('2321506512563442330')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `categories`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'categories'[0m
  [1m[35m (0.6ms)[0m  [1m[35mSHOW CREATE TABLE `products`[0m
  [1m[35m (1.0ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'products'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'users'[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `categories` (`title`, `created_at`, `updated_at`) VALUES ('c1', '2017-02-28 03:23:00', '2017-02-28 03:23:00')[0m
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO `categories` (`title`, `created_at`, `updated_at`) VALUES ('c1', '2017-02-28 03:24:14', '2017-02-28 03:24:14')[0m
  [1m[35m (12.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `categories` (`title`, `created_at`, `updated_at`, `ancestry`) VALUES ('c12', '2017-02-28 03:24:26', '2017-02-28 03:24:26', '2')[0m
  [1m[35m (11.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '2'[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '2' ORDER BY `categories`.`id` ASC LIMIT 1[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '2' ORDER BY `categories`.`id` ASC LIMIT 1[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 2 LIMIT 1[0m
Started GET "/" for 127.0.0.1 at 2017-02-28 16:37:35 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.2ms)
  Rendered layouts/_menu.html.erb (4.0ms)
Completed 200 OK in 3990ms (Views: 3988.7ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-02-28 16:37:49 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
  Rendered layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 33ms (Views: 31.7ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-02-28 16:37:57 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.6ms)
Completed 500 Internal Server Error in 22ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined local variable or method `csrf_meta' for #<#<Class:0x007f10e35ca6e8>:0x007f10e35c9478>):
    3:   <head>
    4:     <title>管理平台 - 蛋人商城</title>
    5:     <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    6:     <%= csrf_meta-tags %>
    7: 
    8:     <%= stylesheet_link_tag 'admin', media: "all" %>
    9:     <%= yield :stylesheets %>
  
app/views/admin/layouts/admin.html.erb:6:in `_app_views_admin_layouts_admin_html_erb___2520502166714445797_69855255335040'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.7ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.2ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (25.1ms)
Started GET "/admin" for 127.0.0.1 at 2017-02-28 16:39:07 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.4ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 86ms (Views: 84.7ms | ActiveRecord: 0.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-02-28 16:39:16 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  Rendered admin/categories/index.html.erb within admin/layouts/admin (0.4ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 30ms (Views: 29.6ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-02-28 16:39:17 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.3ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 22ms (Views: 21.7ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-02-28 16:39:17 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.3ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 22ms (Views: 21.3ms | ActiveRecord: 0.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-02-28 16:40:36 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  Rendered admin/categories/index.html.erb within admin/layouts/admin (0.4ms)
  Rendered admin/layouts/_menu.html.erb (1.2ms)
Completed 200 OK in 44ms (Views: 43.1ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-02-28 16:40:37 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.3ms)
  Rendered admin/layouts/_menu.html.erb (1.8ms)
Completed 200 OK in 27ms (Views: 25.6ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-02-28 16:40:37 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.7ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 27ms (Views: 25.9ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-02-28 16:40:38 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.4ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 25ms (Views: 24.6ms | ActiveRecord: 0.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-02-28 16:40:38 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  Rendered admin/categories/index.html.erb within admin/layouts/admin (0.4ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 22ms (Views: 20.9ms | ActiveRecord: 0.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-02-28 17:09:53 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by Admin::CategoriesController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
NameError (uninitialized constant Admin::CategoriesController::Categories):
  
app/controllers/admin/categories_controller.rb:3:in `index'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.3ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (7.2ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (9.4ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (38.9ms)
Started GET "/admin/categories" for 127.0.0.1 at 2017-02-28 17:11:33 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (14.5ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 320ms (Views: 308.8ms | ActiveRecord: 2.6ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-02-28 17:12:14 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (7.5ms)
  Rendered admin/layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 44ms (Views: 41.6ms | ActiveRecord: 0.5ms)


Started GET "/admin" for 127.0.0.1 at 2017-02-28 17:12:16 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.4ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 41ms (Views: 40.3ms | ActiveRecord: 0.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-02-28 17:12:17 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (9.9ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 48ms (Views: 44.2ms | ActiveRecord: 1.2ms)


Started GET "/" for 127.0.0.1 at 2017-03-01 09:56:31 +0800
  [1m[36mActiveRecord::SchemaMigration Load (2.6ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.7ms)
  Rendered layouts/_menu.html.erb (4.1ms)
Completed 200 OK in 371ms (Views: 369.7ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 09:56:45 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.7ms)
  Rendered admin/layouts/_menu.html.erb (1.5ms)
Completed 200 OK in 92ms (Views: 90.3ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 09:56:50 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.4ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 32ms (Views: 30.9ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 09:56:51 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.7ms)
  Rendered admin/layouts/_menu.html.erb (1.4ms)
Completed 200 OK in 60ms (Views: 57.8ms | ActiveRecord: 0.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 09:56:53 +0800
  
SyntaxError (/home/code/master_rails_by_actions/app/controllers/admin/categories_controller.rb:22: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/admin/categories_controller.rb:22: syntax error, unexpected end-of-input, expecting keyword_end
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.6ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (22.3ms)
Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 09:57:35 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (15.6ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 44ms (Views: 31.7ms | ActiveRecord: 3.8ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 09:57:39 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.6ms)
  Rendered admin/layouts/_menu.html.erb (1.0ms)
Completed 200 OK in 37ms (Views: 36.1ms | ActiveRecord: 0.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 09:57:39 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (1.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (8.4ms)
  Rendered admin/layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 46ms (Views: 42.1ms | ActiveRecord: 1.8ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 09:57:45 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (1.2ms)
  Rendered admin/layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 48ms (Views: 45.7ms | ActiveRecord: 0.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 09:58:01 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (10.1ms)
  Rendered admin/layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 52ms (Views: 48.1ms | ActiveRecord: 1.4ms)


Started GET "/admin/categories/new" for 127.0.0.1 at 2017-03-01 09:58:04 +0800
Processing by Admin::CategoriesController#new as HTML
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (23.5ms)
Completed 500 Internal Server Error in 28ms (ActiveRecord: 0.6ms)


  
ActionView::Template::Error (undefined method `from_for' for #<#<Class:0x007effedb3fb98>:0x007effee64e020>):
    3: </div>
    4: 
    5: <div class="form-body">
    6:   <%= from_for @category,
    7:   url: (@category.new_record? ? admin_categories_path : admin_category_path(@category)),
    8:   method: (@category.new_record? ? 'post' : 'put'),
    9:   html: { class: 'form-horizontal' } do |f| %>
  
app/views/admin/categories/new.html.erb:6:in `_app_views_admin_categories_new_html_erb__3356741449268442108_69818840675640'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.0ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (24.7ms)
Started GET "/admin/categories/new" for 127.0.0.1 at 2017-03-01 09:59:50 +0800
Processing by Admin::CategoriesController#new as HTML
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (31.2ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 63ms (Views: 59.8ms | ActiveRecord: 0.5ms)


Started POST "/admin/categories" for 127.0.0.1 at 2017-03-01 10:00:01 +0800
Processing by Admin::CategoriesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"MebdYQc2RXiSjUk7qJLpofjLOOutbqDoL9NdgTOcWiM8jfwR78TTqBcX69BVSpV5HzDHZ9pZA55qrnRumYpXBg==", "category"=>{"ancestry"=>"", "title"=>"", "weight"=>"0"}, "commit"=>"新建分类"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  Rendered admin/categories/new.html.erb within admin/layouts/admin (3.4ms)
Completed 500 Internal Server Error in 32ms (ActiveRecord: 0.3ms)


  
ActionView::Template::Error (undefined method `message' for #<ActiveModel::Errors:0x007effee97d8e0>):
    11:     <% unless @category.errors.blank? %>
    12:       <div class="alert alert-danger">
    13:         <ul class="list-unstyled">
    14:           <% @category.errors.message.values.flatten.each do |error| %>
    15:             <li><i class="fa fa-exclamation-circles"></i><%= error %></li>
    16:           <% end -%>
    17:         </ul>
  
app/views/admin/categories/new.html.erb:14:in `block in _app_views_admin_categories_new_html_erb__3356741449268442108_69818842534320'
app/views/admin/categories/new.html.erb:6:in `_app_views_admin_categories_new_html_erb__3356741449268442108_69818842534320'
app/controllers/admin/categories_controller.rb:20:in `create'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.6ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.6ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (22.9ms)
Started POST "/admin/categories" for 127.0.0.1 at 2017-03-01 10:00:59 +0800
Processing by Admin::CategoriesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"MebdYQc2RXiSjUk7qJLpofjLOOutbqDoL9NdgTOcWiM8jfwR78TTqBcX69BVSpV5HzDHZ9pZA55qrnRumYpXBg==", "category"=>{"ancestry"=>"", "title"=>"", "weight"=>"0"}, "commit"=>"新建分类"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (8.2ms)
  Rendered admin/layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 62ms (Views: 57.1ms | ActiveRecord: 1.0ms)


Started POST "/admin/categories" for 127.0.0.1 at 2017-03-01 10:05:28 +0800
Processing by Admin::CategoriesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"MebdYQc2RXiSjUk7qJLpofjLOOutbqDoL9NdgTOcWiM8jfwR78TTqBcX69BVSpV5HzDHZ9pZA55qrnRumYpXBg==", "category"=>{"ancestry"=>"", "title"=>"", "weight"=>"0"}, "commit"=>"新建分类"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (3.8ms)
  Rendered admin/layouts/_menu.html.erb (1.0ms)
Completed 200 OK in 41ms (Views: 26.0ms | ActiveRecord: 1.9ms)


Started POST "/admin/categories" for 127.0.0.1 at 2017-03-01 10:05:44 +0800
Processing by Admin::CategoriesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"YCDzjUzhHmtk/q6JMd1E4UUnssWhmg1FEa/87lcSQwFtS9L9pBOIu+FkDGLMBTg5otxNSdatrjNU0tUB/QROJA==", "category"=>{"ancestry"=>"", "title"=>"a", "weight"=>"10"}, "commit"=>"新建分类"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (4.2ms)[0m  [1m[32mINSERT INTO `categories` (`title`, `weight`, `created_at`, `updated_at`) VALUES ('a', 10, '2017-03-01 02:05:44', '2017-03-01 02:05:44')[0m
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 16ms (ActiveRecord: 7.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 10:05:44 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (5.4ms)
  Rendered admin/layouts/_menu.html.erb (1.1ms)
Completed 200 OK in 33ms (Views: 31.2ms | ActiveRecord: 0.7ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 10:05:59 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (1.0ms)
  Rendered admin/layouts/_menu.html.erb (1.1ms)
Completed 200 OK in 44ms (Views: 42.6ms | ActiveRecord: 0.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 10:06:00 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (4.0ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 29ms (Views: 27.7ms | ActiveRecord: 0.6ms)


Started GET "/admin/categories/new" for 127.0.0.1 at 2017-03-01 10:06:01 +0800
Processing by Admin::CategoriesController#new as HTML
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (1.1ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (6.1ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 37ms (Views: 34.7ms | ActiveRecord: 1.1ms)


Started POST "/admin/categories" for 127.0.0.1 at 2017-03-01 10:06:10 +0800
Processing by Admin::CategoriesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"yHx8UegxFYGzDTfENMZV1IU5GKsvt4w/rsWFhwY5l1/FF10hAMODUTaXlS/JHikMYsLnJ1iAL0nruKxorC+aeg==", "category"=>{"ancestry"=>"4", "title"=>"a1", "weight"=>"100"}, "commit"=>"新建分类"}
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO `categories` (`title`, `weight`, `created_at`, `updated_at`, `ancestry`) VALUES ('a1', 100, '2017-03-01 02:06:10', '2017-03-01 02:06:10', '4')[0m
  [1m[35m (5.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 15ms (ActiveRecord: 7.6ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 10:06:10 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (4.3ms)
  Rendered admin/layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 31ms (Views: 29.2ms | ActiveRecord: 0.7ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 10:30:09 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (8.7ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 36ms (Views: 30.2ms | ActiveRecord: 0.7ms)


Started GET "/admin/categories/4/edit" for 127.0.0.1 at 2017-03-01 10:30:13 +0800
Processing by Admin::CategoriesController#edit as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 4 LIMIT 1[0m
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (6.0ms)
  Rendered admin/layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 62ms (Views: 45.4ms | ActiveRecord: 0.9ms)


Started PUT "/admin/categories/4" for 127.0.0.1 at 2017-03-01 10:30:25 +0800
Processing by Admin::CategoriesController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ZnhsR2FwFkFr5PaZUnzjuZCQEEqvlfnRX04g+mTDg8BrE003iYKAke5+VHKvpJ9hd2vvxtiiWqcaMwkVztWO5Q==", "category"=>{"ancestry"=>"", "title"=>"a2", "weight"=>"11"}, "commit"=>"编辑分类", "id"=>"4"}
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 4 LIMIT 1[0m
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.4ms)


  
NoMethodError (undefined method `attributes=' for nil:NilClass):
  
app/controllers/admin/categories_controller.rb:32:in `update'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.4ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (23.2ms)
Started PUT "/admin/categories/4" for 127.0.0.1 at 2017-03-01 10:31:41 +0800
Processing by Admin::CategoriesController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ZnhsR2FwFkFr5PaZUnzjuZCQEEqvlfnRX04g+mTDg8BrE003iYKAke5+VHKvpJ9hd2vvxtiiWqcaMwkVztWO5Q==", "category"=>{"ancestry"=>"", "title"=>"a2", "weight"=>"11"}, "commit"=>"编辑分类", "id"=>"4"}
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `categories` SET `title` = 'a2', `weight` = 11, `updated_at` = '2017-03-01 02:31:41' WHERE `categories`.`id` = 4[0m
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 22ms (ActiveRecord: 3.2ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 10:31:41 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (4.7ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 28ms (Views: 25.5ms | ActiveRecord: 0.6ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 10:36:36 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (9.6ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 34ms (Views: 28.4ms | ActiveRecord: 0.8ms)


Started GET "/admin/categories?id=2" for 127.0.0.1 at 2017-03-01 10:37:40 +0800
Processing by Admin::CategoriesController#index as HTML
  Parameters: {"id"=>"2"}
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (5.4ms)
  Rendered admin/layouts/_menu.html.erb (8.8ms)
Completed 200 OK in 38ms (Views: 35.3ms | ActiveRecord: 0.6ms)


Started GET "/admin/categories?id=4" for 127.0.0.1 at 2017-03-01 10:37:41 +0800
Processing by Admin::CategoriesController#index as HTML
  Parameters: {"id"=>"4"}
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (3.3ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 22ms (Views: 20.4ms | ActiveRecord: 0.6ms)


Started DELETE "/admin/categories/4" for 127.0.0.1 at 2017-03-01 10:37:51 +0800
Processing by Admin::CategoriesController#destroy as HTML
  Parameters: {"authenticity_token"=>"cgVkYqHJXAdBcmTv1F1otgaPvzioR6to4eWJfcXku/F/bkUSSTvK18ToxgQphRRu4XRAtN9wCB6kmKCSb/K21A==", "id"=>"4"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE (`categories`.`ancestry` LIKE '4/%' OR `categories`.`ancestry` = '4')[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`category_id` = 5[0m
  [1m[35mSQL (0.9ms)[0m  [1m[31mDELETE FROM `categories` WHERE `categories`.`id` = 5[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`category_id` = 4[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `categories` WHERE `categories`.`id` = 4[0m
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 43ms (ActiveRecord: 7.6ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 10:37:51 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (3.0ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 23ms (Views: 21.8ms | ActiveRecord: 0.5ms)


Started DELETE "/admin/categories/2" for 127.0.0.1 at 2017-03-01 10:37:55 +0800
Processing by Admin::CategoriesController#destroy as HTML
  Parameters: {"authenticity_token"=>"IROHn3CEzyBu4jzpupAwxa1BqV5mICAMRZjt+bw1u3UseKbvmHZZ8Ot4ngJHSEwdSrpW0hEXg3oA5cQWFiO2UA==", "id"=>"2"}
  [1m[36mCategory Load (1.1ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE (`categories`.`ancestry` LIKE '2/%' OR `categories`.`ancestry` = '2')[0m
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`category_id` = 3[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM `categories` WHERE `categories`.`id` = 3[0m
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`category_id` = 2[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM `categories` WHERE `categories`.`id` = 2[0m
  [1m[35m (10.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 33ms (ActiveRecord: 15.3ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 10:37:55 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (5.5ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 31ms (Views: 28.9ms | ActiveRecord: 1.1ms)


Started DELETE "/admin/categories/1" for 127.0.0.1 at 2017-03-01 10:37:56 +0800
Processing by Admin::CategoriesController#destroy as HTML
  Parameters: {"authenticity_token"=>"YvBDS5N7Ft5wERn5LvlsKxoiTURowVqUUmoNalXGNQlvm2I7e4mADvWLuxLTIRDz/dmyyB/2+eIXFySF/9A4LA==", "id"=>"1"}
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE (`categories`.`ancestry` LIKE '1/%' OR `categories`.`ancestry` = '1')[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`category_id` = 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM `categories` WHERE `categories`.`id` = 1[0m
  [1m[35m (11.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 21ms (ActiveRecord: 13.4ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 10:37:56 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (3.1ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 31ms (Views: 28.8ms | ActiveRecord: 0.7ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 10:45:02 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (3.1ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 28ms (Views: 22.3ms | ActiveRecord: 0.6ms)


Started GET "/admin/categories/new" for 127.0.0.1 at 2017-03-01 10:45:04 +0800
Processing by Admin::CategoriesController#new as HTML
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (3.3ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 31ms (Views: 22.7ms | ActiveRecord: 1.1ms)


Started POST "/admin/categories" for 127.0.0.1 at 2017-03-01 10:45:29 +0800
Processing by Admin::CategoriesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"XyI/mYRMl+ha/+ejr1Zby5lusHQIaZFMyCCcA6ZjkRFSSR7pbL4BON9lRUhSjicTfpVP+H9eMjqNXbXsDHWcNA==", "category"=>{"ancestry"=>"", "title"=>"aaa", "weight"=>"100"}, "commit"=>"新建分类"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `categories` (`title`, `weight`, `created_at`, `updated_at`) VALUES ('aaa', 100, '2017-03-01 02:45:29', '2017-03-01 02:45:29')[0m
  [1m[35m (14.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 25ms (ActiveRecord: 14.6ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 10:45:29 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (4.5ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 38ms (Views: 35.8ms | ActiveRecord: 0.7ms)


Started GET "/admin/categories/6/edit" for 127.0.0.1 at 2017-03-01 10:45:32 +0800
Processing by Admin::CategoriesController#edit as HTML
  Parameters: {"id"=>"6"}
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 6 LIMIT 1[0m
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (5.3ms)
  Rendered admin/layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 51ms (Views: 47.1ms | ActiveRecord: 1.2ms)


Started PUT "/admin/categories/6" for 127.0.0.1 at 2017-03-01 10:45:40 +0800
Processing by Admin::CategoriesController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"LJUTSh1BgIRHTfVMJHFeuHWPAQ8BLx99LLFjS3XvHvch/jI69bMWVMLXV6fZqSJgknT+g3YYvAtpzEqk3/kT0g==", "category"=>{"ancestry"=>"", "title"=>"aaa 2", "weight"=>"1002"}, "commit"=>"编辑分类", "id"=>"6"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `categories` SET `title` = 'aaa 2', `weight` = 1002, `updated_at` = '2017-03-01 02:45:40' WHERE `categories`.`id` = 6[0m
  [1m[35m (9.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 15ms (ActiveRecord: 9.8ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 10:45:40 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (4.2ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 25ms (Views: 22.9ms | ActiveRecord: 1.0ms)


Started DELETE "/admin/categories/6" for 127.0.0.1 at 2017-03-01 10:45:47 +0800
Processing by Admin::CategoriesController#destroy as HTML
  Parameters: {"authenticity_token"=>"xZmynQh1gsEgUITKvf8iwUvA8O++gIsEqDxjIRbLgFbI8pPt4IcUEaXKJiFAJ14ZrDsPY8m3KHLtQUrOvN2Ncw==", "id"=>"6"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 6 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Load (1.2ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE (`categories`.`ancestry` LIKE '6/%' OR `categories`.`ancestry` = '6')[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`category_id` = 6[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM `categories` WHERE `categories`.`id` = 6[0m
  [1m[35m (11.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 33ms (ActiveRecord: 15.2ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 10:45:47 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (3.1ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 38ms (Views: 36.2ms | ActiveRecord: 0.5ms)


Started GET "/admin/categories/new" for 127.0.0.1 at 2017-03-01 10:45:58 +0800
Processing by Admin::CategoriesController#new as HTML
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (3.3ms)
  Rendered admin/layouts/_menu.html.erb (1.1ms)
Completed 200 OK in 26ms (Views: 23.6ms | ActiveRecord: 0.4ms)


Started POST "/admin/categories" for 127.0.0.1 at 2017-03-01 10:46:01 +0800
Processing by Admin::CategoriesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"P0STzEdq3czRLzPNeAUI8rgEXjBKPU+nmZZlmfq6SMIyL7K8r5hLHFS1kSaF3XQqX/+hvD0K7NHc60x2UKxF5w==", "category"=>{"ancestry"=>"", "title"=>"aa", "weight"=>"0"}, "commit"=>"新建分类"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `categories` (`title`, `created_at`, `updated_at`) VALUES ('aa', '2017-03-01 02:46:01', '2017-03-01 02:46:01')[0m
  [1m[35m (4.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 10ms (ActiveRecord: 5.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 10:46:01 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (4.8ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 29ms (Views: 27.2ms | ActiveRecord: 0.7ms)


Started GET "/admin/categories/new" for 127.0.0.1 at 2017-03-01 10:46:10 +0800
Processing by Admin::CategoriesController#new as HTML
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (5.7ms)
  Rendered admin/layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 53ms (Views: 49.9ms | ActiveRecord: 0.6ms)


Started POST "/admin/categories" for 127.0.0.1 at 2017-03-01 10:46:33 +0800
Processing by Admin::CategoriesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"tkRbpGozPhfrTgLvn16VmxQVmUnpJTEpbRQqUY3xf9y7L3rUgsGox27UoARihulD8+5mxZ4Skl8oaQO+J+dy+Q==", "category"=>{"ancestry"=>"7", "title"=>"aa 2", "weight"=>"0"}, "commit"=>"新建分类"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `categories` (`title`, `created_at`, `updated_at`, `ancestry`) VALUES ('aa 2', '2017-03-01 02:46:33', '2017-03-01 02:46:33', '7')[0m
  [1m[35m (9.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 17ms (ActiveRecord: 9.7ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 10:46:33 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (6.0ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 35ms (Views: 32.5ms | ActiveRecord: 1.2ms)


Started DELETE "/admin/categories/7" for 127.0.0.1 at 2017-03-01 10:47:13 +0800
Processing by Admin::CategoriesController#destroy as HTML
  Parameters: {"authenticity_token"=>"24F6oHInVuY4WAqZawiuqu4NIPHlhkiUA3XTYDjJ0EfW6lvQmtXANr3CqHKW0NJyCfbffZKx6+JGCPqPkt/dYg==", "id"=>"7"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE (`categories`.`ancestry` LIKE '7/%' OR `categories`.`ancestry` = '7')[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`category_id` = 8[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM `categories` WHERE `categories`.`id` = 8[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`category_id` = 7[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `categories` WHERE `categories`.`id` = 7[0m
  [1m[35m (11.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 22ms (ActiveRecord: 13.8ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 10:47:13 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (2.6ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 21ms (Views: 19.1ms | ActiveRecord: 0.5ms)


Started GET "/admin/categories/new" for 127.0.0.1 at 2017-03-01 10:47:17 +0800
Processing by Admin::CategoriesController#new as HTML
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (2.5ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 23ms (Views: 21.6ms | ActiveRecord: 0.3ms)


Started POST "/admin/categories" for 127.0.0.1 at 2017-03-01 10:47:58 +0800
Processing by Admin::CategoriesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"gkmRRZXZXpTjSXDvZLaF2VVstf+EK2T51JarQgHdO4WPIrA1fSvIRGbT0gSZbvkBspdKc/Mcx4+R64Ktq8s2oA==", "category"=>{"ancestry"=>"", "title"=>"手机", "weight"=>"19"}, "commit"=>"新建分类"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO `categories` (`title`, `weight`, `created_at`, `updated_at`) VALUES ('手机', 19, '2017-03-01 02:47:58', '2017-03-01 02:47:58')[0m
  [1m[35m (9.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 16ms (ActiveRecord: 10.5ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 10:47:58 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (4.4ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 32ms (Views: 30.0ms | ActiveRecord: 0.7ms)


Started GET "/admin/categories/new" for 127.0.0.1 at 2017-03-01 10:48:03 +0800
Processing by Admin::CategoriesController#new as HTML
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (4.9ms)
  Rendered admin/layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 52ms (Views: 49.2ms | ActiveRecord: 0.5ms)


Started POST "/admin/categories" for 127.0.0.1 at 2017-03-01 10:48:13 +0800
Processing by Admin::CategoriesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"rEbJqxAveYQH1+sRQknAzobCCbh/sVywY9wshJicuUuhLejb+N3vVIJNSfq/kbwWYTn2NAiG/8YmoQVrMoq0bg==", "category"=>{"ancestry"=>"", "title"=>"主机游戏", "weight"=>"10"}, "commit"=>"新建分类"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `categories` (`title`, `weight`, `created_at`, `updated_at`) VALUES ('主机游戏', 10, '2017-03-01 02:48:13', '2017-03-01 02:48:13')[0m
  [1m[35m (11.5ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 19ms (ActiveRecord: 12.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 10:48:13 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (5.1ms)
  Rendered admin/layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 40ms (Views: 36.4ms | ActiveRecord: 0.8ms)


Started GET "/admin/categories/new" for 127.0.0.1 at 2017-03-01 10:49:15 +0800
Processing by Admin::CategoriesController#new as HTML
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (3.1ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 25ms (Views: 24.0ms | ActiveRecord: 0.3ms)


Started GET "/admin/categories/new" for 127.0.0.1 at 2017-03-01 10:57:20 +0800
  
SyntaxError (/home/code/master_rails_by_actions/app/controllers/admin/categories_controller.rb:65: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/admin/categories_controller.rb:65: syntax error, unexpected end-of-input, expecting keyword_end
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.5ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (19.4ms)
Started GET "/admin/categories/new" for 127.0.0.1 at 2017-03-01 11:00:29 +0800
Processing by Admin::CategoriesController#new as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `find_root_categories' for #<Admin::CategoriesController:0x007effeda245b0>):
  
activesupport (5.0.1) lib/active_support/callbacks.rb:382:in `block in make_lambda'
activesupport (5.0.1) lib/active_support/callbacks.rb:150:in `call'
activesupport (5.0.1) lib/active_support/callbacks.rb:150:in `block (2 levels) in halting_and_conditional'
actionpack (5.0.1) lib/abstract_controller/callbacks.rb:12:in `call'
actionpack (5.0.1) lib/abstract_controller/callbacks.rb:12:in `block (2 levels) in <module:Callbacks>'
activesupport (5.0.1) lib/active_support/callbacks.rb:151:in `call'
activesupport (5.0.1) lib/active_support/callbacks.rb:151:in `block in halting_and_conditional'
activesupport (5.0.1) lib/active_support/callbacks.rb:454:in `call'
activesupport (5.0.1) lib/active_support/callbacks.rb:454:in `block in call'
activesupport (5.0.1) lib/active_support/callbacks.rb:454:in `each'
activesupport (5.0.1) lib/active_support/callbacks.rb:454:in `call'
activesupport (5.0.1) lib/active_support/callbacks.rb:101:in `__run_callbacks__'
activesupport (5.0.1) lib/active_support/callbacks.rb:750:in `_run_process_action_callbacks'
activesupport (5.0.1) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.1) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (5.0.1) lib/action_controller/metal/rescue.rb:20:in `process_action'
actionpack (5.0.1) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.0.1) lib/active_support/notifications.rb:164:in `block in instrument'
activesupport (5.0.1) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.0.1) lib/active_support/notifications.rb:164:in `instrument'
actionpack (5.0.1) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.0.1) lib/action_controller/metal/params_wrapper.rb:248:in `process_action'
activerecord (5.0.1) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
actionpack (5.0.1) lib/abstract_controller/base.rb:126:in `process'
actionview (5.0.1) lib/action_view/rendering.rb:30:in `process'
actionpack (5.0.1) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (5.0.1) lib/action_controller/metal.rb:262:in `dispatch'
actionpack (5.0.1) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (5.0.1) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (5.0.1) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.1) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.1) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.1) lib/action_dispatch/routing/route_set.rb:725:in `call'
rack (2.0.1) lib/rack/etag.rb:25:in `call'
rack (2.0.1) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.1) lib/rack/head.rb:12:in `call'
rack (2.0.1) lib/rack/session/abstract/id.rb:222:in `context'
rack (2.0.1) lib/rack/session/abstract/id.rb:216:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.0.1) lib/active_record/migration.rb:553:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.1) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.1) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.1) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.1) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.4.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.4.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.1) lib/rails/engine.rb:522:in `call'
rack (2.0.1) lib/rack/handler/webrick.rb:86:in `service'
/home/code/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
/home/code/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
/home/code/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.8ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (10.3ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (32.7ms)
Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 11:02:51 +0800
Processing by Admin::CategoriesController#index as HTML
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
Completed 500 Internal Server Error in 22ms (ActiveRecord: 0.0ms)


  
NameError (undefined local variable or method `private' for #<Admin::CategoriesController:0x007effee4396e0>):
  
app/controllers/admin/categories_controller.rb:56:in `index'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.7ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (21.3ms)
Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 11:04:46 +0800
Processing by Admin::CategoriesController#index as HTML
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.0ms)


  
NameError (undefined local variable or method `private' for #<Admin::CategoriesController:0x007effed8f7098>):
  
app/controllers/admin/categories_controller.rb:56:in `index'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.4ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (23.5ms)
Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 11:06:23 +0800
Processing by Admin::CategoriesController#index as HTML
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.0ms)


  
NameError (undefined local variable or method `private' for #<Admin::CategoriesController:0x007effed225af8>):
  
app/controllers/admin/categories_controller.rb:56:in `index'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.5ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.2ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.7ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (27.1ms)
Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 11:10:00 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (10.1ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 39ms (Views: 31.6ms | ActiveRecord: 0.7ms)


Started GET "/admin/categories?id=10" for 127.0.0.1 at 2017-03-01 11:10:15 +0800
Processing by Admin::CategoriesController#index as HTML
  Parameters: {"id"=>"10"}
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 10 LIMIT 1[0m
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` = '10'[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (4.1ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 32ms (Views: 27.5ms | ActiveRecord: 1.3ms)


Started GET "/admin/categories/new" for 127.0.0.1 at 2017-03-01 11:10:42 +0800
Processing by Admin::CategoriesController#new as HTML
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (3.6ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 26ms (Views: 24.3ms | ActiveRecord: 0.5ms)


Started POST "/admin/categories" for 127.0.0.1 at 2017-03-01 11:11:12 +0800
Processing by Admin::CategoriesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"/OeQDngokFbWhOxVFuGCxDg0BDCJmJM3Dx7zXFGn3jLxjLF+kNoGhlMeTr7rOf4c38/7vP6vMEFKY9qz+7HTFw==", "category"=>{"ancestry"=>"9", "title"=>"iphone", "weight"=>"10"}, "commit"=>"新建分类"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.6ms)[0m  [1m[32mINSERT INTO `categories` (`title`, `weight`, `created_at`, `updated_at`, `ancestry`) VALUES ('iphone', 10, '2017-03-01 03:11:12', '2017-03-01 03:11:12', '9')[0m
  [1m[35m (14.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 25ms (ActiveRecord: 16.7ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 11:11:12 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (5.1ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 37ms (Views: 34.8ms | ActiveRecord: 0.7ms)


Started GET "/admin/categories?id=10" for 127.0.0.1 at 2017-03-01 11:11:14 +0800
Processing by Admin::CategoriesController#index as HTML
  Parameters: {"id"=>"10"}
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 10 LIMIT 1[0m
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` = '10'[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (7.6ms)
  Rendered admin/layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 48ms (Views: 43.1ms | ActiveRecord: 1.6ms)


Started GET "/admin/categories?id=9" for 127.0.0.1 at 2017-03-01 11:11:21 +0800
Processing by Admin::CategoriesController#index as HTML
  Parameters: {"id"=>"9"}
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 9 LIMIT 1[0m
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` = '9'[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (5.6ms)
  Rendered admin/layouts/_menu.html.erb (1.1ms)
Completed 200 OK in 60ms (Views: 55.5ms | ActiveRecord: 1.5ms)


Started GET "/admin/categories/11/edit" for 127.0.0.1 at 2017-03-01 11:11:38 +0800
Processing by Admin::CategoriesController#edit as HTML
  Parameters: {"id"=>"11"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 11 LIMIT 1[0m
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (3.7ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 28ms (Views: 26.2ms | ActiveRecord: 0.7ms)


Started PUT "/admin/categories/11" for 127.0.0.1 at 2017-03-01 11:11:53 +0800
Processing by Admin::CategoriesController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"U/c0dljGb3iBtUX507Y1nO0nSRKxLMCNtb+clNVmW8NenBUGsDT5qAQv5xIubklECty2nsYbY/vwwrV7f3BW5g==", "category"=>{"ancestry"=>"9", "title"=>"iphone 7", "weight"=>"100"}, "commit"=>"编辑分类", "id"=>"11"}
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE `categories` SET `title` = 'iphone 7', `weight` = 100, `updated_at` = '2017-03-01 03:11:53' WHERE `categories`.`id` = 11[0m
  [1m[35m (12.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 21ms (ActiveRecord: 13.9ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 11:11:53 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (4.4ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 32ms (Views: 30.5ms | ActiveRecord: 0.7ms)


Started GET "/admin/categories?id=9" for 127.0.0.1 at 2017-03-01 11:11:55 +0800
Processing by Admin::CategoriesController#index as HTML
  Parameters: {"id"=>"9"}
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 9 LIMIT 1[0m
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` = '9'[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (2.7ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 23ms (Views: 20.1ms | ActiveRecord: 1.0ms)


Started DELETE "/admin/categories/11" for 127.0.0.1 at 2017-03-01 11:12:07 +0800
Processing by Admin::CategoriesController#destroy as HTML
  Parameters: {"authenticity_token"=>"bf/BKqETL5DcptnCDgXZSngu4g+il/XllJ5SDAiHeU1glOBaSeG5QFk8eynz3aWSn9Udg9WgVpPR43vjopF0aA==", "id"=>"11"}
  [1m[36mCategory Load (2.8ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Load (1.0ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE (`categories`.`ancestry` LIKE '9/11/%' OR `categories`.`ancestry` = '9/11')[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`category_id` = 11[0m
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM `categories` WHERE `categories`.`id` = 11[0m
  [1m[35m (13.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 39ms (ActiveRecord: 18.6ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 11:12:07 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (5.7ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 33ms (Views: 31.2ms | ActiveRecord: 0.7ms)


Started GET "/admin/categories?id=9" for 127.0.0.1 at 2017-03-01 11:12:09 +0800
Processing by Admin::CategoriesController#index as HTML
  Parameters: {"id"=>"9"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 9 LIMIT 1[0m
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` = '9'[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (5.7ms)
  Rendered admin/layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 31ms (Views: 28.4ms | ActiveRecord: 0.9ms)


Started GET "/admin/categories?id=9" for 127.0.0.1 at 2017-03-01 11:23:21 +0800
Processing by Admin::CategoriesController#index as HTML
  Parameters: {"id"=>"9"}
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 9 LIMIT 1[0m
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` = '9'[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (3.4ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 57ms (Views: 28.8ms | ActiveRecord: 1.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 11:23:26 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (4.9ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 35ms (Views: 31.4ms | ActiveRecord: 0.8ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 11:29:03 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (1.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (7.7ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 1717ms (Views: 1713.2ms | ActiveRecord: 1.7ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 11:29:07 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.5ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 25ms (Views: 23.8ms | ActiveRecord: 0.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 11:29:07 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (5.5ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 40ms (Views: 36.7ms | ActiveRecord: 0.7ms)


Started GET "/admin/categories/new" for 127.0.0.1 at 2017-03-01 11:29:12 +0800
Processing by Admin::CategoriesController#new as HTML
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (3.1ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 31ms (Views: 29.7ms | ActiveRecord: 0.3ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 11:34:22 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.3ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 19ms (Views: 18.8ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 11:34:23 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.4ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 27ms (Views: 26.3ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 11:34:23 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.4ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 28ms (Views: 27.7ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 11:34:24 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (1.0ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 44ms (Views: 43.7ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 11:34:24 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.3ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 20ms (Views: 19.8ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 11:34:24 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.3ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 23ms (Views: 22.3ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 11:34:25 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.4ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 24ms (Views: 23.4ms | ActiveRecord: 0.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 11:34:25 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (9.1ms)
  Rendered admin/layouts/_menu.html.erb (0.4ms)
Completed 200 OK in 34ms (Views: 27.9ms | ActiveRecord: 1.1ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 11:34:26 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.4ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 30ms (Views: 29.3ms | ActiveRecord: 0.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 11:34:26 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (6.3ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 37ms (Views: 34.4ms | ActiveRecord: 0.8ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 11:34:27 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.5ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 22ms (Views: 21.2ms | ActiveRecord: 0.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 11:34:27 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (6.2ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 30ms (Views: 28.2ms | ActiveRecord: 0.6ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 11:34:27 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (1.1ms)
  Rendered admin/layouts/_menu.html.erb (1.2ms)
Completed 200 OK in 21ms (Views: 20.7ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 11:34:28 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.6ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 29ms (Views: 28.2ms | ActiveRecord: 0.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 11:34:29 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (5.1ms)
  Rendered admin/layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 35ms (Views: 33.0ms | ActiveRecord: 1.1ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 11:34:30 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.8ms)
  Rendered admin/layouts/_menu.html.erb (1.1ms)
Completed 200 OK in 41ms (Views: 39.8ms | ActiveRecord: 0.0ms)


Started GET "/admin/new" for 127.0.0.1 at 2017-03-01 11:35:05 +0800
  
ActionController::RoutingError (No route matches [GET] "/admin/new"):
  
actionpack (5.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.4.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.4.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.1) lib/rails/engine.rb:522:in `call'
rack (2.0.1) lib/rack/handler/webrick.rb:86:in `service'
/home/code/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
/home/code/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
/home/code/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.6ms)
  Rendered collection of /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/routes/_route.html.erb [35 times] (13.7ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/routes/_table.html.erb (2.3ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (54.1ms)
Started GET "/admin" for 127.0.0.1 at 2017-03-01 11:38:33 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.8ms)
  Rendered admin/layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 37ms (Views: 36.5ms | ActiveRecord: 0.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 11:38:35 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (7.3ms)
  Rendered admin/layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 44ms (Views: 41.1ms | ActiveRecord: 1.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 11:38:36 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.6ms)
  Rendered admin/layouts/_menu.html.erb (1.0ms)
Completed 200 OK in 33ms (Views: 32.3ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 11:38:37 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.6ms)
  Rendered admin/layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 34ms (Views: 32.8ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 11:38:38 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.4ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 25ms (Views: 23.8ms | ActiveRecord: 0.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 11:56:05 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (3.0ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 21ms (Views: 19.7ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2017-03-01 12:00:28 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.5ms)
  Rendered layouts/_menu.html.erb (1.0ms)
Completed 200 OK in 1729ms (Views: 1728.7ms | ActiveRecord: 0.0ms)


Started GET "/admin/new" for 127.0.0.1 at 2017-03-01 14:57:14 +0800
  
ActionController::RoutingError (No route matches [GET] "/admin/new"):
  
actionpack (5.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.4.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.4.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.1) lib/rails/engine.rb:522:in `call'
rack (2.0.1) lib/rack/handler/webrick.rb:86:in `service'
/home/code/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
/home/code/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
/home/code/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendered collection of /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/routes/_route.html.erb [35 times] (22.5ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.4ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (64.6ms)
Started GET "/admin" for 127.0.0.1 at 2017-03-01 14:57:23 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (1.6ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 41ms (Views: 40.6ms | ActiveRecord: 0.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 14:57:25 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (8.4ms)
  Rendered admin/layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 42ms (Views: 38.2ms | ActiveRecord: 1.2ms)


Started GET "/admin/categories/new" for 127.0.0.1 at 2017-03-01 14:57:29 +0800
Processing by Admin::CategoriesController#new as HTML
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (7.0ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 41ms (Views: 38.6ms | ActiveRecord: 0.4ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 14:58:17 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.4ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 32ms (Views: 30.8ms | ActiveRecord: 0.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 14:58:22 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (7.2ms)
  Rendered admin/layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 50ms (Views: 46.6ms | ActiveRecord: 1.0ms)


Started GET "/admin/categories/new" for 127.0.0.1 at 2017-03-01 14:59:31 +0800
Processing by Admin::CategoriesController#new as HTML
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (1.0ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (5.1ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 40ms (Views: 37.5ms | ActiveRecord: 1.0ms)


Started GET "/admin/categories/new" for 127.0.0.1 at 2017-03-01 14:59:47 +0800
Processing by Admin::CategoriesController#new as HTML
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (8.2ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 33ms (Views: 31.5ms | ActiveRecord: 0.4ms)


Started POST "/admin/categories" for 127.0.0.1 at 2017-03-01 15:00:00 +0800
Processing by Admin::CategoriesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"JLj9LzXwHXis3avYezww0QXRM1Zlg4y5cCmhrkxkInsp09xf3QKLqClHCTOG5EwJ4irM2hK0L881VIhB5nIvXg==", "category"=>{"ancestry"=>"10", "title"=>"阿三大大宋", "weight"=>"10"}, "commit"=>"新建分类"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `categories` WHERE `categories`.`title` = BINARY '阿三大大宋' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO `categories` (`title`, `weight`, `created_at`, `updated_at`, `ancestry`) VALUES ('阿三大大宋', 10, '2017-03-01 07:00:00', '2017-03-01 07:00:00', '10')[0m
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 33ms (ActiveRecord: 3.7ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 15:00:00 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (6.4ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 40ms (Views: 37.3ms | ActiveRecord: 0.7ms)


Started GET "/admin/categories?id=10" for 127.0.0.1 at 2017-03-01 15:00:03 +0800
Processing by Admin::CategoriesController#index as HTML
  Parameters: {"id"=>"10"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 10 LIMIT 1[0m
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (9.8ms)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.6ms)


  
ActionView::Template::Error (undefined local variable or method `categories' for #<#<Class:0x007effc11e8058>:0x007effc140efd0>):
     5: 
     6:   <h1>
     7:     <% if @category %>
     8:       分类:<%= @category.title %>(<%= categories.total_entries %>)
     9:     <% else %>
    10:       分类(<%= @categories.total_entries %>)
    11:     <% end -%>
  
app/views/admin/categories/index.html.erb:8:in `_app_views_admin_categories_index_html_erb__4352280971972282380_69818462010880'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.1ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (22.9ms)
Started GET "/admin/categories?id=10" for 127.0.0.1 at 2017-03-01 15:02:41 +0800
Processing by Admin::CategoriesController#index as HTML
  Parameters: {"id"=>"10"}
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 10 LIMIT 1[0m
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` = '10'[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (2.8ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 24ms (Views: 21.8ms | ActiveRecord: 0.9ms)


Started DELETE "/admin/categories/12" for 127.0.0.1 at 2017-03-01 15:02:51 +0800
Processing by Admin::CategoriesController#destroy as HTML
  Parameters: {"authenticity_token"=>"nb5bF7qsom+ApbPNMvivR98fQnVokM3oCgk073HWllKQ1XpnUl40vwU/ESbPINOfOOS9+R+nbp5PdB0A28Cbdw==", "id"=>"12"}
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 12 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE (`categories`.`ancestry` LIKE '10/12/%' OR `categories`.`ancestry` = '10/12')[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`category_id` = 12[0m
  [1m[35mSQL (1.2ms)[0m  [1m[31mDELETE FROM `categories` WHERE `categories`.`id` = 12[0m
  [1m[35m (11.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 34ms (ActiveRecord: 14.7ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 15:02:51 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (4.0ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 27ms (Views: 24.7ms | ActiveRecord: 0.6ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 15:07:07 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  Rendered admin/categories/index.html.erb within admin/layouts/admin (4.1ms)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `total_entries' for nil:NilClass):
     7:     <% if @category %>
     8:       分类:<%= @category.title %>(<%= @category.total_entries %>) 
     9:     <% else -%>
    10:       分类(<%= @category.total_entries %>)
    11:     <% end -%> 
    12:   </h1>
    13: </div>
  
app/views/admin/categories/index.html.erb:10:in `_app_views_admin_categories_index_html_erb__4352280971972282380_69818459021320'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.3ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.8ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (24.5ms)
Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 15:07:58 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  Rendered admin/categories/index.html.erb within admin/layouts/admin (2.6ms)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `total_entries' for nil:NilClass):
     7:     <% if @category %>
     8:       分类:<%= @category.title %>(<%= @category.total_entries %>) 
     9:     <% else -%>
    10:       分类(<%= @category.total_entries %>)
    11:     <% end -%> 
    12:   </h1>
    13: </div>
  
app/views/admin/categories/index.html.erb:10:in `_app_views_admin_categories_index_html_erb__4352280971972282380_69818453752300'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.8ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (22.4ms)
Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 15:09:05 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (4.1ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 32ms (Views: 29.6ms | ActiveRecord: 0.6ms)


Started GET "/admin/categories/new" for 127.0.0.1 at 2017-03-01 15:18:13 +0800
Processing by Admin::CategoriesController#new as HTML
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (5.4ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 31ms (Views: 29.0ms | ActiveRecord: 0.5ms)


Started POST "/admin/categories" for 127.0.0.1 at 2017-03-01 15:18:24 +0800
Processing by Admin::CategoriesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ARPGXzsj2mFL9Cv8pjlX+Zxvpe/YX8dC5+X94lJw/EIMeOcv09FMsc5uiRdb4Sshe5RaY69oZDSimNQN+GbxZw==", "category"=>{"ancestry"=>"10", "title"=>"123", "weight"=>"123"}, "commit"=>"新建分类"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `categories` WHERE `categories`.`title` = BINARY '123' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `categories` (`title`, `weight`, `created_at`, `updated_at`, `ancestry`) VALUES ('123', 123, '2017-03-01 07:18:24', '2017-03-01 07:18:24', '10')[0m
  [1m[35m (3.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 11ms (ActiveRecord: 4.9ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 15:18:24 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (3.7ms)
  Rendered admin/layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 34ms (Views: 32.1ms | ActiveRecord: 0.6ms)


Started GET "/admin/categories?id=10" for 127.0.0.1 at 2017-03-01 15:18:26 +0800
Processing by Admin::CategoriesController#index as HTML
  Parameters: {"id"=>"10"}
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 10 LIMIT 1[0m
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` = '10'[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (4.8ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 38ms (Views: 32.8ms | ActiveRecord: 1.1ms)


Started GET "/admin/categories/13/edit" for 127.0.0.1 at 2017-03-01 15:18:33 +0800
Processing by Admin::CategoriesController#edit as HTML
  Parameters: {"id"=>"13"}
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 13 LIMIT 1[0m
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (5.2ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 33ms (Views: 29.7ms | ActiveRecord: 0.9ms)


Started DELETE "/admin/categories/13" for 127.0.0.1 at 2017-03-01 15:18:48 +0800
Processing by Admin::CategoriesController#destroy as HTML
  Parameters: {"authenticity_token"=>"tFThcIuedREmqGawik8s2ZEKlaKw6oJHzcelVsZ9jl65P8AAY2zjwaMyxFt3l1ABdvFqLsfdITGIuoy5bGuDew==", "id"=>"13"}
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 13 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE (`categories`.`ancestry` LIKE '10/13/%' OR `categories`.`ancestry` = '10/13')[0m
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`category_id` = 13[0m
  [1m[35mSQL (2.7ms)[0m  [1m[31mDELETE FROM `categories` WHERE `categories`.`id` = 13[0m
  [1m[35m (10.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 30ms (ActiveRecord: 15.3ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 15:18:48 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (5.0ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 34ms (Views: 31.4ms | ActiveRecord: 0.8ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 15:41:26 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (9.4ms)
  Rendered admin/layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 51ms (Views: 47.4ms | ActiveRecord: 1.1ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 15:41:28 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.3ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 20ms (Views: 19.3ms | ActiveRecord: 0.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 15:41:29 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (7.1ms)
  Rendered admin/layouts/_menu.html.erb (1.2ms)
Completed 200 OK in 45ms (Views: 41.0ms | ActiveRecord: 1.5ms)


Started GET "/admin/categories/new" for 127.0.0.1 at 2017-03-01 15:41:59 +0800
Processing by Admin::CategoriesController#new as HTML
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.9ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (7.1ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 37ms (Views: 34.9ms | ActiveRecord: 0.9ms)


Started GET "/admin/categories/new" for 127.0.0.1 at 2017-03-01 15:42:54 +0800
Processing by Admin::CategoriesController#new as HTML
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (3.1ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 24ms (Views: 22.1ms | ActiveRecord: 0.6ms)


Started GET "/admin/categories/new" for 127.0.0.1 at 2017-03-01 16:44:30 +0800
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:CategoriesController> at /home/code/master_rails_by_actions/app/controllers/admin/categories_controller.rb:3)
Processing by Admin::CategoriesController#new as HTML
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (4.0ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 40ms (Views: 26.1ms | ActiveRecord: 0.4ms)


Started POST "/admin/categories" for 127.0.0.1 at 2017-03-01 16:47:48 +0800
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:CategoriesController> at /home/code/master_rails_by_actions/app/controllers/admin/categories_controller.rb:3)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:CategoriesController> at /home/code/master_rails_by_actions/app/controllers/admin/categories_controller.rb:4)
Processing by Admin::CategoriesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"jmktPso0od5XcT0FG/dkNnATziZ0FOz3Ox0Xo934LhyDAgxOIsY3DtLrn+7mLxjul+gxqgMjT4F+YD5Md+4jOQ==", "category"=>{"ancestry"=>"", "title"=>"sdf", "weight"=>"01"}, "commit"=>"新建分类"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `categories` WHERE `categories`.`title` = BINARY 'sdf' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `categories` (`title`, `weight`, `created_at`, `updated_at`) VALUES ('sdf', 1, '2017-03-01 08:47:48', '2017-03-01 08:47:48')[0m
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 16ms (ActiveRecord: 3.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 16:47:48 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (3.5ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 21ms (Views: 19.5ms | ActiveRecord: 0.6ms)


Started GET "/admin/categories/14/edit" for 127.0.0.1 at 2017-03-01 16:48:07 +0800
Processing by Admin::CategoriesController#edit as HTML
  Parameters: {"id"=>"14"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 14 LIMIT 1[0m
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (2.7ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 22ms (Views: 20.5ms | ActiveRecord: 0.6ms)


Started PUT "/admin/categories/14" for 127.0.0.1 at 2017-03-01 16:48:14 +0800
Processing by Admin::CategoriesController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"rX8wXLrXg2fJlqso0WEwOAJSaCqMVzN94KdB1Q7zdPSgFBEsUiUVt0wMCcMsuUzg5amXpvtgkAul2mg6pOV50Q==", "category"=>{"ancestry"=>"", "title"=>"sdffg", "weight"=>"10"}, "commit"=>"编辑分类", "id"=>"14"}
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM `categories` WHERE `categories`.`title` = BINARY 'sdffg' AND (`categories`.`id` != 14) LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE `categories` SET `title` = 'sdffg', `weight` = 10, `updated_at` = '2017-03-01 08:48:15' WHERE `categories`.`id` = 14[0m
  [1m[35m (14.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 30ms (ActiveRecord: 17.3ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 16:48:15 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (4.9ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 34ms (Views: 32.0ms | ActiveRecord: 0.7ms)


Started DELETE "/admin/categories/14" for 127.0.0.1 at 2017-03-01 16:48:34 +0800
Processing by Admin::CategoriesController#destroy as HTML
  Parameters: {"authenticity_token"=>"GOxjgWQfU9FRWE1RkqRRjbpRddvu/49Dvx7qDZ58gboVh0LxjO3FAdTC77pvfC1VXaqKV5nILDX6Y8PiNGqMnw==", "id"=>"14"}
  [1m[36mCategory Load (1.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE (`categories`.`ancestry` LIKE '14/%' OR `categories`.`ancestry` = '14')[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`category_id` = 14[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM `categories` WHERE `categories`.`id` = 14[0m
  [1m[35m (11.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 34ms (ActiveRecord: 15.6ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 16:48:34 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (5.7ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 26ms (Views: 23.1ms | ActiveRecord: 1.1ms)


Started GET "/admin/categories/new" for 127.0.0.1 at 2017-03-01 16:48:48 +0800
Processing by Admin::CategoriesController#new as HTML
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (10.3ms)
  Rendered admin/layouts/_menu.html.erb (1.1ms)
Completed 200 OK in 46ms (Views: 44.2ms | ActiveRecord: 0.4ms)


Started POST "/admin/categories" for 127.0.0.1 at 2017-03-01 16:49:16 +0800
Processing by Admin::CategoriesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"EwMlfw/Skg9fFJbVt7xq0ELLrK4B3HGKzleay9frNSMeaAQP5yAE39qOND5KZBYIpTBTInbr0vyLKrMkff04Bg==", "category"=>{"ancestry"=>"9", "title"=>"王者荣耀", "weight"=>"100"}, "commit"=>"新建分类"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `categories` WHERE `categories`.`title` = BINARY '王者荣耀' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `categories` (`title`, `weight`, `created_at`, `updated_at`, `ancestry`) VALUES ('王者荣耀', 100, '2017-03-01 08:49:16', '2017-03-01 08:49:16', '9')[0m
  [1m[35m (4.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 13ms (ActiveRecord: 5.9ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 16:49:16 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (5.1ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 31ms (Views: 28.7ms | ActiveRecord: 0.9ms)


Started GET "/admin/categories?id=10" for 127.0.0.1 at 2017-03-01 16:49:19 +0800
Processing by Admin::CategoriesController#index as HTML
  Parameters: {"id"=>"10"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 10 LIMIT 1[0m
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` = '10'[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (3.4ms)
  Rendered admin/layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 25ms (Views: 20.9ms | ActiveRecord: 0.9ms)


Started GET "/admin/categories?id=9" for 127.0.0.1 at 2017-03-01 16:49:24 +0800
Processing by Admin::CategoriesController#index as HTML
  Parameters: {"id"=>"9"}
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 9 LIMIT 1[0m
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` = '9'[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (5.0ms)
  Rendered admin/layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 38ms (Views: 33.8ms | ActiveRecord: 1.7ms)


Started GET "/admin/categories/new" for 127.0.0.1 at 2017-03-01 16:49:33 +0800
Processing by Admin::CategoriesController#new as HTML
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (4.1ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 40ms (Views: 37.4ms | ActiveRecord: 0.6ms)


Started GET "/admin/categories/9/edit" for 127.0.0.1 at 2017-03-01 16:49:38 +0800
Processing by Admin::CategoriesController#edit as HTML
  Parameters: {"id"=>"9"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 9 LIMIT 1[0m
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (3.0ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 34ms (Views: 32.1ms | ActiveRecord: 0.8ms)


Started GET "/admin/categories?id=10" for 127.0.0.1 at 2017-03-01 17:27:37 +0800
Processing by Admin::CategoriesController#index as HTML
  Parameters: {"id"=>"10"}
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 10 LIMIT 1[0m
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` = '10'[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (4.0ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 41ms (Views: 37.1ms | ActiveRecord: 1.3ms)


Started GET "/admin/categories?id=9" for 127.0.0.1 at 2017-03-01 17:27:44 +0800
Processing by Admin::CategoriesController#index as HTML
  Parameters: {"id"=>"9"}
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 9 LIMIT 1[0m
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` = '9'[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (2.7ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 26ms (Views: 21.5ms | ActiveRecord: 1.1ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-01 17:28:45 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (4.7ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 30ms (Views: 27.9ms | ActiveRecord: 0.6ms)


Started GET "/admin/categories?id=10" for 127.0.0.1 at 2017-03-01 17:29:41 +0800
Processing by Admin::CategoriesController#index as HTML
  Parameters: {"id"=>"10"}
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 10 LIMIT 1[0m
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` = '10'[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (2.4ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 25ms (Views: 22.1ms | ActiveRecord: 1.1ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 17:37:00 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.4ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 29ms (Views: 27.4ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-01 17:39:20 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.5ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 37ms (Views: 35.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-03-02 09:35:18 +0800
  [1m[36mActiveRecord::SchemaMigration Load (1.4ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.4ms)
  Rendered layouts/_menu.html.erb (3.8ms)
Completed 200 OK in 441ms (Views: 439.9ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-02 09:35:25 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.6ms)
  Rendered admin/layouts/_menu.html.erb (1.2ms)
Completed 200 OK in 73ms (Views: 71.4ms | ActiveRecord: 0.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-02 09:35:28 +0800
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:CategoriesController> at /home/code/master_rails_by_actions/app/controllers/admin/categories_controller.rb:3)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:CategoriesController> at /home/code/master_rails_by_actions/app/controllers/admin/categories_controller.rb:4)
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (20.8ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 81ms (Views: 54.1ms | ActiveRecord: 3.2ms)


Started GET "/admin/categories?id=10" for 127.0.0.1 at 2017-03-02 09:35:32 +0800
Processing by Admin::CategoriesController#index as HTML
  Parameters: {"id"=>"10"}
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 10 LIMIT 1[0m
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` = '10'[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (3.0ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 28ms (Views: 20.9ms | ActiveRecord: 1.0ms)


Started GET "/admin/categories?id=9" for 127.0.0.1 at 2017-03-02 09:35:34 +0800
Processing by Admin::CategoriesController#index as HTML
  Parameters: {"id"=>"9"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 9 LIMIT 1[0m
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` = '9'[0m
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (5.3ms)
  Rendered admin/layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 28ms (Views: 24.6ms | ActiveRecord: 2.1ms)


Started GET "/admin/categories?id=9" for 127.0.0.1 at 2017-03-02 09:35:40 +0800
Processing by Admin::CategoriesController#index as HTML
  Parameters: {"id"=>"9"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 9 LIMIT 1[0m
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` = '9'[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (3.5ms)
  Rendered admin/layouts/_menu.html.erb (1.3ms)
Completed 200 OK in 27ms (Views: 23.4ms | ActiveRecord: 0.9ms)


Started DELETE "/admin/categories/15" for 127.0.0.1 at 2017-03-02 09:35:44 +0800
Processing by Admin::CategoriesController#destroy as HTML
  Parameters: {"authenticity_token"=>"YCKWNSBg+/XXZqIHh2t4iA8iiu7ivjWP0FbT7d7W8buB85VTpvnf6RFtTsqL7FSdIPBPON2PGfNhIeukszIEXw==", "id"=>"15"}
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 15 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE (`categories`.`ancestry` LIKE '9/15/%' OR `categories`.`ancestry` = '9/15')[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`category_id` = 15[0m
  [1m[35mSQL (0.8ms)[0m  [1m[31mDELETE FROM `categories` WHERE `categories`.`id` = 15[0m
  [1m[35m (4.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 45ms (ActiveRecord: 8.5ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-02 09:35:44 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (3.3ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 22ms (Views: 20.2ms | ActiveRecord: 0.5ms)


Started GET "/admin/categories?id=10" for 127.0.0.1 at 2017-03-02 09:35:48 +0800
Processing by Admin::CategoriesController#index as HTML
  Parameters: {"id"=>"10"}
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 10 LIMIT 1[0m
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` = '10'[0m
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (6.8ms)
  Rendered admin/layouts/_menu.html.erb (2.5ms)
Completed 200 OK in 54ms (Views: 49.4ms | ActiveRecord: 1.6ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-02 10:39:10 +0800
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:CategoriesController> at /home/code/master_rails_by_actions/app/controllers/admin/categories_controller.rb:3)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:CategoriesController> at /home/code/master_rails_by_actions/app/controllers/admin/categories_controller.rb:4)
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (7.9ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 29ms (Views: 22.7ms | ActiveRecord: 1.6ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 10:39:12 +0800
Processing by Admin::ProductsController#index as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/models/product.rb:9: syntax error, unexpected ':'
    if: proc { |product| !product.amount.blank? }
       ^
/home/code/master_rails_by_actions/app/models/product.rb:14: syntax error, unexpected ':'
    if: proc { |product| !product.msrp.blank? }
       ^
/home/code/master_rails_by_actions/app/models/product.rb:16: syntax error, unexpected ':'
    if: proc { |product| !product.price.blank? }
       ^):
  
app/models/product.rb:9: syntax error, unexpected ':'
app/models/product.rb:14: syntax error, unexpected ':'
app/models/product.rb:16: syntax error, unexpected ':'
app/controllers/admin/products_controller.rb:6:in `index'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.8ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (26.3ms)
Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 10:41:13 +0800
Processing by Admin::ProductsController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/models/product.rb:9: syntax error, unexpected ':'
    if: proc { |product| !product.amount.blank? }
       ^
/home/code/master_rails_by_actions/app/models/product.rb:14: syntax error, unexpected ':'
    if: proc { |product| !product.msrp.blank? }
       ^
/home/code/master_rails_by_actions/app/models/product.rb:16: syntax error, unexpected ':'
    if: proc { |product| !product.price.blank? }
       ^):
  
app/models/product.rb:9: syntax error, unexpected ':'
app/models/product.rb:14: syntax error, unexpected ':'
app/models/product.rb:16: syntax error, unexpected ':'
app/controllers/admin/products_controller.rb:6:in `index'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.6ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (21.1ms)
Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 10:43:29 +0800
Processing by Admin::ProductsController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/models/product.rb:9: syntax error, unexpected ':'
    if: proc { |product| !product.amount.blank? }
       ^
/home/code/master_rails_by_actions/app/models/product.rb:14: syntax error, unexpected ':'
    if: proc { |product| !product.msrp.blank? }
       ^
/home/code/master_rails_by_actions/app/models/product.rb:16: syntax error, unexpected ':'
    if: proc { |product| !product.price.blank? }
       ^):
  
app/models/product.rb:9: syntax error, unexpected ':'
app/models/product.rb:14: syntax error, unexpected ':'
app/models/product.rb:16: syntax error, unexpected ':'
app/controllers/admin/products_controller.rb:6:in `index'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.9ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (21.0ms)
Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 10:43:30 +0800
Processing by Admin::ProductsController#index as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/models/product.rb:9: syntax error, unexpected ':'
    if: proc { |product| !product.amount.blank? }
       ^
/home/code/master_rails_by_actions/app/models/product.rb:14: syntax error, unexpected ':'
    if: proc { |product| !product.msrp.blank? }
       ^
/home/code/master_rails_by_actions/app/models/product.rb:16: syntax error, unexpected ':'
    if: proc { |product| !product.price.blank? }
       ^):
  
app/models/product.rb:9: syntax error, unexpected ':'
app/models/product.rb:14: syntax error, unexpected ':'
app/models/product.rb:16: syntax error, unexpected ':'
app/controllers/admin/products_controller.rb:6:in `index'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.0ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (23.6ms)
Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 10:43:30 +0800
Processing by Admin::ProductsController#index as HTML
Completed 500 Internal Server Error in 26ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/models/product.rb:9: syntax error, unexpected ':'
    if: proc { |product| !product.amount.blank? }
       ^
/home/code/master_rails_by_actions/app/models/product.rb:14: syntax error, unexpected ':'
    if: proc { |product| !product.msrp.blank? }
       ^
/home/code/master_rails_by_actions/app/models/product.rb:16: syntax error, unexpected ':'
    if: proc { |product| !product.price.blank? }
       ^):
  
app/models/product.rb:9: syntax error, unexpected ':'
app/models/product.rb:14: syntax error, unexpected ':'
app/models/product.rb:16: syntax error, unexpected ':'
app/controllers/admin/products_controller.rb:6:in `index'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.4ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (20.1ms)
Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 10:43:30 +0800
Processing by Admin::ProductsController#index as HTML
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/models/product.rb:9: syntax error, unexpected ':'
    if: proc { |product| !product.amount.blank? }
       ^
/home/code/master_rails_by_actions/app/models/product.rb:14: syntax error, unexpected ':'
    if: proc { |product| !product.msrp.blank? }
       ^
/home/code/master_rails_by_actions/app/models/product.rb:16: syntax error, unexpected ':'
    if: proc { |product| !product.price.blank? }
       ^):
  
app/models/product.rb:9: syntax error, unexpected ':'
app/models/product.rb:14: syntax error, unexpected ':'
app/models/product.rb:16: syntax error, unexpected ':'
app/controllers/admin/products_controller.rb:6:in `index'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.8ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (21.1ms)
Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 10:43:31 +0800
Processing by Admin::ProductsController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/models/product.rb:9: syntax error, unexpected ':'
    if: proc { |product| !product.amount.blank? }
       ^
/home/code/master_rails_by_actions/app/models/product.rb:14: syntax error, unexpected ':'
    if: proc { |product| !product.msrp.blank? }
       ^
/home/code/master_rails_by_actions/app/models/product.rb:16: syntax error, unexpected ':'
    if: proc { |product| !product.price.blank? }
       ^):
  
app/models/product.rb:9: syntax error, unexpected ':'
app/models/product.rb:14: syntax error, unexpected ':'
app/models/product.rb:16: syntax error, unexpected ':'
app/controllers/admin/products_controller.rb:6:in `index'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.4ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.7ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (22.8ms)
Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 10:43:31 +0800
Processing by Admin::ProductsController#index as HTML
Completed 500 Internal Server Error in 34ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/models/product.rb:9: syntax error, unexpected ':'
    if: proc { |product| !product.amount.blank? }
       ^
/home/code/master_rails_by_actions/app/models/product.rb:14: syntax error, unexpected ':'
    if: proc { |product| !product.msrp.blank? }
       ^
/home/code/master_rails_by_actions/app/models/product.rb:16: syntax error, unexpected ':'
    if: proc { |product| !product.price.blank? }
       ^):
  
app/models/product.rb:9: syntax error, unexpected ':'
app/models/product.rb:14: syntax error, unexpected ':'
app/models/product.rb:16: syntax error, unexpected ':'
app/controllers/admin/products_controller.rb:6:in `index'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.9ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 10:43:31 +0800
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
Processing by Admin::ProductsController#index as HTML
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (32.2ms)
Completed 500 Internal Server Error in 37ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/models/product.rb:9: syntax error, unexpected ':'
    if: proc { |product| !product.amount.blank? }
       ^
/home/code/master_rails_by_actions/app/models/product.rb:14: syntax error, unexpected ':'
    if: proc { |product| !product.msrp.blank? }
       ^
/home/code/master_rails_by_actions/app/models/product.rb:16: syntax error, unexpected ':'
    if: proc { |product| !product.price.blank? }
       ^):
  
app/models/product.rb:9: syntax error, unexpected ':'
app/models/product.rb:14: syntax error, unexpected ':'
app/models/product.rb:16: syntax error, unexpected ':'
app/controllers/admin/products_controller.rb:6:in `index'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.9ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (21.3ms)
Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 10:44:49 +0800
Processing by Admin::ProductsController#index as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `order' for 30:Fixnum):
  
app/controllers/admin/products_controller.rb:7:in `index'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.9ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (20.0ms)
Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 10:45:26 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  Rendered admin/products/index.html.erb within admin/layouts/admin (1.1ms)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/views/admin/products/index.html.erb:35: syntax error, unexpected ':', expecting =>
...thod: :delete, "data-confirm" : "确认删除吗？"  );@out...
...                               ^):
  
app/views/admin/products/index.html.erb:35: syntax error, unexpected ':', expecting =>
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.2ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.2ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (21.2ms)
Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 10:47:13 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  Rendered admin/products/index.html.erb within admin/layouts/admin (1.7ms)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/views/admin/products/index.html.erb:35: syntax error, unexpected ':', expecting =>
...thod: :delete, 'data-confirm' : "确认删除吗？"  );@out...
...                               ^):
  
app/views/admin/products/index.html.erb:35: syntax error, unexpected ':', expecting =>
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (13.7ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (34.6ms)
Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 10:47:17 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  Rendered admin/products/index.html.erb within admin/layouts/admin (2.4ms)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/views/admin/products/index.html.erb:35: syntax error, unexpected ':', expecting =>
...thod: :delete, 'data-confirm' : "确认删除吗？"  );@out...
...                               ^):
  
app/views/admin/products/index.html.erb:35: syntax error, unexpected ':', expecting =>
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.6ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (21.7ms)
Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 10:48:20 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (22.2ms)
Completed 500 Internal Server Error in 28ms (ActiveRecord: 1.8ms)


  
ActionView::Template::Error (undefined local variable or method `products' for #<#<Class:0x007f592c823818>:0x00000004522778>):
    21:       <th></th>
    22:     </tr>
    23: 
    24:     <%= products.each do |product| %>
    25:       <tr>
    26:         <td><%= @prduct.id %></td>
    27:         <td><%= @prduct.title %></td>
  
app/views/admin/products/index.html.erb:24:in `_app_views_admin_products_index_html_erb___1477443466142388478_36331980'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (17.2ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.2ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (36.2ms)
Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 10:48:42 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (13.0ms)
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.5ms)


  
ActionView::Template::Error (undefined local variable or method `products' for #<#<Class:0x007f592c823818>:0x007f592c76d630>):
    21:       <th></th>
    22:     </tr>
    23: 
    24:     <% products.each do |product| %>
    25:       <tr>
    26:         <td><%= @prduct.id %></td>
    27:         <td><%= @prduct.title %></td>
  
app/views/admin/products/index.html.erb:24:in `_app_views_admin_products_index_html_erb___1477443466142388478_70010487402520'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.5ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (22.4ms)
Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 10:49:10 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (6.7ms)
  Rendered admin/layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 38ms (Views: 35.1ms | ActiveRecord: 1.1ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 10:50:04 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (2.4ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 23ms (Views: 21.9ms | ActiveRecord: 0.5ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 10:50:08 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (2.8ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 27ms (Views: 24.7ms | ActiveRecord: 0.5ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 11:47:07 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (5.0ms)
  Rendered admin/layouts/_menu.html.erb (2.6ms)
Completed 200 OK in 41ms (Views: 33.6ms | ActiveRecord: 1.3ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 11:47:09 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (3.0ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 34ms (Views: 31.7ms | ActiveRecord: 0.6ms)


Started GET "/admin/products/new" for 127.0.0.1 at 2017-03-02 11:47:17 +0800
Processing by Admin::ProductsController#new as HTML
  Rendering admin/products/new.html.erb within admin/layouts/admin
  Rendered admin/products/new.html.erb within admin/layouts/admin (1.6ms)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 1.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/views/admin/products/new.html.erb:7: syntax error, unexpected ':', expecting keyword_end
  url: (@product.new_record? ? admi...
      ^
/home/code/master_rails_by_actions/app/views/admin/products/new.html.erb:7: syntax error, unexpected ',', expecting keyword_end
/home/code/master_rails_by_actions/app/views/admin/products/new.html.erb:8: syntax error, unexpected ',', expecting keyword_end
/home/code/master_rails_by_actions/app/views/admin/products/new.html.erb:9: syntax error, unexpected keyword_do_block, expecting keyword_end
...{ class: 'form-horizontal' } do |f| @output_buffer.safe_appe...
...                               ^
/home/code/master_rails_by_actions/app/views/admin/products/new.html.erb:74: syntax error, unexpected keyword_class, expecting ')'
... f.text_area :description class="form-control" );@output_buf...
...                               ^
/home/code/master_rails_by_actions/app/views/admin/products/new.html.erb:84: syntax error, unexpected keyword_ensure, expecting end-of-input):
  
app/views/admin/products/new.html.erb:7: syntax error, unexpected ':', expecting keyword_end
app/views/admin/products/new.html.erb:7: syntax error, unexpected ',', expecting keyword_end
app/views/admin/products/new.html.erb:8: syntax error, unexpected ',', expecting keyword_end
app/views/admin/products/new.html.erb:9: syntax error, unexpected keyword_do_block, expecting keyword_end
app/views/admin/products/new.html.erb:74: syntax error, unexpected keyword_class, expecting ')'
app/views/admin/products/new.html.erb:84: syntax error, unexpected keyword_ensure, expecting end-of-input
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.2ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.8ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (25.4ms)
Started GET "/admin/products/new" for 127.0.0.1 at 2017-03-02 11:47:39 +0800
Processing by Admin::ProductsController#new as HTML
  Rendering admin/products/new.html.erb within admin/layouts/admin
  Rendered admin/products/new.html.erb within admin/layouts/admin (1.8ms)
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/views/admin/products/new.html.erb:7: syntax error, unexpected ':', expecting keyword_end
  url: (@product.new_record? ? admi...
      ^
/home/code/master_rails_by_actions/app/views/admin/products/new.html.erb:7: syntax error, unexpected ',', expecting keyword_end
/home/code/master_rails_by_actions/app/views/admin/products/new.html.erb:8: syntax error, unexpected ',', expecting keyword_end
/home/code/master_rails_by_actions/app/views/admin/products/new.html.erb:9: syntax error, unexpected keyword_do_block, expecting keyword_end
...{ class: 'form-horizontal' } do |f| @output_buffer.safe_appe...
...                               ^
/home/code/master_rails_by_actions/app/views/admin/products/new.html.erb:74: syntax error, unexpected keyword_class, expecting ')'
... f.text_area :description class="form-control" );@output_buf...
...                               ^
/home/code/master_rails_by_actions/app/views/admin/products/new.html.erb:84: syntax error, unexpected keyword_ensure, expecting end-of-input):
  
app/views/admin/products/new.html.erb:7: syntax error, unexpected ':', expecting keyword_end
app/views/admin/products/new.html.erb:7: syntax error, unexpected ',', expecting keyword_end
app/views/admin/products/new.html.erb:8: syntax error, unexpected ',', expecting keyword_end
app/views/admin/products/new.html.erb:9: syntax error, unexpected keyword_do_block, expecting keyword_end
app/views/admin/products/new.html.erb:74: syntax error, unexpected keyword_class, expecting ')'
app/views/admin/products/new.html.erb:84: syntax error, unexpected keyword_ensure, expecting end-of-input
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.6ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (22.5ms)
Started GET "/admin/products/new" for 127.0.0.1 at 2017-03-02 11:48:32 +0800
Processing by Admin::ProductsController#new as HTML
  Rendering admin/products/new.html.erb within admin/layouts/admin
  Rendered admin/products/new.html.erb within admin/layouts/admin (2.9ms)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/views/admin/products/new.html.erb:7: syntax error, unexpected ':', expecting keyword_end
  url: (@product.new_record? ? admi...
      ^
/home/code/master_rails_by_actions/app/views/admin/products/new.html.erb:7: syntax error, unexpected ',', expecting keyword_end
/home/code/master_rails_by_actions/app/views/admin/products/new.html.erb:8: syntax error, unexpected ',', expecting keyword_end
/home/code/master_rails_by_actions/app/views/admin/products/new.html.erb:9: syntax error, unexpected keyword_do_block, expecting keyword_end
...{ class: 'form-horizontal' } do |f| @output_buffer.safe_appe...
...                               ^
/home/code/master_rails_by_actions/app/views/admin/products/new.html.erb:74: syntax error, unexpected keyword_class, expecting ')'
... f.text_area :description class="form-control" );@output_buf...
...                               ^
/home/code/master_rails_by_actions/app/views/admin/products/new.html.erb:84: syntax error, unexpected keyword_ensure, expecting end-of-input):
  
app/views/admin/products/new.html.erb:7: syntax error, unexpected ':', expecting keyword_end
app/views/admin/products/new.html.erb:7: syntax error, unexpected ',', expecting keyword_end
app/views/admin/products/new.html.erb:8: syntax error, unexpected ',', expecting keyword_end
app/views/admin/products/new.html.erb:9: syntax error, unexpected keyword_do_block, expecting keyword_end
app/views/admin/products/new.html.erb:74: syntax error, unexpected keyword_class, expecting ')'
app/views/admin/products/new.html.erb:84: syntax error, unexpected keyword_ensure, expecting end-of-input
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.5ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (21.8ms)
Started GET "/admin/products/new" for 127.0.0.1 at 2017-03-02 11:49:49 +0800
Processing by Admin::ProductsController#new as HTML
  Rendering admin/products/new.html.erb within admin/layouts/admin
  Rendered admin/products/new.html.erb within admin/layouts/admin (3.0ms)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/views/admin/products/new.html.erb:74: syntax error, unexpected keyword_class, expecting ')'
... f.text_area :description class="form-control" );@output_buf...
...                               ^):
  
app/views/admin/products/new.html.erb:74: syntax error, unexpected keyword_class, expecting ')'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.3ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.2ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (21.1ms)
Started GET "/admin/products/new" for 127.0.0.1 at 2017-03-02 11:50:48 +0800
Processing by Admin::ProductsController#new as HTML
  Rendering admin/products/new.html.erb within admin/layouts/admin
  Rendered admin/products/new.html.erb within admin/layouts/admin (2.6ms)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/views/admin/products/new.html.erb:74: syntax error, unexpected keyword_class, expecting ')'
... f.text_area :description class="form-control" );@output_buf...
...                               ^):
  
app/views/admin/products/new.html.erb:74: syntax error, unexpected keyword_class, expecting ')'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.1ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.7ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (24.0ms)
Started GET "/admin/products/new" for 127.0.0.1 at 2017-03-02 11:51:17 +0800
Processing by Admin::ProductsController#new as HTML
  Rendering admin/products/new.html.erb within admin/layouts/admin
  Rendered admin/products/new.html.erb within admin/layouts/admin (2.7ms)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/views/admin/products/new.html.erb:74: syntax error, unexpected '='
....text_area :description, class="form-control" );@output_buff...
...                               ^):
  
app/views/admin/products/new.html.erb:74: syntax error, unexpected '='
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.0ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (23.0ms)
Started GET "/admin/products/new" for 127.0.0.1 at 2017-03-02 11:52:01 +0800
Processing by Admin::ProductsController#new as HTML
  Rendering admin/products/new.html.erb within admin/layouts/admin
  Rendered admin/products/new.html.erb within admin/layouts/admin (5.7ms)
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `error' for #<Product:0x007f59266b9708>):
     8:   method:(@product.new_record? ? 'post' : 'put'),
     9:   html: { class: 'form-horizontal' } do |f| %>
    10: 
    11:   <% unless @product.error.blank? %>
    12:     <div class="alert alert-danger">
    13:       <ul class="list-unstyled">
    14:         <% @product.errors.messages.values.flatten.each do |error| %>
  
app/views/admin/products/new.html.erb:11:in `block in _app_views_admin_products_new_html_erb__2749381057325628113_70010435164160'
app/views/admin/products/new.html.erb:6:in `_app_views_admin_products_new_html_erb__2749381057325628113_70010435164160'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.3ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (23.5ms)
Started GET "/admin/products/new" for 127.0.0.1 at 2017-03-02 11:52:26 +0800
Processing by Admin::ProductsController#new as HTML
  Rendering admin/products/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9'[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10'[0m
  Rendered admin/products/new.html.erb within admin/layouts/admin (33.6ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 61ms (Views: 55.8ms | ActiveRecord: 2.9ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-02 11:56:23 +0800
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:CategoriesController> at /home/code/master_rails_by_actions/app/controllers/admin/categories_controller.rb:3)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:CategoriesController> at /home/code/master_rails_by_actions/app/controllers/admin/categories_controller.rb:4)
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (6.8ms)
  Rendered admin/layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 28ms (Views: 25.1ms | ActiveRecord: 1.2ms)


Started GET "/admin/categories?id=9" for 127.0.0.1 at 2017-03-02 11:56:27 +0800
Processing by Admin::CategoriesController#index as HTML
  Parameters: {"id"=>"9"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 9 LIMIT 1[0m
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` = '9'[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (2.6ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 27ms (Views: 24.1ms | ActiveRecord: 0.8ms)


Started GET "/admin/categories/new" for 127.0.0.1 at 2017-03-02 11:56:29 +0800
Processing by Admin::CategoriesController#new as HTML
  Rendering admin/categories/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC[0m
  Rendered admin/categories/new.html.erb within admin/layouts/admin (3.0ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 28ms (Views: 26.0ms | ActiveRecord: 0.3ms)


Started POST "/admin/categories" for 127.0.0.1 at 2017-03-02 11:56:45 +0800
Processing by Admin::CategoriesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"NWpmJFKFeV8IMLjGDrt+MHpAxpm3LMFaVsKWQQh7JuXUu2VC1BxdQ847VAsCPFIlVZIDT4gd7Sbnta4IZZ/TAQ==", "category"=>{"ancestry"=>"9", "title"=>"iphone 7", "weight"=>"100"}, "commit"=>"新建分类"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `categories` WHERE `categories`.`title` = BINARY 'iphone 7' LIMIT 1[0m
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO `categories` (`title`, `weight`, `created_at`, `updated_at`, `ancestry`) VALUES ('iphone 7', 100, '2017-03-02 03:56:45', '2017-03-02 03:56:45', '9')[0m
  [1m[35m (3.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories
Completed 302 Found in 36ms (ActiveRecord: 5.6ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-02 11:56:45 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (4.7ms)
  Rendered admin/layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 36ms (Views: 33.4ms | ActiveRecord: 0.8ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 11:56:47 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (2.9ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 23ms (Views: 21.7ms | ActiveRecord: 0.5ms)


Started GET "/admin/products/new" for 127.0.0.1 at 2017-03-02 11:56:49 +0800
Processing by Admin::ProductsController#new as HTML
  Rendering admin/products/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9'[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10'[0m
  Rendered admin/products/new.html.erb within admin/layouts/admin (11.3ms)
  Rendered admin/layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 60ms (Views: 54.6ms | ActiveRecord: 1.5ms)


Started GET "/admin/products/new" for 127.0.0.1 at 2017-03-02 11:58:57 +0800
Processing by Admin::ProductsController#new as HTML
  Rendering admin/products/new.html.erb within admin/layouts/admin
  [1m[36mCategory Load (1.0ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9'[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10'[0m
  Rendered admin/products/new.html.erb within admin/layouts/admin (10.2ms)
  Rendered admin/layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 41ms (Views: 37.3ms | ActiveRecord: 1.9ms)


Started POST "/admin/products" for 127.0.0.1 at 2017-03-02 11:59:08 +0800
Processing by Admin::ProductsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"c6mWXAAxJ1/AduKRB3iDsz6wWnFs4KD24nglBe5uzCWSeJU6hqgDQwZ9DlwL/6+mEWKfp1PRjIpTDx1Mg4o5wQ==", "product"=>{"title"=>"killzone", "category_id"=>"16", "status"=>"off", "amount"=>"100", "price"=>"29.99", "msrp"=>"32.99", "description"=>"col....."}, "commit"=>"新建商品"}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (9.7ms)[0m  [1m[32mINSERT INTO `products` (`category_id`, `title`, `amount`, `msrp`, `price`, `description`, `created_at`, `updated_at`) VALUES (16, 'killzone', 100, 32.99, 29.99, 'col.....', '2017-03-02 03:59:08', '2017-03-02 03:59:08')[0m
  [1m[35m (3.6ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 22ms (ActiveRecord: 13.7ms)


  
NameError (uninitialized constant Product::RandomCode):
  
app/models/product.rb:26:in `set_default_attrs'
app/controllers/admin/products_controller.rb:19:in `create'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.7ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.7ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (10.2ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (31.8ms)
Started POST "/admin/products" for 127.0.0.1 at 2017-03-02 12:02:09 +0800
Processing by Admin::ProductsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"c6mWXAAxJ1/AduKRB3iDsz6wWnFs4KD24nglBe5uzCWSeJU6hqgDQwZ9DlwL/6+mEWKfp1PRjIpTDx1Mg4o5wQ==", "product"=>{"title"=>"killzone", "category_id"=>"16", "status"=>"off", "amount"=>"100", "price"=>"29.99", "msrp"=>"32.99", "description"=>"col....."}, "commit"=>"新建商品"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 21ms (ActiveRecord: 1.2ms)


  
NameError (uninitialized constant Product::RandomCode):
  
app/models/product.rb:26:in `set_default_attrs'
app/controllers/admin/products_controller.rb:19:in `create'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.5ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (22.4ms)
Started POST "/admin/products" for 127.0.0.1 at 2017-03-02 12:06:46 +0800
Processing by Admin::ProductsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"c6mWXAAxJ1/AduKRB3iDsz6wWnFs4KD24nglBe5uzCWSeJU6hqgDQwZ9DlwL/6+mEWKfp1PRjIpTDx1Mg4o5wQ==", "product"=>{"title"=>"killzone", "category_id"=>"16", "status"=>"off", "amount"=>"100", "price"=>"29.99", "msrp"=>"32.99", "description"=>"col....."}, "commit"=>"新建商品"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.3ms)


  
NameError (uninitialized constant Product::RandomCode):
  
app/models/product.rb:26:in `set_default_attrs'
app/controllers/admin/products_controller.rb:19:in `create'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (16.2ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.7ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.6ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (36.6ms)
Started POST "/admin/products" for 127.0.0.1 at 2017-03-02 14:56:00 +0800
Processing by Admin::ProductsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"c6mWXAAxJ1/AduKRB3iDsz6wWnFs4KD24nglBe5uzCWSeJU6hqgDQwZ9DlwL/6+mEWKfp1PRjIpTDx1Mg4o5wQ==", "product"=>{"title"=>"killzone", "category_id"=>"16", "status"=>"off", "amount"=>"100", "price"=>"29.99", "msrp"=>"32.99", "description"=>"col....."}, "commit"=>"新建商品"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `products` (`category_id`, `title`, `amount`, `msrp`, `price`, `description`, `created_at`, `updated_at`) VALUES (16, 'killzone', 100, 32.99, 29.99, 'col.....', '2017-03-02 06:56:00', '2017-03-02 06:56:00')[0m
  [1m[35m (14.4ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 50ms (ActiveRecord: 15.0ms)


  
NameError (uninitialized constant Product::RandomCode):
  
app/models/product.rb:26:in `set_default_attrs'
app/controllers/admin/products_controller.rb:19:in `create'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.8ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (21.6ms)
Started POST "/admin/products" for 127.0.0.1 at 2017-03-02 15:02:19 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by Admin::ProductsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"c6mWXAAxJ1/AduKRB3iDsz6wWnFs4KD24nglBe5uzCWSeJU6hqgDQwZ9DlwL/6+mEWKfp1PRjIpTDx1Mg4o5wQ==", "product"=>{"title"=>"killzone", "category_id"=>"16", "status"=>"off", "amount"=>"100", "price"=>"29.99", "msrp"=>"32.99", "description"=>"col....."}, "commit"=>"新建商品"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO `products` (`category_id`, `title`, `amount`, `msrp`, `price`, `description`, `created_at`, `updated_at`) VALUES (16, 'killzone', 100, 32.99, 29.99, 'col.....', '2017-03-02 07:02:19', '2017-03-02 07:02:19')[0m
  [1m[35m (11.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 43ms (ActiveRecord: 13.4ms)


  
NameError (uninitialized constant Product::RandomCode):
  
app/models/product.rb:26:in `set_default_attrs'
app/controllers/admin/products_controller.rb:19:in `create'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.3ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (9.6ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (33.3ms)
Started POST "/admin/products" for 127.0.0.1 at 2017-03-02 15:12:07 +0800
Processing by Admin::ProductsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"c6mWXAAxJ1/AduKRB3iDsz6wWnFs4KD24nglBe5uzCWSeJU6hqgDQwZ9DlwL/6+mEWKfp1PRjIpTDx1Mg4o5wQ==", "product"=>{"title"=>"killzone", "category_id"=>"16", "status"=>"off", "amount"=>"100", "price"=>"29.99", "msrp"=>"32.99", "description"=>"col....."}, "commit"=>"新建商品"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 25ms (ActiveRecord: 2.6ms)


  
NameError (uninitialized constant Product::RandomCode):
  
app/models/product.rb:26:in `set_default_attrs'
app/controllers/admin/products_controller.rb:19:in `create'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.5ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (23.2ms)
Started POST "/admin/products" for 127.0.0.1 at 2017-03-02 15:13:41 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by Admin::ProductsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"c6mWXAAxJ1/AduKRB3iDsz6wWnFs4KD24nglBe5uzCWSeJU6hqgDQwZ9DlwL/6+mEWKfp1PRjIpTDx1Mg4o5wQ==", "product"=>{"title"=>"killzone", "category_id"=>"16", "status"=>"off", "amount"=>"100", "price"=>"29.99", "msrp"=>"32.99", "description"=>"col....."}, "commit"=>"新建商品"}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 31ms (ActiveRecord: 1.9ms)


  
NameError (uninitialized constant Product::RandomCode):
  
app/models/product.rb:26:in `set_default_attrs'
app/controllers/admin/products_controller.rb:19:in `create'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.5ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (9.3ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (33.2ms)
Started POST "/admin/products" for 127.0.0.1 at 2017-03-02 15:36:11 +0800
Processing by Admin::ProductsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"c6mWXAAxJ1/AduKRB3iDsz6wWnFs4KD24nglBe5uzCWSeJU6hqgDQwZ9DlwL/6+mEWKfp1PRjIpTDx1Mg4o5wQ==", "product"=>{"title"=>"killzone", "category_id"=>"16", "status"=>"off", "amount"=>"100", "price"=>"29.99", "msrp"=>"32.99", "description"=>"col....."}, "commit"=>"新建商品"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.3ms)


  
NameError (uninitialized constant Product::RandomCode):
  
app/models/product.rb:26:in `set_default_attrs'
app/controllers/admin/products_controller.rb:19:in `create'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.1ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (21.6ms)
Started POST "/admin/products" for 127.0.0.1 at 2017-03-02 15:36:13 +0800
Processing by Admin::ProductsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"c6mWXAAxJ1/AduKRB3iDsz6wWnFs4KD24nglBe5uzCWSeJU6hqgDQwZ9DlwL/6+mEWKfp1PRjIpTDx1Mg4o5wQ==", "product"=>{"title"=>"killzone", "category_id"=>"16", "status"=>"off", "amount"=>"100", "price"=>"29.99", "msrp"=>"32.99", "description"=>"col....."}, "commit"=>"新建商品"}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.5ms)


  
NameError (uninitialized constant Product::RandomCode):
  
app/models/product.rb:26:in `set_default_attrs'
app/controllers/admin/products_controller.rb:19:in `create'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (9.7ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.6ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.7ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (28.7ms)
Started POST "/admin/products" for 127.0.0.1 at 2017-03-02 15:38:47 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by Admin::ProductsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"c6mWXAAxJ1/AduKRB3iDsz6wWnFs4KD24nglBe5uzCWSeJU6hqgDQwZ9DlwL/6+mEWKfp1PRjIpTDx1Mg4o5wQ==", "product"=>{"title"=>"killzone", "category_id"=>"16", "status"=>"off", "amount"=>"100", "price"=>"29.99", "msrp"=>"32.99", "description"=>"col....."}, "commit"=>"新建商品"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `products` (`category_id`, `title`, `amount`, `uuid`, `msrp`, `price`, `description`, `created_at`, `updated_at`) VALUES (16, 'killzone', 100, '0302SY56BO', 32.99, 29.99, 'col.....', '2017-03-02 07:38:47', '2017-03-02 07:38:47')[0m
  [1m[35m (12.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/products
Completed 302 Found in 51ms (ActiveRecord: 14.4ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 15:38:47 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (7.5ms)
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.5ms)


  
ActionView::Template::Error (undefined method `id' for nil:NilClass):
    23: 
    24:     <% @products.each do |product| %>
    25:       <tr>
    26:         <td><%= @prduct.id %></td>
    27:         <td><%= @prduct.title %></td>
    28:         <td><%= @prduct.uuid %></td>
    29:         <td><%= @prduct.msrp %></td>
  
app/views/admin/products/index.html.erb:26:in `block in _app_views_admin_products_index_html_erb__1339420750326520921_17133940'
app/views/admin/products/index.html.erb:24:in `_app_views_admin_products_index_html_erb__1339420750326520921_17133940'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.3ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (21.8ms)
Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 15:39:28 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (9.4ms)
Completed 500 Internal Server Error in 15ms (ActiveRecord: 1.0ms)


  
ActionView::Template::Error (undefined method `id' for nil:NilClass):
    23: 
    24:     <% @products.each do |product| %>
    25:       <tr>
    26:         <td><%= @product.id %></td>
    27:         <td><%= @product.title %></td>
    28:         <td><%= @product.uuid %></td>
    29:         <td><%= @product.msrp %></td>
  
app/views/admin/products/index.html.erb:26:in `block in _app_views_admin_products_index_html_erb__1339420750326520921_24576480'
app/views/admin/products/index.html.erb:24:in `_app_views_admin_products_index_html_erb__1339420750326520921_24576480'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.4ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (22.3ms)
Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 15:41:13 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (4.7ms)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.7ms)


  
ActionView::Template::Error (undefined method `id' for nil:NilClass):
    23: 
    24:     <% @products.each do |product| %>
    25:       <tr>
    26:         <td><%= @product.id %></td>
    27:         <td><%= @product.title %></td>
    28:         <td><%= @product.uuid %></td>
    29:         <td><%= @product.msrp %></td>
  
app/views/admin/products/index.html.erb:26:in `block in _app_views_admin_products_index_html_erb__1339420750326520921_26913280'
app/views/admin/products/index.html.erb:24:in `_app_views_admin_products_index_html_erb__1339420750326520921_26913280'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (8.6ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.8ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (28.0ms)
Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 15:41:15 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (10.5ms)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.7ms)


  
ActionView::Template::Error (undefined method `id' for nil:NilClass):
    23: 
    24:     <% @products.each do |product| %>
    25:       <tr>
    26:         <td><%= @product.id %></td>
    27:         <td><%= @product.title %></td>
    28:         <td><%= @product.uuid %></td>
    29:         <td><%= @product.msrp %></td>
  
app/views/admin/products/index.html.erb:26:in `block in _app_views_admin_products_index_html_erb__1339420750326520921_39764700'
app/views/admin/products/index.html.erb:24:in `_app_views_admin_products_index_html_erb__1339420750326520921_39764700'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.1ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (23.0ms)
Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 15:42:03 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (6.4ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 279ms (Views: 275.9ms | ActiveRecord: 0.9ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 15:46:51 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (21.6ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 70ms (Views: 61.8ms | ActiveRecord: 1.7ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 15:46:53 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (3.0ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 25ms (Views: 23.2ms | ActiveRecord: 0.6ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 15:46:53 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (3.1ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 31ms (Views: 29.4ms | ActiveRecord: 0.5ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 15:46:53 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (3.5ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 23ms (Views: 21.3ms | ActiveRecord: 0.5ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 15:46:53 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (3.3ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 22ms (Views: 20.0ms | ActiveRecord: 0.5ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 15:46:53 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (2.7ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 20ms (Views: 19.1ms | ActiveRecord: 0.5ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 15:46:54 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (3.0ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 26ms (Views: 24.7ms | ActiveRecord: 0.5ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 15:46:54 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (4.2ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 35ms (Views: 34.0ms | ActiveRecord: 0.6ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 16:28:53 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (20.6ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 277ms (Views: 265.1ms | ActiveRecord: 2.6ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-02 16:28:56 +0800
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:CategoriesController> at /home/code/master_rails_by_actions/app/controllers/admin/categories_controller.rb:3)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:CategoriesController> at /home/code/master_rails_by_actions/app/controllers/admin/categories_controller.rb:4)
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (10.3ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 39ms (Views: 29.7ms | ActiveRecord: 1.8ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-02 16:28:57 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.4ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 20ms (Views: 18.8ms | ActiveRecord: 0.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-02 16:28:57 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (3.7ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 27ms (Views: 25.4ms | ActiveRecord: 0.5ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 16:28:58 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (3.9ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 34ms (Views: 32.3ms | ActiveRecord: 0.5ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-02 16:28:59 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.4ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 59ms (Views: 58.3ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-02 16:29:00 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.6ms)
  Rendered admin/layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 29ms (Views: 25.6ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-02 16:29:00 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (1.0ms)
  Rendered admin/layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 39ms (Views: 37.8ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-02 16:29:00 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.5ms)
  Rendered admin/layouts/_menu.html.erb (1.4ms)
Completed 200 OK in 46ms (Views: 43.7ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-02 16:29:01 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.6ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 39ms (Views: 35.8ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-02 16:29:01 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.6ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 52ms (Views: 51.1ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-02 16:29:02 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.9ms)
  Rendered admin/layouts/_menu.html.erb (1.9ms)
Completed 200 OK in 39ms (Views: 36.6ms | ActiveRecord: 0.0ms)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('2321506512563442330', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to CreateProductImages (20170302082933)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2321506512563442330')[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('2321506512563442330', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to CreateProductImages (20170302082933)
  [1m[35m (26.7ms)[0m  [1m[35mCREATE TABLE `product_images` (`id` int AUTO_INCREMENT PRIMARY KEY, `product_id` int, `weight` int DEFAULT 0, `image_file_name` varchar(255), `image_content_type` varchar(255), `image_file_size` int, `image_updated_at` datetime, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL,  INDEX `index_product_images_on_product_id`  (`product_id`)) ENGINE=InnoDB[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170302082933')[0m
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2321506512563442330')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `categories`[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'categories'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `product_images`[0m
  [1m[35m (0.6ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'product_images'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `products`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'products'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'users'[0m
Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 16:56:38 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (15.1ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 44ms (Views: 34.8ms | ActiveRecord: 2.2ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 17:54:00 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (8.3ms)
  Rendered admin/layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 1585ms (Views: 1580.3ms | ActiveRecord: 0.5ms)


Started GET "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-02 17:54:03 +0800
Processing by Admin::ProductImagesController#index as HTML
  Parameters: {"product_id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Completed 500 Internal Server Error in 28ms (ActiveRecord: 0.4ms)


  
SyntaxError (/home/code/master_rails_by_actions/app/models/product_image.rb:7: syntax error, unexpected tIDENTIFIER, expecting '}'
    middle: '200^x200'
          ^
/home/code/master_rails_by_actions/app/models/product_image.rb:8: syntax error, unexpected ':', expecting keyword_end
    big: '960x'
        ^
/home/code/master_rails_by_actions/app/models/product_image.rb:9: syntax error, unexpected '}', expecting keyword_end):
  
app/models/product_image.rb:7: syntax error, unexpected tIDENTIFIER, expecting '}'
app/models/product_image.rb:8: syntax error, unexpected ':', expecting keyword_end
app/models/product_image.rb:9: syntax error, unexpected '}', expecting keyword_end
app/controllers/admin/product_images_controller.rb:6:in `index'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.6ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.1ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (23.2ms)
Started GET "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-02 17:54:59 +0800
Processing by Admin::ProductImagesController#index as HTML
  Parameters: {"product_id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  Rendering admin/product_images/index.html.erb within admin/layouts/admin
  [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 4[0m
  Rendered admin/product_images/index.html.erb within admin/layouts/admin (3.6ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 52ms (Views: 25.9ms | ActiveRecord: 1.2ms)


Started POST "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-02 17:56:48 +0800
Processing by Admin::ProductImagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"TPRhf/RV7rLUTynNaQbbSBIYFu1cjRtDJBU/tmbN9lmtJWIZcszKrhJExQBlgfddPcrTO2O8Nz+VYgf/CykDvQ==", "commit"=>"上传", "product_id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.3ms)


  
NoMethodError (undefined method `each' for nil:NilClass):
  
app/controllers/admin/product_images_controller.rb:10:in `create'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.3ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (18.9ms)
Started POST "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-02 17:58:55 +0800
Processing by Admin::ProductImagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"TPRhf/RV7rLUTynNaQbbSBIYFu1cjRtDJBU/tmbN9lmtJWIZcszKrhJExQBlgfddPcrTO2O8Nz+VYgf/CykDvQ==", "commit"=>"上传", "product_id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.3ms)


  
NoMethodError (undefined method `each' for nil:NilClass):
  
app/controllers/admin/product_images_controller.rb:10:in `create'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.5ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (19.8ms)
Started POST "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-02 17:59:15 +0800
Processing by Admin::ProductImagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"TPRhf/RV7rLUTynNaQbbSBIYFu1cjRtDJBU/tmbN9lmtJWIZcszKrhJExQBlgfddPcrTO2O8Nz+VYgf/CykDvQ==", "commit"=>"上传", "product_id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.3ms)


  
NoMethodError (undefined method `each' for nil:NilClass):
  
app/controllers/admin/product_images_controller.rb:10:in `create'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.9ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.5ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (21.6ms)
Started POST "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-02 18:02:15 +0800
Processing by Admin::ProductImagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"TPRhf/RV7rLUTynNaQbbSBIYFu1cjRtDJBU/tmbN9lmtJWIZcszKrhJExQBlgfddPcrTO2O8Nz+VYgf/CykDvQ==", "commit"=>"上传", "product_id"=>"4"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.6ms)


  
NoMethodError (undefined method `each' for nil:NilClass):
  
app/controllers/admin/product_images_controller.rb:10:in `create'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.2ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.7ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (24.9ms)
Started POST "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-02 18:02:35 +0800
Processing by Admin::ProductImagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"TPRhf/RV7rLUTynNaQbbSBIYFu1cjRtDJBU/tmbN9lmtJWIZcszKrhJExQBlgfddPcrTO2O8Nz+VYgf/CykDvQ==", "images"=>[#<ActionDispatch::Http::UploadedFile:0x007ff6c6b79b88 @tempfile=#<Tempfile:/tmp/RackMultipart20170302-23527-17qemug.jpeg>, @original_filename="timg.jpeg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"timg.jpeg\"\r\nContent-Type: image/jpeg\r\n">, #<ActionDispatch::Http::UploadedFile:0x007ff6c6b79b60 @tempfile=#<Tempfile:/tmp/RackMultipart20170302-23527-xtdkla.jpg>, @original_filename="u=2002641048,1546554627&fm=23&gp=0.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"u=2002641048,1546554627&fm=23&gp=0.jpg\"\r\nContent-Type: image/jpeg\r\n">], "commit"=>"上传", "product_id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Command :: file -b --mime '/tmp/77ed36f4b18679ce54d4cebda306117e20170302-23527-16etfl2.jpeg'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/77ed36f4b18679ce54d4cebda306117e20170302-23527-1dyxca8.jpeg'
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Command :: file -b --mime '/tmp/7b45b1f4a2ad4f757da41f435fd0a08020170302-23527-1mnexnu.jpg'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/7b45b1f4a2ad4f757da41f435fd0a08020170302-23527-708kab.jpg'
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from create at /home/code/master_rails_by_actions/app/controllers/admin/product_images_controller.rb:14)
Redirected to http://localhost:3000/admin/products/4/product_images
Completed 302 Found in 53ms (ActiveRecord: 2.3ms)


Started GET "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-02 18:02:35 +0800
Processing by Admin::ProductImagesController#index as HTML
  Parameters: {"product_id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  Rendering admin/product_images/index.html.erb within admin/layouts/admin
  [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 4[0m
  Rendered admin/product_images/index.html.erb within admin/layouts/admin (2.9ms)
  Rendered admin/layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 25ms (Views: 22.4ms | ActiveRecord: 0.6ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-02 18:02:43 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.3ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 22ms (Views: 21.0ms | ActiveRecord: 0.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-02 18:02:44 +0800
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:CategoriesController> at /home/code/master_rails_by_actions/app/controllers/admin/categories_controller.rb:3)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:CategoriesController> at /home/code/master_rails_by_actions/app/controllers/admin/categories_controller.rb:4)
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (1.2ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (29.6ms)
  Rendered admin/layouts/_menu.html.erb (1.9ms)
Completed 200 OK in 82ms (Views: 62.6ms | ActiveRecord: 3.8ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 18:02:45 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (5.8ms)
  Rendered admin/layouts/_menu.html.erb (1.0ms)
Completed 200 OK in 40ms (Views: 35.0ms | ActiveRecord: 0.8ms)


Started GET "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-02 18:02:47 +0800
Processing by Admin::ProductImagesController#index as HTML
  Parameters: {"product_id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  Rendering admin/product_images/index.html.erb within admin/layouts/admin
  [1m[36mProductImage Load (0.7ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 4[0m
  Rendered admin/product_images/index.html.erb within admin/layouts/admin (3.2ms)
  Rendered admin/layouts/_menu.html.erb (1.5ms)
Completed 200 OK in 29ms (Views: 25.3ms | ActiveRecord: 1.0ms)


Started POST "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-02 18:02:52 +0800
Processing by Admin::ProductImagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"QRpSDdj6dj9o/sqivgQvPaFoAO45zQpDUVqQ3pZkvjOgy1FrXmNSI671Jm+ygwMojrrFOAb8Jj/gLaiX+4BL1w==", "images"=>[#<ActionDispatch::Http::UploadedFile:0x007ff6c60792d8 @tempfile=#<Tempfile:/tmp/RackMultipart20170302-23527-t4dkf3.jpeg>, @original_filename="timg.jpeg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"timg.jpeg\"\r\nContent-Type: image/jpeg\r\n">, #<ActionDispatch::Http::UploadedFile:0x007ff6c60792b0 @tempfile=#<Tempfile:/tmp/RackMultipart20170302-23527-vy94u.jpg>, @original_filename="u=2002641048,1546554627&fm=23&gp=0.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"u=2002641048,1546554627&fm=23&gp=0.jpg\"\r\nContent-Type: image/jpeg\r\n">], "commit"=>"上传", "product_id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Command :: file -b --mime '/tmp/77ed36f4b18679ce54d4cebda306117e20170302-23527-1ypc3rj.jpeg'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/77ed36f4b18679ce54d4cebda306117e20170302-23527-1v7vu7d.jpeg'
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Command :: file -b --mime '/tmp/7b45b1f4a2ad4f757da41f435fd0a08020170302-23527-1pbk2yk.jpg'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/7b45b1f4a2ad4f757da41f435fd0a08020170302-23527-175sbd6.jpg'
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from create at /home/code/master_rails_by_actions/app/controllers/admin/product_images_controller.rb:14)
Redirected to http://localhost:3000/admin/products/4/product_images
Completed 302 Found in 21ms (ActiveRecord: 0.7ms)


Started GET "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-02 18:02:53 +0800
Processing by Admin::ProductImagesController#index as HTML
  Parameters: {"product_id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  Rendering admin/product_images/index.html.erb within admin/layouts/admin
  [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 4[0m
  Rendered admin/product_images/index.html.erb within admin/layouts/admin (3.4ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 23ms (Views: 19.8ms | ActiveRecord: 0.7ms)


Started POST "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-02 18:02:54 +0800
Processing by Admin::ProductImagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"TwuWG9v7XRnKt9nTiDjhox3bK7iYHrvJaM9vhJJqI4Ku2pV9XWJ5BQy8NR6Ev822Mgnubqcvl7XZuFfN/47WZg==", "commit"=>"上传", "product_id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.3ms)


  
NoMethodError (undefined method `each' for nil:NilClass):
  
app/controllers/admin/product_images_controller.rb:10:in `create'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.9ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (20.0ms)
Started POST "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-02 18:03:03 +0800
Processing by Admin::ProductImagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"TwuWG9v7XRnKt9nTiDjhox3bK7iYHrvJaM9vhJJqI4Ku2pV9XWJ5BQy8NR6Ev822Mgnubqcvl7XZuFfN/47WZg==", "commit"=>"上传", "product_id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.4ms)


  
NoMethodError (undefined method `each' for nil:NilClass):
  
app/controllers/admin/product_images_controller.rb:10:in `create'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.6ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (19.7ms)
Started POST "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-02 18:03:10 +0800
Processing by Admin::ProductImagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"TwuWG9v7XRnKt9nTiDjhox3bK7iYHrvJaM9vhJJqI4Ku2pV9XWJ5BQy8NR6Ev822Mgnubqcvl7XZuFfN/47WZg==", "images"=>[#<ActionDispatch::Http::UploadedFile:0x007ff6b2a9d3e0 @tempfile=#<Tempfile:/tmp/RackMultipart20170302-23527-dnj64t.jpeg>, @original_filename="timg.jpeg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"timg.jpeg\"\r\nContent-Type: image/jpeg\r\n">, #<ActionDispatch::Http::UploadedFile:0x007ff6b2a9d3b8 @tempfile=#<Tempfile:/tmp/RackMultipart20170302-23527-1b7bfne.jpg>, @original_filename="u=2002641048,1546554627&fm=23&gp=0.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"u=2002641048,1546554627&fm=23&gp=0.jpg\"\r\nContent-Type: image/jpeg\r\n">], "commit"=>"上传", "product_id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Command :: file -b --mime '/tmp/77ed36f4b18679ce54d4cebda306117e20170302-23527-e63ick.jpeg'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/77ed36f4b18679ce54d4cebda306117e20170302-23527-1giv21t.jpeg'
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Command :: file -b --mime '/tmp/7b45b1f4a2ad4f757da41f435fd0a08020170302-23527-1i9frme.jpg'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/7b45b1f4a2ad4f757da41f435fd0a08020170302-23527-1cxdwdp.jpg'
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from create at /home/code/master_rails_by_actions/app/controllers/admin/product_images_controller.rb:14)
Redirected to http://localhost:3000/admin/products/4/product_images
Completed 302 Found in 24ms (ActiveRecord: 1.1ms)


Started GET "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-02 18:03:10 +0800
Processing by Admin::ProductImagesController#index as HTML
  Parameters: {"product_id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  Rendering admin/product_images/index.html.erb within admin/layouts/admin
  [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 4[0m
  Rendered admin/product_images/index.html.erb within admin/layouts/admin (2.4ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 24ms (Views: 21.9ms | ActiveRecord: 0.6ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-02 18:03:27 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.6ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 27ms (Views: 25.8ms | ActiveRecord: 0.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-02 18:03:28 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (3.5ms)
  Rendered admin/layouts/_menu.html.erb (1.2ms)
Completed 200 OK in 23ms (Views: 21.8ms | ActiveRecord: 0.5ms)


Started GET "/admin/categories?id=9" for 127.0.0.1 at 2017-03-02 18:03:30 +0800
Processing by Admin::CategoriesController#index as HTML
  Parameters: {"id"=>"9"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 9 LIMIT 1[0m
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` = '9'[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (3.1ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 27ms (Views: 23.5ms | ActiveRecord: 0.9ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-03-02 18:03:32 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (3.1ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 26ms (Views: 23.6ms | ActiveRecord: 0.5ms)


Started GET "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-02 18:03:33 +0800
Processing by Admin::ProductImagesController#index as HTML
  Parameters: {"product_id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  Rendering admin/product_images/index.html.erb within admin/layouts/admin
  [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 4[0m
  Rendered admin/product_images/index.html.erb within admin/layouts/admin (2.8ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 44ms (Views: 41.1ms | ActiveRecord: 0.9ms)


Started POST "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-02 18:04:30 +0800
Processing by Admin::ProductImagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"tH/C4ypTzkzam8M0AD9ZIyvHcbQOWBnSIBFnX4H8z+1VrsGFrMrqUByQL/kMuHU2BBW0YjFpNa6RZl8W7Bg6CQ==", "images"=>[#<ActionDispatch::Http::UploadedFile:0x007ff6b36a2c08 @tempfile=#<Tempfile:/tmp/RackMultipart20170302-23527-9xb2fu.jpg>, @original_filename="u=2002641048,1546554627&fm=23&gp=0.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"u=2002641048,1546554627&fm=23&gp=0.jpg\"\r\nContent-Type: image/jpeg\r\n">], "commit"=>"上传", "product_id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Command :: file -b --mime '/tmp/7b45b1f4a2ad4f757da41f435fd0a08020170302-23527-bb8lrb.jpg'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/7b45b1f4a2ad4f757da41f435fd0a08020170302-23527-j88xkk.jpg'
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from create at /home/code/master_rails_by_actions/app/controllers/admin/product_images_controller.rb:14)
Redirected to http://localhost:3000/admin/products/4/product_images
Completed 302 Found in 16ms (ActiveRecord: 0.8ms)


Started GET "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-02 18:04:30 +0800
Processing by Admin::ProductImagesController#index as HTML
  Parameters: {"product_id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  Rendering admin/product_images/index.html.erb within admin/layouts/admin
  [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 4[0m
  Rendered admin/product_images/index.html.erb within admin/layouts/admin (2.3ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 25ms (Views: 19.7ms | ActiveRecord: 0.7ms)


Started POST "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-02 18:05:06 +0800
Processing by Admin::ProductImagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"5LcglQPh52J7LVxZ+ATR86n0zFnTmbWvd2OMqQzS92sFZiPzhXjDfr0msJT0g/3mhiYJj+yomdPGFLTgYTYCjw==", "images"=>[#<ActionDispatch::Http::UploadedFile:0x007ff6b3266388 @tempfile=#<Tempfile:/tmp/RackMultipart20170302-23527-1t7fbph.jpg>, @original_filename="u=3878905916,3743720292&fm=23&gp=0.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"u=3878905916,3743720292&fm=23&gp=0.jpg\"\r\nContent-Type: image/jpeg\r\n">], "commit"=>"上传", "product_id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Command :: file -b --mime '/tmp/3dadd38b07f8c6dbfb785b302392b98720170302-23527-gew9sx.jpg'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/3dadd38b07f8c6dbfb785b302392b98720170302-23527-758yrc.jpg'
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from create at /home/code/master_rails_by_actions/app/controllers/admin/product_images_controller.rb:14)
Redirected to http://localhost:3000/admin/products/4/product_images
Completed 302 Found in 43ms (ActiveRecord: 0.6ms)


Started GET "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-02 18:05:06 +0800
Processing by Admin::ProductImagesController#index as HTML
  Parameters: {"product_id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  Rendering admin/product_images/index.html.erb within admin/layouts/admin
  [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 4[0m
  Rendered admin/product_images/index.html.erb within admin/layouts/admin (2.2ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 21ms (Views: 18.6ms | ActiveRecord: 0.6ms)


Started POST "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-02 18:05:08 +0800
Processing by Admin::ProductImagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"AQClSJyoOIhpMi65dc7fbwcJWzB3fxr7SmqRcOUWwVfg0aYuGjEclK85wnR5SfN6KNue5khONof7Hak5iPI0sw==", "commit"=>"上传", "product_id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.4ms)


  
NoMethodError (undefined method `each' for nil:NilClass):
  
app/controllers/admin/product_images_controller.rb:10:in `create'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.4ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (21.2ms)
Started POST "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-02 18:07:08 +0800
Processing by Admin::ProductImagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"AQClSJyoOIhpMi65dc7fbwcJWzB3fxr7SmqRcOUWwVfg0aYuGjEclK85wnR5SfN6KNue5khONof7Hak5iPI0sw==", "images"=>[#<ActionDispatch::Http::UploadedFile:0x007ff6c7015fc0 @tempfile=#<Tempfile:/tmp/RackMultipart20170302-23527-am4ae0.jpeg>, @original_filename="timg.jpeg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"timg.jpeg\"\r\nContent-Type: image/jpeg\r\n">], "commit"=>"上传", "product_id"=>"4"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Command :: file -b --mime '/tmp/77ed36f4b18679ce54d4cebda306117e20170302-23527-ymzyh3.jpeg'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/77ed36f4b18679ce54d4cebda306117e20170302-23527-19fi6mu.jpeg'
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from create at /home/code/master_rails_by_actions/app/controllers/admin/product_images_controller.rb:14)
Redirected to http://localhost:3000/admin/products/4/product_images
Completed 302 Found in 37ms (ActiveRecord: 2.8ms)


Started GET "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-02 18:07:08 +0800
Processing by Admin::ProductImagesController#index as HTML
  Parameters: {"product_id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  Rendering admin/product_images/index.html.erb within admin/layouts/admin
  [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 4[0m
  Rendered admin/product_images/index.html.erb within admin/layouts/admin (3.3ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 22ms (Views: 19.2ms | ActiveRecord: 0.5ms)


Started POST "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-02 18:07:50 +0800
Processing by Admin::ProductImagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"7O8Q+CTqV7BgBDPHZXwc68D5TQdBTOAJ84+ydyuqPyMNPhOeonNzrKYP3wpp+zD+7yuI0X59zHVC+Io+Rk7Kxw==", "images"=>[#<ActionDispatch::Http::UploadedFile:0x007ff6c65b13e0 @tempfile=#<Tempfile:/tmp/RackMultipart20170302-23527-27qw3e.jpg>, @original_filename="u=3878905916,3743720292&fm=23&gp=0.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"u=3878905916,3743720292&fm=23&gp=0.jpg\"\r\nContent-Type: image/jpeg\r\n">], "commit"=>"上传", "product_id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Command :: file -b --mime '/tmp/3dadd38b07f8c6dbfb785b302392b98720170302-23527-a2ipdy.jpg'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/3dadd38b07f8c6dbfb785b302392b98720170302-23527-6vdavv.jpg'
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from create at /home/code/master_rails_by_actions/app/controllers/admin/product_images_controller.rb:14)
Redirected to http://localhost:3000/admin/products/4/product_images
Completed 302 Found in 34ms (ActiveRecord: 0.8ms)


Started GET "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-02 18:07:50 +0800
Processing by Admin::ProductImagesController#index as HTML
  Parameters: {"product_id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  Rendering admin/product_images/index.html.erb within admin/layouts/admin
  [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 4[0m
  Rendered admin/product_images/index.html.erb within admin/layouts/admin (2.6ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 25ms (Views: 22.2ms | ActiveRecord: 0.7ms)


Started POST "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 09:16:34 +0800
  [1m[36mActiveRecord::SchemaMigration Load (1.5ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by Admin::ProductImagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"J1M6oJTVEL8Qw41QfDQvaXJcsbzZIBBI7Jdxui5pvB7GgjnGEkw0o9bIYZ1wswN8XY50auYRPDRd4EnzQ41J+g==", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00000005ff4948 @tempfile=#<Tempfile:/tmp/RackMultipart20170303-2116-13zmhx2.jpg>, @original_filename="u=2002641048,1546554627&fm=23&gp=0.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"u=2002641048,1546554627&fm=23&gp=0.jpg\"\r\nContent-Type: image/jpeg\r\n">], "commit"=>"上传", "product_id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Command :: file -b --mime '/tmp/7b45b1f4a2ad4f757da41f435fd0a08020170303-2116-nai350.jpg'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/7b45b1f4a2ad4f757da41f435fd0a08020170303-2116-69jo4c.jpg'
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from create at /home/code/master_rails_by_actions/app/controllers/admin/product_images_controller.rb:14)
Redirected to http://localhost:3000/admin/products/4/product_images
Completed 302 Found in 98ms (ActiveRecord: 7.3ms)


Started GET "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 09:16:35 +0800
Processing by Admin::ProductImagesController#index as HTML
  Parameters: {"product_id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  Rendering admin/product_images/index.html.erb within admin/layouts/admin
  [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 4[0m
  Rendered admin/product_images/index.html.erb within admin/layouts/admin (15.2ms)
  Rendered admin/layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 2089ms (Views: 2085.1ms | ActiveRecord: 0.7ms)


Started POST "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 10:06:35 +0800
Processing by Admin::ProductImagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"9sBA7/sKm6zpja2eBfyrK71v9bhKR44KIaCAnTVb510XEUOJfZO/sC+GQVMJe4c+kr0wbnV2onaQ17jUWL8SuQ==", "images"=>[#<ActionDispatch::Http::UploadedFile:0x007f5f36e0e0d8 @tempfile=#<Tempfile:/tmp/RackMultipart20170303-2116-8mgof.jpg>, @original_filename="u=3878905916,3743720292&fm=23&gp=0.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"u=3878905916,3743720292&fm=23&gp=0.jpg\"\r\nContent-Type: image/jpeg\r\n">], "commit"=>"上传", "product_id"=>"4"}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Command :: file -b --mime '/tmp/3dadd38b07f8c6dbfb785b302392b98720170303-2116-1dphs59.jpg'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/3dadd38b07f8c6dbfb785b302392b98720170303-2116-tn2rwg.jpg'
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from create at /home/code/master_rails_by_actions/app/controllers/admin/product_images_controller.rb:14)
Redirected to http://localhost:3000/admin/products/4/product_images
Completed 302 Found in 17ms (ActiveRecord: 1.2ms)


Started GET "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 10:06:35 +0800
Processing by Admin::ProductImagesController#index as HTML
  Parameters: {"product_id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  Rendering admin/product_images/index.html.erb within admin/layouts/admin
  [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 4[0m
  Rendered admin/product_images/index.html.erb within admin/layouts/admin (3.1ms)
  Rendered admin/layouts/_menu.html.erb (1.1ms)
Completed 200 OK in 32ms (Views: 29.3ms | ActiveRecord: 0.7ms)


Started GET "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 10:06:40 +0800
Processing by Admin::ProductImagesController#index as HTML
  Parameters: {"product_id"=>"4"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  Rendering admin/product_images/index.html.erb within admin/layouts/admin
  [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 4[0m
  Rendered admin/product_images/index.html.erb within admin/layouts/admin (2.9ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 102ms (Views: 94.6ms | ActiveRecord: 1.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-03 10:06:43 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.6ms)
  Rendered admin/layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 35ms (Views: 33.9ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-03 10:06:44 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.3ms)
  Rendered admin/layouts/_menu.html.erb (1.3ms)
Completed 200 OK in 18ms (Views: 17.2ms | ActiveRecord: 0.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-03 10:06:44 +0800
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:CategoriesController> at /home/code/master_rails_by_actions/app/controllers/admin/categories_controller.rb:3)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:CategoriesController> at /home/code/master_rails_by_actions/app/controllers/admin/categories_controller.rb:4)
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (12.2ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 36ms (Views: 28.9ms | ActiveRecord: 2.0ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-03-03 10:06:45 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (5.5ms)
  Rendered admin/layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 30ms (Views: 27.8ms | ActiveRecord: 0.9ms)


Started GET "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 10:06:47 +0800
Processing by Admin::ProductImagesController#index as HTML
  Parameters: {"product_id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  Rendering admin/product_images/index.html.erb within admin/layouts/admin
  [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 4[0m
  Rendered admin/product_images/index.html.erb within admin/layouts/admin (2.3ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 23ms (Views: 20.1ms | ActiveRecord: 0.6ms)


Started POST "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 10:15:54 +0800
Processing by Admin::ProductImagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Nzns64S5YULaK+d1P3n18IuWetg3JwXh0o7C7bgezEvW6O+NAiBFXhwgC7gz/tnlpES/DggWKZ1j+fqk1fo5rw==", "images"=>[#<ActionDispatch::Http::UploadedFile:0x007f5f3730a960 @tempfile=#<Tempfile:/tmp/RackMultipart20170303-2116-1sznxv.jpg>, @original_filename="u=3878905916,3743720292&fm=23&gp=0.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"u=3878905916,3743720292&fm=23&gp=0.jpg\"\r\nContent-Type: image/jpeg\r\n">], "commit"=>"上传", "product_id"=>"4"}
  [1m[36mProduct Load (2.7ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Command :: file -b --mime '/tmp/3dadd38b07f8c6dbfb785b302392b98720170303-2116-12q7m37.jpg'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/3dadd38b07f8c6dbfb785b302392b98720170303-2116-1xrwfzf.jpg'
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from create at /home/code/master_rails_by_actions/app/controllers/admin/product_images_controller.rb:14)
Redirected to http://localhost:3000/admin/products/4/product_images
Completed 302 Found in 30ms (ActiveRecord: 3.2ms)


Started GET "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 10:15:54 +0800
Processing by Admin::ProductImagesController#index as HTML
  Parameters: {"product_id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  Rendering admin/product_images/index.html.erb within admin/layouts/admin
  [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 4[0m
  Rendered admin/product_images/index.html.erb within admin/layouts/admin (4.1ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 31ms (Views: 27.1ms | ActiveRecord: 0.9ms)


Started GET "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 10:16:05 +0800
Processing by Admin::ProductImagesController#index as HTML
  Parameters: {"product_id"=>"4"}
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  Rendering admin/product_images/index.html.erb within admin/layouts/admin
  [1m[36mProductImage Load (3.8ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 4[0m
  Rendered admin/product_images/index.html.erb within admin/layouts/admin (8.6ms)
  Rendered admin/layouts/_menu.html.erb (4.8ms)
Completed 200 OK in 80ms (Views: 67.7ms | ActiveRecord: 5.1ms)


Started POST "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 10:16:12 +0800
Processing by Admin::ProductImagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"8EnIxjStIr5LfzYY5+CYSKIFOJFTA3dxLhLf6ORnpucRmMugsjQGoo102tXrZ7Rdjdf9R2wyWw2fZeehiYNTAw==", "images"=>[#<ActionDispatch::Http::UploadedFile:0x007f5f1debc0c0 @tempfile=#<Tempfile:/tmp/RackMultipart20170303-2116-1wvc51r.jpg>, @original_filename="u=3878905916,3743720292&fm=23&gp=0.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"u=3878905916,3743720292&fm=23&gp=0.jpg\"\r\nContent-Type: image/jpeg\r\n">], "commit"=>"上传", "product_id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Command :: file -b --mime '/tmp/3dadd38b07f8c6dbfb785b302392b98720170303-2116-c12144.jpg'
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/3dadd38b07f8c6dbfb785b302392b98720170303-2116-104sv2r.jpg'
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from create at /home/code/master_rails_by_actions/app/controllers/admin/product_images_controller.rb:14)
Redirected to http://localhost:3000/admin/products/4/product_images
Completed 302 Found in 17ms (ActiveRecord: 1.9ms)


Started GET "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 10:16:12 +0800
Processing by Admin::ProductImagesController#index as HTML
  Parameters: {"product_id"=>"4"}
  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  Rendering admin/product_images/index.html.erb within admin/layouts/admin
  [1m[36mProductImage Load (1.4ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 4[0m
  Rendered admin/product_images/index.html.erb within admin/layouts/admin (3.5ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 26ms (Views: 20.3ms | ActiveRecord: 2.8ms)


Started POST "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 10:16:35 +0800
Processing by Admin::ProductImagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"vngo6DhOVB3QqoqgbK6fRF/kWhOYqOJHRS1ib+AwaVVfqSuOvtdwARahZm1gKbNRcDafxaeZzjv0WlomjdScsQ==", "images"=>[#<ActionDispatch::Http::UploadedFile:0x007f5f1c12ca78 @tempfile=#<Tempfile:/tmp/RackMultipart20170303-2116-bquxn0.jpg>, @original_filename="u=2002641048,1546554627&fm=23&gp=0.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"u=2002641048,1546554627&fm=23&gp=0.jpg\"\r\nContent-Type: image/jpeg\r\n">], "commit"=>"上传", "product_id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Command :: file -b --mime '/tmp/7b45b1f4a2ad4f757da41f435fd0a08020170303-2116-19l44zk.jpg'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/7b45b1f4a2ad4f757da41f435fd0a08020170303-2116-1iuw0it.jpg'
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from create at /home/code/master_rails_by_actions/app/controllers/admin/product_images_controller.rb:14)
Redirected to http://localhost:3000/admin/products/4/product_images
Completed 302 Found in 43ms (ActiveRecord: 0.9ms)


Started GET "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 10:16:35 +0800
Processing by Admin::ProductImagesController#index as HTML
  Parameters: {"product_id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  Rendering admin/product_images/index.html.erb within admin/layouts/admin
  [1m[36mProductImage Load (0.7ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 4[0m
  Rendered admin/product_images/index.html.erb within admin/layouts/admin (3.0ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 25ms (Views: 21.6ms | ActiveRecord: 1.1ms)


Started POST "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 10:18:20 +0800
Processing by Admin::ProductImagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"tEIELDSrCYu9nflNqCZu1ZT2reJih7wmiL3B7KThwi5VkwdKsjItl3uWFYCkoULAuyRoNF22kFo5yvmlyQU3yg==", "images"=>[#<ActionDispatch::Http::UploadedFile:0x007f5f37ebc2b8 @tempfile=#<Tempfile:/tmp/RackMultipart20170303-2116-nbtevi.jpg>, @original_filename="u=3878905916,3743720292&fm=23&gp=0.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"u=3878905916,3743720292&fm=23&gp=0.jpg\"\r\nContent-Type: image/jpeg\r\n">], "commit"=>"上传", "product_id"=>"4"}
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Command :: file -b --mime '/tmp/3dadd38b07f8c6dbfb785b302392b98720170303-2116-4xv6md.jpg'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/3dadd38b07f8c6dbfb785b302392b98720170303-2116-1k9o1mg.jpg'
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
No template found for Admin::ProductImagesController#create, rendering head :no_content
Completed 204 No Content in 67ms (ActiveRecord: 4.9ms)


Started GET "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 10:18:26 +0800
Processing by Admin::ProductImagesController#index as HTML
  Parameters: {"product_id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  Rendering admin/product_images/index.html.erb within admin/layouts/admin
  [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 4[0m
  Rendered admin/product_images/index.html.erb within admin/layouts/admin (5.2ms)
  Rendered admin/layouts/_menu.html.erb (1.4ms)
Completed 200 OK in 39ms (Views: 35.9ms | ActiveRecord: 0.7ms)


Started GET "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 10:19:03 +0800
Processing by Admin::ProductImagesController#index as HTML
  Parameters: {"product_id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  Rendering admin/product_images/index.html.erb within admin/layouts/admin
  [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 4[0m
  Rendered admin/product_images/index.html.erb within admin/layouts/admin (4.9ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 51ms (Views: 25.1ms | ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2017-03-03 10:19:35 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.4ms)
  Rendered layouts/_menu.html.erb (3.5ms)
Completed 200 OK in 303ms (Views: 302.0ms | ActiveRecord: 0.0ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-03 10:19:40 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.4ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 32ms (Views: 30.7ms | ActiveRecord: 0.0ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-03-03 10:19:42 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (23.9ms)
  Rendered admin/layouts/_menu.html.erb (2.0ms)
Completed 200 OK in 80ms (Views: 56.8ms | ActiveRecord: 2.6ms)


Started GET "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 10:19:43 +0800
Processing by Admin::ProductImagesController#index as HTML
  Parameters: {"product_id"=>"4"}
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  Rendering admin/product_images/index.html.erb within admin/layouts/admin
  [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 4[0m
  Rendered admin/product_images/index.html.erb within admin/layouts/admin (4.3ms)
  Rendered admin/layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 59ms (Views: 30.4ms | ActiveRecord: 2.6ms)


Started POST "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 10:19:55 +0800
Processing by Admin::ProductImagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"hW3pSaJM6ZCH+TdSWT+9mo3VOsZICSp5vDK1Ouw3Zd5kvOovJNXNjEHy259VuJGPogf/EHc4BgUNRY1zgdOQOg==", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00000003cd66c8 @tempfile=#<Tempfile:/tmp/RackMultipart20170303-4001-1dzdlvq.jpeg>, @original_filename="timg.jpeg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"timg.jpeg\"\r\nContent-Type: image/jpeg\r\n">], "commit"=>"上传", "product_id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Command :: file -b --mime '/tmp/77ed36f4b18679ce54d4cebda306117e20170303-4001-1hic1r6.jpeg'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/77ed36f4b18679ce54d4cebda306117e20170303-4001-1nxd4ru.jpeg'
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from create at /home/code/master_rails_by_actions/app/controllers/admin/product_images_controller.rb:14)
Redirected to http://localhost:3000/admin/products/4/product_images
Completed 302 Found in 76ms (ActiveRecord: 1.4ms)


Started GET "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 10:19:55 +0800
Processing by Admin::ProductImagesController#index as HTML
  Parameters: {"product_id"=>"4"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  Rendering admin/product_images/index.html.erb within admin/layouts/admin
  [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 4[0m
  Rendered admin/product_images/index.html.erb within admin/layouts/admin (3.2ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 38ms (Views: 32.3ms | ActiveRecord: 1.1ms)


Started GET "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 10:20:09 +0800
Processing by Admin::ProductImagesController#index as HTML
  Parameters: {"product_id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  Rendering admin/product_images/index.html.erb within admin/layouts/admin
  [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 4[0m
  Rendered admin/product_images/index.html.erb within admin/layouts/admin (5.5ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 37ms (Views: 31.4ms | ActiveRecord: 0.6ms)


Started POST "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 10:25:28 +0800
Processing by Admin::ProductImagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"XtGL6/spLGUJipRkxIgDelUqionKXEQQcuXNIqgngc+/AIiNfbAIec+BeKnIDy9vevhPX/VtaGzDkvVrxcN0Kw==", "images"=>[#<ActionDispatch::Http::UploadedFile:0x007f2565627370 @tempfile=#<Tempfile:/tmp/RackMultipart20170303-4001-1ra6h4q.jpeg>, @original_filename="timg.jpeg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"timg.jpeg\"\r\nContent-Type: image/jpeg\r\n">], "commit"=>"上传", "product_id"=>"4"}
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Completed 500 Internal Server Error in 42ms (ActiveRecord: 0.9ms)


  
NameError (undefined local variable or method `beybug' for #<Admin::ProductImagesController:0x007f25655b1df0>):
  
app/controllers/admin/product_images_controller.rb:10:in `create'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.5ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.9ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (28.2ms)
Started POST "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 10:26:02 +0800
Processing by Admin::ProductImagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"XtGL6/spLGUJipRkxIgDelUqionKXEQQcuXNIqgngc+/AIiNfbAIec+BeKnIDy9vevhPX/VtaGzDkvVrxcN0Kw==", "images"=>[#<ActionDispatch::Http::UploadedFile:0x007f256627b6f8 @tempfile=#<Tempfile:/tmp/RackMultipart20170303-4001-bn3l13.jpg>, @original_filename="u=2002641048,1546554627&fm=23&gp=0.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"u=2002641048,1546554627&fm=23&gp=0.jpg\"\r\nContent-Type: image/jpeg\r\n">], "commit"=>"上传", "product_id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Command :: file -b --mime '/tmp/7b45b1f4a2ad4f757da41f435fd0a08020170303-4001-1ih38u8.jpg'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/7b45b1f4a2ad4f757da41f435fd0a08020170303-4001-18k73di.jpg'
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from create at /home/code/master_rails_by_actions/app/controllers/admin/product_images_controller.rb:15)
Redirected to http://localhost:3000/admin/products/4/product_images
Completed 302 Found in 20140ms (ActiveRecord: 0.9ms)


Started GET "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 10:26:22 +0800
Processing by Admin::ProductImagesController#index as HTML
  Parameters: {"product_id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  Rendering admin/product_images/index.html.erb within admin/layouts/admin
  [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 4[0m
  Rendered admin/product_images/index.html.erb within admin/layouts/admin (5.0ms)
  Rendered admin/layouts/_menu.html.erb (1.6ms)
Completed 200 OK in 32ms (Views: 28.0ms | ActiveRecord: 0.6ms)


Started POST "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 10:26:44 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by Admin::ProductImagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"YRB2JsSEYRLWS5gUbrCT5Q7fBGgLzWhGqrKUpXABoLeAwXVAQh1FDhBAdNliN7/wIQ3BvjT8RDobxazsHeVVUw==", "images"=>[#<ActionDispatch::Http::UploadedFile:0x0000000447f028 @tempfile=#<Tempfile:/tmp/RackMultipart20170303-4326-kzz721.jpg>, @original_filename="u=2002641048,1546554627&fm=23&gp=0.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"u=2002641048,1546554627&fm=23&gp=0.jpg\"\r\nContent-Type: image/jpeg\r\n">], "commit"=>"上传", "product_id"=>"4"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Command :: file -b --mime '/tmp/7b45b1f4a2ad4f757da41f435fd0a08020170303-4326-1guc10f.jpg'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/7b45b1f4a2ad4f757da41f435fd0a08020170303-4326-x8hfvr.jpg'
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 3511ms (ActiveRecord: 3.5ms)


  
ArgumentError (wrong number of arguments (1 for 0)):
  
app/controllers/admin/product_images_controller.rb:15:in `create'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.2ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (10.5ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (34.0ms)
  [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images`[0m
Started POST "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 10:29:23 +0800
Processing by Admin::ProductImagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"YRB2JsSEYRLWS5gUbrCT5Q7fBGgLzWhGqrKUpXABoLeAwXVAQh1FDhBAdNliN7/wIQ3BvjT8RDobxazsHeVVUw==", "images"=>[#<ActionDispatch::Http::UploadedFile:0x007ff03cb0bbc8 @tempfile=#<Tempfile:/tmp/RackMultipart20170303-4326-1fr369y.jpg>, @original_filename="u=2002641048,1546554627&fm=23&gp=0.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"u=2002641048,1546554627&fm=23&gp=0.jpg\"\r\nContent-Type: image/jpeg\r\n">], "commit"=>"上传", "product_id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Command :: file -b --mime '/tmp/7b45b1f4a2ad4f757da41f435fd0a08020170303-4326-1yjix7z.jpg'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/7b45b1f4a2ad4f757da41f435fd0a08020170303-4326-1xdng8r.jpg'
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images`[0m
Completed 500 Internal Server Error in 79853ms (ActiveRecord: 7.6ms)


  
ArgumentError (wrong number of arguments (1 for 0)):
  
app/controllers/admin/product_images_controller.rb:15:in `create'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.0ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.2ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (23.8ms)
Started POST "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 10:31:47 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by Admin::ProductImagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"YRB2JsSEYRLWS5gUbrCT5Q7fBGgLzWhGqrKUpXABoLeAwXVAQh1FDhBAdNliN7/wIQ3BvjT8RDobxazsHeVVUw==", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00000005067c50 @tempfile=#<Tempfile:/tmp/RackMultipart20170303-4610-1cafam1.jpg>, @original_filename="u=2002641048,1546554627&fm=23&gp=0.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"u=2002641048,1546554627&fm=23&gp=0.jpg\"\r\nContent-Type: image/jpeg\r\n">], "commit"=>"上传", "product_id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Command :: file -b --mime '/tmp/7b45b1f4a2ad4f757da41f435fd0a08020170303-4610-11rv8yu.jpg'
  [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 4[0m
Command :: file -b --mime '/tmp/7b45b1f4a2ad4f757da41f435fd0a08020170303-4610-gz25si.jpg'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/7b45b1f4a2ad4f757da41f435fd0a08020170303-4610-2df9xg.jpg'
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Command :: file -b --mime '/tmp/7b45b1f4a2ad4f757da41f435fd0a08020170303-4610-kvy5pe.jpg'
Command :: file -b --mime '/tmp/7b45b1f4a2ad4f757da41f435fd0a08020170303-4610-7l6gpw.jpg'
Command :: file -b --mime '/tmp/7b45b1f4a2ad4f757da41f435fd0a08020170303-4610-1j3y54n.jpg'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/7b45b1f4a2ad4f757da41f435fd0a08020170303-4610-l5dgz6.jpg'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/7b45b1f4a2ad4f757da41f435fd0a08020170303-4610-17zd3t5.jpg'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Command :: file -b --mime '/tmp/7b45b1f4a2ad4f757da41f435fd0a08020170303-4610-c72je9.jpg'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/7b45b1f4a2ad4f757da41f435fd0a08020170303-4610-m1rvvh.jpg'
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 499536ms (ActiveRecord: 4.6ms)


  
ArgumentError (wrong number of arguments (1 for 0)):
  
app/controllers/admin/product_images_controller.rb:15:in `create'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.2ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (8.4ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (32.9ms)
Started POST "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 10:40:13 +0800
Processing by Admin::ProductImagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"YRB2JsSEYRLWS5gUbrCT5Q7fBGgLzWhGqrKUpXABoLeAwXVAQh1FDhBAdNliN7/wIQ3BvjT8RDobxazsHeVVUw==", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00000005239240 @tempfile=#<Tempfile:/tmp/RackMultipart20170303-4610-13o56k.jpg>, @original_filename="u=2002641048,1546554627&fm=23&gp=0.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"u=2002641048,1546554627&fm=23&gp=0.jpg\"\r\nContent-Type: image/jpeg\r\n">], "commit"=>"上传", "product_id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Command :: file -b --mime '/tmp/7b45b1f4a2ad4f757da41f435fd0a08020170303-4610-1ltg43q.jpg'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/7b45b1f4a2ad4f757da41f435fd0a08020170303-4610-xhi9in.jpg'
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 3323ms (ActiveRecord: 0.7ms)


  
ArgumentError (wrong number of arguments (1 for 0)):
  
app/controllers/admin/product_images_controller.rb:15:in `create'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.1ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.7ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.7ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (26.8ms)
Started POST "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 10:40:23 +0800
Processing by Admin::ProductImagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"YRB2JsSEYRLWS5gUbrCT5Q7fBGgLzWhGqrKUpXABoLeAwXVAQh1FDhBAdNliN7/wIQ3BvjT8RDobxazsHeVVUw==", "images"=>[#<ActionDispatch::Http::UploadedFile:0x007f0f85988fc8 @tempfile=#<Tempfile:/tmp/RackMultipart20170303-4610-1j74dmr.png>, @original_filename="20170303103944904.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"20170303103944904.png\"\r\nContent-Type: image/png\r\n">], "commit"=>"上传", "product_id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Command :: file -b --mime '/tmp/52f36575f04dcbd83795c91ea5497ad920170303-4610-ujbhte.png'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/52f36575f04dcbd83795c91ea5497ad920170303-4610-1sd41bi.png'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Command :: file -b --mime '/tmp/52f36575f04dcbd83795c91ea5497ad920170303-4610-dp7vop.png'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/52f36575f04dcbd83795c91ea5497ad920170303-4610-162zmph.png'
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 145126ms (ActiveRecord: 0.8ms)


  
ArgumentError (wrong number of arguments (1 for 0)):
  
app/controllers/admin/product_images_controller.rb:15:in `create'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.8ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.7ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (21.4ms)
Started POST "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 10:43:07 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by Admin::ProductImagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"YRB2JsSEYRLWS5gUbrCT5Q7fBGgLzWhGqrKUpXABoLeAwXVAQh1FDhBAdNliN7/wIQ3BvjT8RDobxazsHeVVUw==", "images"=>[#<ActionDispatch::Http::UploadedFile:0x0000000548adf0 @tempfile=#<Tempfile:/tmp/RackMultipart20170303-5068-1ieofjd.png>, @original_filename="20170303103944904.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"20170303103944904.png\"\r\nContent-Type: image/png\r\n">], "commit"=>"上传", "product_id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Completed 500 Internal Server Error in 36979ms (ActiveRecord: 4.1ms)


  
Paperclip::Errors::MissingRequiredValidatorError (Paperclip::Errors::MissingRequiredValidatorError):
  
app/controllers/admin/product_images_controller.rb:12:in `block in create'
app/controllers/admin/product_images_controller.rb:10:in `each'
app/controllers/admin/product_images_controller.rb:10:in `create'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.2ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (10.1ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (33.7ms)
Started POST "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 10:43:57 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by Admin::ProductImagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"YRB2JsSEYRLWS5gUbrCT5Q7fBGgLzWhGqrKUpXABoLeAwXVAQh1FDhBAdNliN7/wIQ3BvjT8RDobxazsHeVVUw==", "images"=>[#<ActionDispatch::Http::UploadedFile:0x000000055ac1e8 @tempfile=#<Tempfile:/tmp/RackMultipart20170303-5122-1mel1w0.jpg>, @original_filename="u=3878905916,3743720292&fm=23&gp=0.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"u=3878905916,3743720292&fm=23&gp=0.jpg\"\r\nContent-Type: image/jpeg\r\n">], "commit"=>"上传", "product_id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Command :: file -b --mime '/tmp/3dadd38b07f8c6dbfb785b302392b98720170303-5122-ruuha4.jpg'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/3dadd38b07f8c6dbfb785b302392b98720170303-5122-1j40qua.jpg'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Command :: file -b --mime '/tmp/3dadd38b07f8c6dbfb785b302392b98720170303-5122-25ju6k.jpg'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/3dadd38b07f8c6dbfb785b302392b98720170303-5122-7x468g.jpg'
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 654782ms (ActiveRecord: 3.4ms)


  
ArgumentError (wrong number of arguments (1 for 0)):
  
app/controllers/admin/product_images_controller.rb:15:in `create'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.5ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (8.6ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (30.0ms)
Started GET "/" for 127.0.0.1 at 2017-03-03 10:59:13 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.1ms)
  Rendered layouts/_menu.html.erb (3.5ms)
Completed 200 OK in 273ms (Views: 272.4ms | ActiveRecord: 0.0ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-03-03 10:59:19 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 35ms (Views: 33.6ms | ActiveRecord: 0.0ms)


Started POST "/sessions" for 127.0.0.1 at 2017-03-03 10:59:29 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"uN+VtIUikAmWedZoE9jKQP0lsYrORgJlfrRg3KI2UTlZDpbSA7u0FVByOqUfX+ZV0vd0XPF3LhnPw1iVz9Kk3Q==", "email"=>"aaa@qq.com", "password"=>"[FILTERED]", "sign_submit"=>"登录"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'aaa@qq.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/sessions/new
Completed 302 Found in 347ms (ActiveRecord: 3.2ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-03-03 10:59:29 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 37ms (Views: 35.4ms | ActiveRecord: 0.0ms)


Started POST "/sessions" for 127.0.0.1 at 2017-03-03 10:59:37 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"5xqcQHUGjCCCKReZP7qil5R+EiqG5PdShEestXB6TRAGy58m85+oPEQi+1QzPY6Cu6zX/LnV2y41MJT8HZ649A==", "email"=>"aaa@qq.com", "password"=>"[FILTERED]", "sign_submit"=>"登录"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'aaa@qq.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/
Completed 302 Found in 160ms (ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-03-03 10:59:37 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  Rendered layouts/_menu.html.erb (7.7ms)
Completed 200 OK in 63ms (Views: 61.2ms | ActiveRecord: 0.3ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-03 10:59:45 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.9ms)
  Rendered admin/layouts/_menu.html.erb (1.0ms)
Completed 200 OK in 64ms (Views: 63.1ms | ActiveRecord: 0.0ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-03-03 10:59:47 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (26.6ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 76ms (Views: 61.7ms | ActiveRecord: 2.9ms)


Started GET "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 10:59:49 +0800
Processing by Admin::ProductImagesController#index as HTML
  Parameters: {"product_id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  Rendering admin/product_images/index.html.erb within admin/layouts/admin
  [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 4[0m
  Rendered admin/product_images/index.html.erb within admin/layouts/admin (6.8ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 78ms (Views: 39.8ms | ActiveRecord: 1.4ms)


Started POST "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 10:59:53 +0800
Processing by Admin::ProductImagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"/JGHRiX1Q/10UmHpGRh9p/5bQfXLVjpPcNGxJp46cHkdQIQgo2xn4bJZjSQVn1Gy0YmEI/RnFjPBpolv896FnQ==", "images"=>[#<ActionDispatch::Http::UploadedFile:0x007fc0751b17b8 @tempfile=#<Tempfile:/tmp/RackMultipart20170303-5701-1738v1v.png>, @original_filename="20170303103944904.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"20170303103944904.png\"\r\nContent-Type: image/png\r\n">], "commit"=>"上传", "product_id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Command :: file -b --mime '/tmp/52f36575f04dcbd83795c91ea5497ad920170303-5701-1d7d3n4.png'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/52f36575f04dcbd83795c91ea5497ad920170303-5701-hm0g0v.png'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/52f36575f04dcbd83795c91ea5497ad920170303-5701-bn99jo.png'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Started GET "/admin/products" for 127.0.0.1 at 2017-03-03 11:05:01 +0800
Started GET "/admin/products" for 127.0.0.1 at 2017-03-03 11:05:01 +0800
Processing by Admin::ProductsController#index as HTML
Command :: file -b --mime '/tmp/52f36575f04dcbd83795c91ea5497ad920170303-5701-1obs5sf.png'
Started GET "/" for 127.0.0.1 at 2017-03-03 11:05:01 +0800
Started GET "/admin" for 127.0.0.1 at 2017-03-03 11:05:01 +0800
Processing by Admin::ProductsController#index as HTML
Processing by WelcomeController#index as HTML
Started GET "/" for 127.0.0.1 at 2017-03-03 11:05:01 +0800
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (9.6ms)[0m  [1m[35mBEGIN[0m
  Rendering admin/products/index.html.erb within admin/layouts/admin
Started GET "/" for 127.0.0.1 at 2017-03-03 11:05:01 +0800
Started GET "/" for 127.0.0.1 at 2017-03-03 11:05:01 +0800
Processing by Admin::SessionsController#new as HTML
  [1m[35m (2.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (10.9ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  Rendering welcome/index.html.erb within layouts/application
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.5ms)
  Rendered admin/products/index.html.erb within admin/layouts/admin (23.0ms)
Command :: file -b --mime '/tmp/52f36575f04dcbd83795c91ea5497ad920170303-5701-18rr538.png'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/layouts/_menu.html.erb (1.0ms)
  Rendered admin/products/index.html.erb within admin/layouts/admin (91.0ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (3.5ms)[0m  [1m[35mCOMMIT[0m
  Rendered admin/layouts/_menu.html.erb (0.2ms)
  Rendered layouts/_menu.html.erb (28.7ms)
Completed 500 Internal Server Error in 307474ms (ActiveRecord: 14.8ms)


Completed 200 OK in 105ms (Views: 103.9ms | ActiveRecord: 0.0ms)


  
ArgumentError (wrong number of arguments (1 for 0)):
  
app/controllers/admin/product_images_controller.rb:15:in `create'
Completed 200 OK in 153ms (Views: 142.8ms | ActiveRecord: 3.4ms)


Processing by WelcomeController#index as HTML
Completed 200 OK in 218ms (Views: 197.8ms | ActiveRecord: 11.6ms)


Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
Completed 200 OK in 203ms (Views: 196.0ms | ActiveRecord: 1.0ms)


  Rendered welcome/index.html.erb within layouts/application (0.3ms)
  Rendering welcome/index.html.erb within layouts/application
Processing by WelcomeController#index as HTML
  Rendered welcome/index.html.erb within layouts/application (0.0ms)
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.1ms)
Completed 500 Internal Server Error in 47ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (can't add a new key into hash during iteration):
     6:     maxiumum-scale=1.0, user-scalable=no">    
     7:     <%= csrf_meta_tags %>
     8: 
     9:     <%= stylesheet_link_tag 'application', media: 'all' %>
    10:     <%= yield :styleseets %>
    11:   </head>
    12: 
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  
  Rendered layouts/_menu.html.erb (5.8ms)
  [1m[36mUser Load (14.5ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
app/views/layouts/application.html.erb:9:in `_app_views_layouts_application_html_erb__2369529845610253627_70232525077580'
  Rendered layouts/_menu.html.erb (17.6ms)
Completed 200 OK in 174ms (Views: 158.8ms | ActiveRecord: 14.5ms)


Completed 200 OK in 158ms (Views: 156.8ms | ActiveRecord: 0.7ms)


  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.7ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (27.8ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.9ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (22.7ms)
Started GET "/" for 127.0.0.1 at 2017-03-03 11:05:18 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  Rendered layouts/_menu.html.erb (89.6ms)
Completed 200 OK in 347ms (Views: 343.9ms | ActiveRecord: 1.5ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-03 11:05:26 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.5ms)
  Rendered admin/layouts/_menu.html.erb (1.1ms)
Completed 200 OK in 38ms (Views: 37.5ms | ActiveRecord: 0.0ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-03-03 11:05:28 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (17.4ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 79ms (Views: 66.3ms | ActiveRecord: 2.8ms)


Started GET "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 11:05:29 +0800
Processing by Admin::ProductImagesController#index as HTML
  Parameters: {"product_id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  Rendering admin/product_images/index.html.erb within admin/layouts/admin
  [1m[36mProductImage Load (0.7ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 4[0m
  Rendered admin/product_images/index.html.erb within admin/layouts/admin (7.0ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 50ms (Views: 28.0ms | ActiveRecord: 1.7ms)


Started POST "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 11:05:33 +0800
Processing by Admin::ProductImagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"UGdttXqqVXOVbIwnxuEXcAz5uJ3dMCDZP8Ar/SgD0S2xtm7T/DNxb1NnYOrKZjtlIyt9S+IBDKWOtxO0ReckyQ==", "image"=>#<ActionDispatch::Http::UploadedFile:0x007f8d08e67930 @tempfile=#<Tempfile:/tmp/RackMultipart20170303-6105-1k21c82.png>, @original_filename="20170303103944904.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"20170303103944904.png\"\r\nContent-Type: image/png\r\n">, "commit"=>"上传", "product_id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.3ms)


  
NoMethodError (undefined method `each' for nil:NilClass):
  
app/controllers/admin/product_images_controller.rb:10:in `create'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (10.8ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.3ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (6.1ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (37.2ms)
Started POST "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 11:05:52 +0800
Processing by Admin::ProductImagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"UGdttXqqVXOVbIwnxuEXcAz5uJ3dMCDZP8Ar/SgD0S2xtm7T/DNxb1NnYOrKZjtlIyt9S+IBDKWOtxO0ReckyQ==", "image"=>#<ActionDispatch::Http::UploadedFile:0x007f8d0a1d1c00 @tempfile=#<Tempfile:/tmp/RackMultipart20170303-6105-1jnk0by.png>, @original_filename="20170303103944904.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"20170303103944904.png\"\r\nContent-Type: image/png\r\n">, "commit"=>"上传", "product_id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Command :: file -b --mime '/tmp/52f36575f04dcbd83795c91ea5497ad920170303-6105-b084hv.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/52f36575f04dcbd83795c91ea5497ad920170303-6105-1acdqsd.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/52f36575f04dcbd83795c91ea5497ad920170303-6105-1acdqsd.png[0]'
Command :: convert '/tmp/52f36575f04dcbd83795c91ea5497ad920170303-6105-1acdqsd.png[0]' -auto-orient -resize "60^" '/tmp/adbf47a8bf64b19b3611901286b9a13e20170303-6105-18qbgzg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/52f36575f04dcbd83795c91ea5497ad920170303-6105-1acdqsd.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/52f36575f04dcbd83795c91ea5497ad920170303-6105-1acdqsd.png[0]'
Command :: convert '/tmp/52f36575f04dcbd83795c91ea5497ad920170303-6105-1acdqsd.png[0]' -auto-orient -resize "200^" '/tmp/adbf47a8bf64b19b3611901286b9a13e20170303-6105-1ja0q2g'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/52f36575f04dcbd83795c91ea5497ad920170303-6105-1acdqsd.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/52f36575f04dcbd83795c91ea5497ad920170303-6105-1acdqsd.png[0]'
Command :: convert '/tmp/52f36575f04dcbd83795c91ea5497ad920170303-6105-1acdqsd.png[0]' -auto-orient -resize "960" '/tmp/adbf47a8bf64b19b3611901286b9a13e20170303-6105-aqza65'
Completed 500 Internal Server Error in 58657ms (ActiveRecord: 5.5ms)


  
NoMethodError (undefined method `each' for nil:NilClass):
  
app/controllers/admin/product_images_controller.rb:11:in `create'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.2ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.0ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (28.4ms)
Started POST "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 11:07:17 +0800
Processing by Admin::ProductImagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"UGdttXqqVXOVbIwnxuEXcAz5uJ3dMCDZP8Ar/SgD0S2xtm7T/DNxb1NnYOrKZjtlIyt9S+IBDKWOtxO0ReckyQ==", "image"=>#<ActionDispatch::Http::UploadedFile:0x007f8d0b57fbd0 @tempfile=#<Tempfile:/tmp/RackMultipart20170303-6105-akc7ln.png>, @original_filename="20170303103944904.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"20170303103944904.png\"\r\nContent-Type: image/png\r\n">, "commit"=>"上传", "product_id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Completed 500 Internal Server Error in 18ms (ActiveRecord: 2.0ms)


  
NoMethodError (undefined method `each' for nil:NilClass):
  
app/controllers/admin/product_images_controller.rb:10:in `create'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.6ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.4ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (22.9ms)
Started GET "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 11:07:20 +0800
Processing by Admin::ProductImagesController#index as HTML
  Parameters: {"product_id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  Rendering admin/product_images/index.html.erb within admin/layouts/admin
  [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 4[0m
  Rendered admin/product_images/index.html.erb within admin/layouts/admin (5.6ms)
  Rendered admin/layouts/_menu.html.erb (1.0ms)
Completed 200 OK in 38ms (Views: 30.4ms | ActiveRecord: 1.0ms)


Started POST "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 11:07:24 +0800
Processing by Admin::ProductImagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"MPiOT2zRhTRrn8iFESrUud3bnJcaO1zUeMBIRl5GzGjRKY0p6kihKK2UJEgdrfis8glZQSUKcKjJt3APM6I5jA==", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00000004b89120 @tempfile=#<Tempfile:/tmp/RackMultipart20170303-6105-1puyl1j.png>, @original_filename="20170303103944904.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"20170303103944904.png\"\r\nContent-Type: image/png\r\n">], "commit"=>"上传", "product_id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Command :: file -b --mime '/tmp/52f36575f04dcbd83795c91ea5497ad920170303-6105-1itypo1.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/52f36575f04dcbd83795c91ea5497ad920170303-6105-p2tdsz.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/52f36575f04dcbd83795c91ea5497ad920170303-6105-p2tdsz.png[0]'
Command :: convert '/tmp/52f36575f04dcbd83795c91ea5497ad920170303-6105-p2tdsz.png[0]' -auto-orient -resize "60^" '/tmp/516b1d7d37a6abeeffd9f44f28b14e6520170303-6105-1kfkfly'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/52f36575f04dcbd83795c91ea5497ad920170303-6105-p2tdsz.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/52f36575f04dcbd83795c91ea5497ad920170303-6105-p2tdsz.png[0]'
Command :: convert '/tmp/52f36575f04dcbd83795c91ea5497ad920170303-6105-p2tdsz.png[0]' -auto-orient -resize "200^" '/tmp/516b1d7d37a6abeeffd9f44f28b14e6520170303-6105-49cs08'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/52f36575f04dcbd83795c91ea5497ad920170303-6105-p2tdsz.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/52f36575f04dcbd83795c91ea5497ad920170303-6105-p2tdsz.png[0]'
Command :: convert '/tmp/52f36575f04dcbd83795c91ea5497ad920170303-6105-p2tdsz.png[0]' -auto-orient -resize "960" '/tmp/516b1d7d37a6abeeffd9f44f28b14e6520170303-6105-1a00ztb'
Command :: file -b --mime '/tmp/52f36575f04dcbd83795c91ea5497ad920170303-6105-1y55egc.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/52f36575f04dcbd83795c91ea5497ad920170303-6105-lbmqdd.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/52f36575f04dcbd83795c91ea5497ad920170303-6105-lbmqdd.png[0]'
Command :: convert '/tmp/52f36575f04dcbd83795c91ea5497ad920170303-6105-lbmqdd.png[0]' -auto-orient -resize "60^" '/tmp/45e6b5236aad3b3e34b6465efa2ba28320170303-6105-1fytwia'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/52f36575f04dcbd83795c91ea5497ad920170303-6105-lbmqdd.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/52f36575f04dcbd83795c91ea5497ad920170303-6105-lbmqdd.png[0]'
Command :: convert '/tmp/52f36575f04dcbd83795c91ea5497ad920170303-6105-lbmqdd.png[0]' -auto-orient -resize "200^" '/tmp/45e6b5236aad3b3e34b6465efa2ba28320170303-6105-11cue10'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/52f36575f04dcbd83795c91ea5497ad920170303-6105-lbmqdd.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/52f36575f04dcbd83795c91ea5497ad920170303-6105-lbmqdd.png[0]'
Command :: convert '/tmp/52f36575f04dcbd83795c91ea5497ad920170303-6105-lbmqdd.png[0]' -auto-orient -resize "960" '/tmp/45e6b5236aad3b3e34b6465efa2ba28320170303-6105-1yeejcn'
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/52f36575f04dcbd83795c91ea5497ad920170303-6105-1lozjlx.png'
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO `product_images` (`product_id`, `image_file_name`, `image_content_type`, `image_file_size`, `image_updated_at`, `created_at`, `updated_at`) VALUES (4, '20170303103944904.png', 'image/png', 118012, '2017-03-03 03:08:14', '2017-03-03 03:08:14', '2017-03-03 03:08:14')[0m
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 52051ms (ActiveRecord: 7.2ms)


  
ArgumentError (wrong number of arguments (1 for 0)):
  
app/controllers/admin/product_images_controller.rb:15:in `create'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.3ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.3ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (33.4ms)
  [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images`[0m
Started GET "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 11:08:52 +0800
Processing by Admin::ProductImagesController#index as HTML
  Parameters: {"product_id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  Rendering admin/product_images/index.html.erb within admin/layouts/admin
  [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 4[0m
  Rendered admin/product_images/index.html.erb within admin/layouts/admin (10.6ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 47ms (Views: 27.1ms | ActiveRecord: 2.6ms)


Started POST "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 11:08:56 +0800
Processing by Admin::ProductImagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"VLdIXzrF7N+SxRIoHQx4RoYc1ohtrDI6jT57BP3qL7K1Zks5vFzIw1TO/uURi1RTqc4TXlKdHkY8SUNNkA7aVg==", "images"=>[#<ActionDispatch::Http::UploadedFile:0x007f8d087e0ad0 @tempfile=#<Tempfile:/tmp/RackMultipart20170303-6105-f3k1s3.jpg>, @original_filename="u=2002641048,1546554627&fm=23&gp=0.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"u=2002641048,1546554627&fm=23&gp=0.jpg\"\r\nContent-Type: image/jpeg\r\n">], "commit"=>"上传", "product_id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Command :: file -b --mime '/tmp/7b45b1f4a2ad4f757da41f435fd0a08020170303-6105-th1mtm.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/5c8f1f2d49b1bc61b6fd38fb7160a62a20170303-6105-1bux1p8.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/5c8f1f2d49b1bc61b6fd38fb7160a62a20170303-6105-1bux1p8.jpg[0]'
Command :: convert '/tmp/5c8f1f2d49b1bc61b6fd38fb7160a62a20170303-6105-1bux1p8.jpg[0]' -auto-orient -resize "60^" '/tmp/fdce8f3f06bb04f05c31f9077530786620170303-6105-30nn7'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/5c8f1f2d49b1bc61b6fd38fb7160a62a20170303-6105-1bux1p8.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/5c8f1f2d49b1bc61b6fd38fb7160a62a20170303-6105-1bux1p8.jpg[0]'
Command :: convert '/tmp/5c8f1f2d49b1bc61b6fd38fb7160a62a20170303-6105-1bux1p8.jpg[0]' -auto-orient -resize "200^" '/tmp/fdce8f3f06bb04f05c31f9077530786620170303-6105-bunrkw'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/5c8f1f2d49b1bc61b6fd38fb7160a62a20170303-6105-1bux1p8.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/5c8f1f2d49b1bc61b6fd38fb7160a62a20170303-6105-1bux1p8.jpg[0]'
Command :: convert '/tmp/5c8f1f2d49b1bc61b6fd38fb7160a62a20170303-6105-1bux1p8.jpg[0]' -auto-orient -resize "960" '/tmp/fdce8f3f06bb04f05c31f9077530786620170303-6105-gfzl1j'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/7b45b1f4a2ad4f757da41f435fd0a08020170303-6105-1dkciji.jpg'
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `product_images` (`product_id`, `image_file_name`, `image_content_type`, `image_file_size`, `image_updated_at`, `created_at`, `updated_at`) VALUES (4, 'u_2002641048_1546554627_fm_23_gp_0.jpg', 'image/jpeg', 13465, '2017-03-03 03:08:56', '2017-03-03 03:08:57', '2017-03-03 03:08:57')[0m
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from create at /home/code/master_rails_by_actions/app/controllers/admin/product_images_controller.rb:14)
Redirected to http://localhost:3000/admin/products/4/product_images
Completed 302 Found in 170ms (ActiveRecord: 3.2ms)


Started GET "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 11:08:57 +0800
Processing by Admin::ProductImagesController#index as HTML
  Parameters: {"product_id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  Rendering admin/product_images/index.html.erb within admin/layouts/admin
  [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 4[0m
  Rendered admin/product_images/index.html.erb within admin/layouts/admin (3.6ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 21ms (Views: 18.8ms | ActiveRecord: 0.5ms)


Started DELETE "/admin/products/4/product_images/1" for 127.0.0.1 at 2017-03-03 11:08:59 +0800
Processing by Admin::ProductImagesController#destroy as HTML
  Parameters: {"authenticity_token"=>"go3Es2mM2P5Ov70hXjOTlbTNo1ViuSaCiwhlKb3+5OJjXMfV7xX84oi0UexStL+Amx9mg12ICv46f11g0BoRBg==", "product_id"=>"4", "id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT  `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 4 AND `product_images`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM `product_images` WHERE `product_images`.`id` = 1[0m
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
[paperclip] deleting /home/code/master_rails_by_actions/public/system/product_images/images/000/000/001/original/20170303103944904.png
[paperclip] deleting /home/code/master_rails_by_actions/public/system/product_images/images/000/000/001/small/20170303103944904.png
[paperclip] deleting /home/code/master_rails_by_actions/public/system/product_images/images/000/000/001/middle/20170303103944904.png
[paperclip] deleting /home/code/master_rails_by_actions/public/system/product_images/images/000/000/001/big/20170303103944904.png
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from destroy at /home/code/master_rails_by_actions/app/controllers/admin/product_images_controller.rb:24)
Redirected to http://localhost:3000/admin/products/4/product_images
Completed 302 Found in 19ms (ActiveRecord: 3.4ms)


Started GET "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 11:08:59 +0800
Processing by Admin::ProductImagesController#index as HTML
  Parameters: {"product_id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  Rendering admin/product_images/index.html.erb within admin/layouts/admin
  [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 4[0m
  Rendered admin/product_images/index.html.erb within admin/layouts/admin (3.0ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 21ms (Views: 18.8ms | ActiveRecord: 0.6ms)


Started GET "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 11:09:01 +0800
Processing by Admin::ProductImagesController#index as HTML
  Parameters: {"product_id"=>"4"}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  Rendering admin/product_images/index.html.erb within admin/layouts/admin
  [1m[36mProductImage Load (0.6ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 4[0m
  Rendered admin/product_images/index.html.erb within admin/layouts/admin (6.6ms)
  Rendered admin/layouts/_menu.html.erb (1.1ms)
Completed 200 OK in 52ms (Views: 42.4ms | ActiveRecord: 1.4ms)


Started GET "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 11:10:13 +0800
Processing by Admin::ProductImagesController#index as HTML
  Parameters: {"product_id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  Rendering admin/product_images/index.html.erb within admin/layouts/admin
  [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 4[0m
  Rendered admin/product_images/index.html.erb within admin/layouts/admin (13.2ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 64ms (Views: 34.1ms | ActiveRecord: 3.6ms)


Started POST "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 11:10:17 +0800
Processing by Admin::ProductImagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"JOUkpd8FBfzyxZKhMcpIBPBlPU4z6XxRRbv5XypzoT3FNCfDWZwh4DTOfmw9TWQR37f4mAzYUC30zMEWR5dU2Q==", "images"=>[#<ActionDispatch::Http::UploadedFile:0x007f8ce03aaa10 @tempfile=#<Tempfile:/tmp/RackMultipart20170303-6105-o2ywr8.jpg>, @original_filename="u=3878905916,3743720292&fm=23&gp=0.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"u=3878905916,3743720292&fm=23&gp=0.jpg\"\r\nContent-Type: image/jpeg\r\n">], "commit"=>"上传", "product_id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Command :: file -b --mime '/tmp/3dadd38b07f8c6dbfb785b302392b98720170303-6105-ryo3h8.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/315244f3a7c371432d36300468384da420170303-6105-bwjoan.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/315244f3a7c371432d36300468384da420170303-6105-bwjoan.jpg[0]'
Command :: convert '/tmp/315244f3a7c371432d36300468384da420170303-6105-bwjoan.jpg[0]' -auto-orient -resize "60^" '/tmp/06e6e274cca32a34dd6ea368d262701220170303-6105-n772k1'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/315244f3a7c371432d36300468384da420170303-6105-bwjoan.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/315244f3a7c371432d36300468384da420170303-6105-bwjoan.jpg[0]'
Command :: convert '/tmp/315244f3a7c371432d36300468384da420170303-6105-bwjoan.jpg[0]' -auto-orient -resize "200^" '/tmp/06e6e274cca32a34dd6ea368d262701220170303-6105-m74mjc'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/315244f3a7c371432d36300468384da420170303-6105-bwjoan.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/315244f3a7c371432d36300468384da420170303-6105-bwjoan.jpg[0]'
Command :: convert '/tmp/315244f3a7c371432d36300468384da420170303-6105-bwjoan.jpg[0]' -auto-orient -resize "960" '/tmp/06e6e274cca32a34dd6ea368d262701220170303-6105-1xxzmck'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/3dadd38b07f8c6dbfb785b302392b98720170303-6105-1xohb8n.jpg'
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `product_images` (`product_id`, `image_file_name`, `image_content_type`, `image_file_size`, `image_updated_at`, `created_at`, `updated_at`) VALUES (4, 'u_3878905916_3743720292_fm_23_gp_0.jpg', 'image/jpeg', 9434, '2017-03-03 03:10:17', '2017-03-03 03:10:17', '2017-03-03 03:10:17')[0m
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from create at /home/code/master_rails_by_actions/app/controllers/admin/product_images_controller.rb:14)
Redirected to http://localhost:3000/admin/products/4/product_images
Completed 302 Found in 121ms (ActiveRecord: 3.2ms)


Started GET "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 11:10:17 +0800
Processing by Admin::ProductImagesController#index as HTML
  Parameters: {"product_id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  Rendering admin/product_images/index.html.erb within admin/layouts/admin
  [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 4[0m
  Rendered admin/product_images/index.html.erb within admin/layouts/admin (3.9ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 23ms (Views: 20.0ms | ActiveRecord: 0.6ms)


Started DELETE "/admin/products/4/product_images/2" for 127.0.0.1 at 2017-03-03 11:10:19 +0800
Processing by Admin::ProductImagesController#destroy as HTML
  Parameters: {"authenticity_token"=>"WKNu0GK6ymwh3aIbrdkn/5GlLxtYLAN2q5Kg4j39GVy5cm225CPucOfWTtahXgvqvnfqzWcdLwoa5ZirUBnsuA==", "product_id"=>"4", "id"=>"2"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT  `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 4 AND `product_images`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM `product_images` WHERE `product_images`.`id` = 2[0m
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
[paperclip] deleting /home/code/master_rails_by_actions/public/system/product_images/images/000/000/002/original/u_2002641048_1546554627_fm_23_gp_0.jpg
[paperclip] deleting /home/code/master_rails_by_actions/public/system/product_images/images/000/000/002/small/u_2002641048_1546554627_fm_23_gp_0.jpg
[paperclip] deleting /home/code/master_rails_by_actions/public/system/product_images/images/000/000/002/middle/u_2002641048_1546554627_fm_23_gp_0.jpg
[paperclip] deleting /home/code/master_rails_by_actions/public/system/product_images/images/000/000/002/big/u_2002641048_1546554627_fm_23_gp_0.jpg
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from destroy at /home/code/master_rails_by_actions/app/controllers/admin/product_images_controller.rb:24)
Redirected to http://localhost:3000/admin/products/4/product_images
Completed 302 Found in 17ms (ActiveRecord: 3.5ms)


Started GET "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 11:10:19 +0800
Processing by Admin::ProductImagesController#index as HTML
  Parameters: {"product_id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  Rendering admin/product_images/index.html.erb within admin/layouts/admin
  [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 4[0m
  Rendered admin/product_images/index.html.erb within admin/layouts/admin (3.4ms)
  Rendered admin/layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 32ms (Views: 27.6ms | ActiveRecord: 0.8ms)


Started POST "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 11:12:30 +0800
Processing by Admin::ProductImagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"WsrOTW+L9+hG93QJdpHQCPKCxG5lt7m6RU+Znk/T58K7G80r6RLT9ID8mMR6Fvwd3VABuFqGlcb0OKHXIjcSJg==", "images"=>[#<ActionDispatch::Http::UploadedFile:0x007f8ce03cecd0 @tempfile=#<Tempfile:/tmp/RackMultipart20170303-6105-f0uv8c.jpg>, @original_filename="u=2002641048,1546554627&fm=23&gp=0.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"u=2002641048,1546554627&fm=23&gp=0.jpg\"\r\nContent-Type: image/jpeg\r\n">], "commit"=>"上传", "product_id"=>"4"}
  [1m[36mProduct Load (2.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Command :: file -b --mime '/tmp/7b45b1f4a2ad4f757da41f435fd0a08020170303-6105-x15arj.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/5c8f1f2d49b1bc61b6fd38fb7160a62a20170303-6105-1ilrdi5.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/5c8f1f2d49b1bc61b6fd38fb7160a62a20170303-6105-1ilrdi5.jpg[0]'
Command :: convert '/tmp/5c8f1f2d49b1bc61b6fd38fb7160a62a20170303-6105-1ilrdi5.jpg[0]' -auto-orient -resize "60^" '/tmp/1a485b560d8f2971bc74ac6ded94a7b220170303-6105-8qgaj3'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/5c8f1f2d49b1bc61b6fd38fb7160a62a20170303-6105-1ilrdi5.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/5c8f1f2d49b1bc61b6fd38fb7160a62a20170303-6105-1ilrdi5.jpg[0]'
Command :: convert '/tmp/5c8f1f2d49b1bc61b6fd38fb7160a62a20170303-6105-1ilrdi5.jpg[0]' -auto-orient -resize "200^" '/tmp/1a485b560d8f2971bc74ac6ded94a7b220170303-6105-a9tugo'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/5c8f1f2d49b1bc61b6fd38fb7160a62a20170303-6105-1ilrdi5.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/5c8f1f2d49b1bc61b6fd38fb7160a62a20170303-6105-1ilrdi5.jpg[0]'
Command :: convert '/tmp/5c8f1f2d49b1bc61b6fd38fb7160a62a20170303-6105-1ilrdi5.jpg[0]' -auto-orient -resize "960" '/tmp/1a485b560d8f2971bc74ac6ded94a7b220170303-6105-j74xaj'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/7b45b1f4a2ad4f757da41f435fd0a08020170303-6105-z0bizz.jpg'
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `product_images` (`product_id`, `image_file_name`, `image_content_type`, `image_file_size`, `image_updated_at`, `created_at`, `updated_at`) VALUES (4, 'u_2002641048_1546554627_fm_23_gp_0.jpg', 'image/jpeg', 13465, '2017-03-03 03:12:30', '2017-03-03 03:12:30', '2017-03-03 03:12:30')[0m
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from create at /home/code/master_rails_by_actions/app/controllers/admin/product_images_controller.rb:14)
Redirected to http://localhost:3000/admin/products/4/product_images
Completed 302 Found in 161ms (ActiveRecord: 5.4ms)


Started GET "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 11:12:30 +0800
Processing by Admin::ProductImagesController#index as HTML
  Parameters: {"product_id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  Rendering admin/product_images/index.html.erb within admin/layouts/admin
  [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 4[0m
  Rendered admin/product_images/index.html.erb within admin/layouts/admin (4.8ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 24ms (Views: 21.3ms | ActiveRecord: 0.6ms)


Started GET "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 11:37:18 +0800
Processing by Admin::ProductImagesController#index as HTML
  Parameters: {"product_id"=>"4"}
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms)


  
ArgumentError (The :dependent option must be one of [:destroy, :delete_all, :nullify, :restrict_with_error, :restrict_with_exception], but is :destory):
  
app/models/product.rb:20:in `<class:Product>'
app/models/product.rb:1:in `<top (required)>'
app/controllers/admin/product_images_controller.rb:40:in `find_product'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.9ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.2ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (21.5ms)
Started GET "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 11:38:01 +0800
Processing by Admin::ProductImagesController#index as HTML
  Parameters: {"product_id"=>"4"}
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms)


  
ArgumentError (The :dependent option must be one of [:destroy, :delete_all, :nullify, :restrict_with_error, :restrict_with_exception], but is :destory):
  
app/models/product.rb:20:in `<class:Product>'
app/models/product.rb:1:in `<top (required)>'
app/controllers/admin/product_images_controller.rb:40:in `find_product'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.7ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (20.9ms)
Started GET "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 11:38:03 +0800
Processing by Admin::ProductImagesController#index as HTML
  Parameters: {"product_id"=>"4"}
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms)


  
ArgumentError (The :dependent option must be one of [:destroy, :delete_all, :nullify, :restrict_with_error, :restrict_with_exception], but is :destory):
  
app/models/product.rb:20:in `<class:Product>'
app/models/product.rb:1:in `<top (required)>'
app/controllers/admin/product_images_controller.rb:40:in `find_product'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.1ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.9ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (25.1ms)
Started GET "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 11:38:41 +0800
Processing by Admin::ProductImagesController#index as HTML
  Parameters: {"product_id"=>"4"}
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms)


  
ArgumentError (The :dependent option must be one of [:destroy, :delete_all, :nullify, :restrict_with_error, :restrict_with_exception], but is :destory):
  
app/models/product.rb:20:in `<class:Product>'
app/models/product.rb:1:in `<top (required)>'
app/controllers/admin/product_images_controller.rb:40:in `find_product'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.3ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (22.2ms)
Started GET "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 11:41:38 +0800
Processing by Admin::ProductImagesController#index as HTML
  Parameters: {"product_id"=>"4"}
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms)


  
ArgumentError (The :dependent option must be one of [:destroy, :delete_all, :nullify, :restrict_with_error, :restrict_with_exception], but is :destory):
  
app/models/product.rb:20:in `<class:Product>'
app/models/product.rb:1:in `<top (required)>'
app/controllers/admin/product_images_controller.rb:40:in `find_product'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.2ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.6ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (22.1ms)
Started GET "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 11:41:45 +0800
Processing by Admin::ProductImagesController#index as HTML
  Parameters: {"product_id"=>"4"}
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms)


  
ArgumentError (The :dependent option must be one of [:destroy, :delete_all, :nullify, :restrict_with_error, :restrict_with_exception], but is :destory):
  
app/models/product.rb:20:in `<class:Product>'
app/models/product.rb:1:in `<top (required)>'
app/controllers/admin/product_images_controller.rb:40:in `find_product'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (7.4ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.4ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (26.0ms)
Started GET "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 11:43:10 +0800
Processing by Admin::ProductImagesController#index as HTML
  Parameters: {"product_id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  Rendering admin/product_images/index.html.erb within admin/layouts/admin
  [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 4 ORDER BY `product_images`.`weight` DESC[0m
  Rendered admin/product_images/index.html.erb within admin/layouts/admin (11.9ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 50ms (Views: 30.7ms | ActiveRecord: 0.8ms)


Started PUT "/admin/products/4/product_images/3" for 127.0.0.1 at 2017-03-03 11:43:23 +0800
Processing by Admin::ProductImagesController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"R+zbEv+wsod0LoxZJrYku/g4fTk0NleNatBvoeLSDi2mPdh0eSmWm7IlYJQqMQiu1+q47wsHe/Hbp1fojzb7yQ==", "weight"=>"3", "commit"=>"更新", "product_id"=>"4", "id"=>"3"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT  `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 4 AND `product_images`.`id` = 3 ORDER BY `product_images`.`weight` DESC LIMIT 1[0m
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.6ms)


  
NoMethodError (undefined method `weight=' for nil:NilClass):
  
app/controllers/admin/product_images_controller.rb:29:in `update'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.1ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (21.2ms)
Started PUT "/admin/products/4/product_images/3" for 127.0.0.1 at 2017-03-03 11:44:18 +0800
Processing by Admin::ProductImagesController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"R+zbEv+wsod0LoxZJrYku/g4fTk0NleNatBvoeLSDi2mPdh0eSmWm7IlYJQqMQiu1+q47wsHe/Hbp1fojzb7yQ==", "weight"=>"3", "commit"=>"更新", "product_id"=>"4", "id"=>"3"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT  `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 4 AND `product_images`.`id` = 3 ORDER BY `product_images`.`weight` DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `product_images` SET `weight` = 3, `updated_at` = '2017-03-03 03:44:18' WHERE `product_images`.`id` = 3[0m
  [1m[35m (11.2ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from update at /home/code/master_rails_by_actions/app/controllers/admin/product_images_controller.rb:32)
Redirected to http://localhost:3000/admin/products/4/product_images
Completed 302 Found in 46ms (ActiveRecord: 12.4ms)


Started GET "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 11:44:18 +0800
Processing by Admin::ProductImagesController#index as HTML
  Parameters: {"product_id"=>"4"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  Rendering admin/product_images/index.html.erb within admin/layouts/admin
  [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 4 ORDER BY `product_images`.`weight` DESC[0m
  Rendered admin/product_images/index.html.erb within admin/layouts/admin (5.0ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 26ms (Views: 21.8ms | ActiveRecord: 1.0ms)


Started PUT "/admin/products/4/product_images/3" for 127.0.0.1 at 2017-03-03 11:44:20 +0800
Processing by Admin::ProductImagesController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"P8Qp9cNljsAHI06PCrytMP3EfvGuGc20xtjel7P31jPeFSqTRfyq3MEookIGO4El0ha7J5Eo4ch3r+be3hMj1w==", "weight"=>"3", "commit"=>"更新", "product_id"=>"4", "id"=>"3"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT  `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 4 AND `product_images`.`id` = 3 ORDER BY `product_images`.`weight` DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from update at /home/code/master_rails_by_actions/app/controllers/admin/product_images_controller.rb:32)
Redirected to http://localhost:3000/admin/products/4/product_images
Completed 302 Found in 11ms (ActiveRecord: 1.1ms)


Started GET "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 11:44:20 +0800
Processing by Admin::ProductImagesController#index as HTML
  Parameters: {"product_id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  Rendering admin/product_images/index.html.erb within admin/layouts/admin
  [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 4 ORDER BY `product_images`.`weight` DESC[0m
  Rendered admin/product_images/index.html.erb within admin/layouts/admin (6.0ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 32ms (Views: 28.8ms | ActiveRecord: 0.8ms)


Started PUT "/admin/products/4/product_images/4" for 127.0.0.1 at 2017-03-03 11:44:23 +0800
Processing by Admin::ProductImagesController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"gwz/hG4U4TPW0szYE7hQq7l2ktK06aBy1XaF1xOpy5xi3fzi6I3FLxDZIBUfP3y+lqRXBIvYjA5kAb2efk0+eA==", "weight"=>"5", "commit"=>"更新", "product_id"=>"4", "id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT  `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 4 AND `product_images`.`id` = 4 ORDER BY `product_images`.`weight` DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `product_images` SET `weight` = 5, `updated_at` = '2017-03-03 03:44:23' WHERE `product_images`.`id` = 4[0m
  [1m[35m (7.4ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from update at /home/code/master_rails_by_actions/app/controllers/admin/product_images_controller.rb:32)
Redirected to http://localhost:3000/admin/products/4/product_images
Completed 302 Found in 21ms (ActiveRecord: 8.9ms)


Started GET "/admin/products/4/product_images" for 127.0.0.1 at 2017-03-03 11:44:23 +0800
Processing by Admin::ProductImagesController#index as HTML
  Parameters: {"product_id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  Rendering admin/product_images/index.html.erb within admin/layouts/admin
  [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 4 ORDER BY `product_images`.`weight` DESC[0m
  Rendered admin/product_images/index.html.erb within admin/layouts/admin (6.7ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 37ms (Views: 32.5ms | ActiveRecord: 0.9ms)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2321506512563442330', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to AddProductImagesIndex (20170303034606)
  [1m[35m (21.3ms)[0m  [1m[35mCREATE  INDEX `index_product_images_on_product_id_and_weight`  ON `product_images` (`product_id`, `weight`) [0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170303034606')[0m
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2321506512563442330')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `categories`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'categories'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `product_images`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'product_images'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `products`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'products'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'users'[0m
Started GET "/admin/products" for 127.0.0.1 at 2017-03-03 11:47:57 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within admin/layouts/admin
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `products`[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` ORDER BY `products`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/products/index.html.erb within admin/layouts/admin (9.4ms)
  Rendered admin/layouts/_menu.html.erb (0.5ms)
Completed 200 OK in 35ms (Views: 27.8ms | ActiveRecord: 0.5ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-03 11:47:58 +0800
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:CategoriesController> at /home/code/master_rails_by_actions/app/controllers/admin/categories_controller.rb:3)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:CategoriesController> at /home/code/master_rails_by_actions/app/controllers/admin/categories_controller.rb:4)
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (10.2ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 37ms (Views: 29.9ms | ActiveRecord: 1.8ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-03 11:47:59 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.7ms)
  Rendered admin/layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 38ms (Views: 36.7ms | ActiveRecord: 0.0ms)


Started GET "/admin/categories" for 127.0.0.1 at 2017-03-03 11:48:00 +0800
Processing by Admin::CategoriesController#index as HTML
  Rendering admin/categories/index.html.erb within admin/layouts/admin
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM `categories` WHERE `categories`.`ancestry` IS NULL[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY `categories`.`id` DESC LIMIT 10 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within admin/layouts/admin (7.1ms)
  Rendered admin/layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 37ms (Views: 33.2ms | ActiveRecord: 1.1ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-03 11:48:00 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.4ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 21ms (Views: 20.3ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-03-03 11:49:04 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  Rendered layouts/_menu.html.erb (34.6ms)
Completed 200 OK in 59ms (Views: 57.0ms | ActiveRecord: 1.6ms)


Started GET "/" for 127.0.0.1 at 2017-03-03 12:02:15 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by WelcomeController#index as HTML
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY weight desc[0m
Completed 500 Internal Server Error in 22ms (ActiveRecord: 2.0ms)


  
ArgumentError (wrong number of arguments (0 for 1..2)):
  
app/models/category.rb:15:in `[]'
app/models/category.rb:15:in `block in grouped_data'
app/models/category.rb:13:in `inject'
app/models/category.rb:13:in `grouped_data'
app/controllers/welcome_controller.rb:4:in `index'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (8.8ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.7ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (9.1ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (43.4ms)
Started GET "/" for 127.0.0.1 at 2017-03-03 16:17:12 +0800
Processing by WelcomeController#index as HTML
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY weight desc[0m
Completed 500 Internal Server Error in 22ms (ActiveRecord: 1.9ms)


  
ArgumentError (wrong number of arguments (0 for 1..2)):
  
app/models/category.rb:15:in `[]'
app/models/category.rb:15:in `block in grouped_data'
app/models/category.rb:13:in `inject'
app/models/category.rb:13:in `grouped_data'
app/controllers/welcome_controller.rb:4:in `index'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.9ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (23.7ms)
Started GET "/" for 127.0.0.1 at 2017-03-03 16:18:42 +0800
Processing by WelcomeController#index as HTML
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY weight desc[0m
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY weight desc[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY weight desc[0m
  Rendered shared/_categories.html.erb (2.8ms)
  [1m[36mProduct Load (2.1ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`status` = 'on' ORDER BY id desc LIMIT 12 OFFSET 0[0m
  Rendered shared/_products.html.erb (5.7ms)
  Rendered welcome/index.html.erb within layouts/application (10.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  Rendered layouts/_menu.html.erb (106.7ms)
Completed 200 OK in 372ms (Views: 328.8ms | ActiveRecord: 6.7ms)


Started GET "/categories/16" for 127.0.0.1 at 2017-03-03 16:18:47 +0800
  
ActionController::RoutingError (uninitialized constant CategoriesController):
  
activesupport (5.0.1) lib/active_support/inflector/methods.rb:268:in `const_get'
activesupport (5.0.1) lib/active_support/inflector/methods.rb:268:in `block in constantize'
activesupport (5.0.1) lib/active_support/inflector/methods.rb:266:in `each'
activesupport (5.0.1) lib/active_support/inflector/methods.rb:266:in `inject'
activesupport (5.0.1) lib/active_support/inflector/methods.rb:266:in `constantize'
actionpack (5.0.1) lib/action_dispatch/http/request.rb:81:in `controller_class'
actionpack (5.0.1) lib/action_dispatch/routing/route_set.rb:44:in `controller'
actionpack (5.0.1) lib/action_dispatch/routing/route_set.rb:30:in `serve'
actionpack (5.0.1) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.1) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.1) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.1) lib/action_dispatch/routing/route_set.rb:725:in `call'
rack (2.0.1) lib/rack/etag.rb:25:in `call'
rack (2.0.1) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.1) lib/rack/head.rb:12:in `call'
rack (2.0.1) lib/rack/session/abstract/id.rb:222:in `context'
rack (2.0.1) lib/rack/session/abstract/id.rb:216:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.0.1) lib/active_record/migration.rb:553:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.1) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.1) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.1) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.1) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.4.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.4.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.1) lib/rails/engine.rb:522:in `call'
rack (2.0.1) lib/rack/handler/webrick.rb:86:in `service'
/home/code/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
/home/code/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
/home/code/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendered collection of /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/routes/_route.html.erb [50 times] (18.6ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/routes/_table.html.erb (9.4ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.8ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (73.1ms)
Started GET "/categories/16" for 127.0.0.1 at 2017-03-03 16:33:05 +0800
  
ActionController::RoutingError (uninitialized constant CategoriesController):
  
activesupport (5.0.1) lib/active_support/inflector/methods.rb:268:in `const_get'
activesupport (5.0.1) lib/active_support/inflector/methods.rb:268:in `block in constantize'
activesupport (5.0.1) lib/active_support/inflector/methods.rb:266:in `each'
activesupport (5.0.1) lib/active_support/inflector/methods.rb:266:in `inject'
activesupport (5.0.1) lib/active_support/inflector/methods.rb:266:in `constantize'
actionpack (5.0.1) lib/action_dispatch/http/request.rb:81:in `controller_class'
actionpack (5.0.1) lib/action_dispatch/routing/route_set.rb:44:in `controller'
actionpack (5.0.1) lib/action_dispatch/routing/route_set.rb:30:in `serve'
actionpack (5.0.1) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.1) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.1) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.1) lib/action_dispatch/routing/route_set.rb:725:in `call'
rack (2.0.1) lib/rack/etag.rb:25:in `call'
rack (2.0.1) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.1) lib/rack/head.rb:12:in `call'
rack (2.0.1) lib/rack/session/abstract/id.rb:222:in `context'
rack (2.0.1) lib/rack/session/abstract/id.rb:216:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.0.1) lib/active_record/migration.rb:553:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.1) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.1) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.1) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.1) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.4.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.4.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.1) lib/rails/engine.rb:522:in `call'
rack (2.0.1) lib/rack/handler/webrick.rb:86:in `service'
/home/code/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
/home/code/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
/home/code/.rvm/rubies/ruby-2.2.3/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.2ms)
  Rendered collection of /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/routes/_route.html.erb [50 times] (31.8ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.3ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (81.6ms)
Started GET "/" for 127.0.0.1 at 2017-03-03 16:33:23 +0800
Processing by WelcomeController#index as HTML
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY weight desc[0m
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY weight desc[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY weight desc[0m
  Rendered shared/_categories.html.erb (2.6ms)
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`status` = 'on' ORDER BY id desc LIMIT 12 OFFSET 0[0m
  Rendered shared/_products.html.erb (1.7ms)
  Rendered welcome/index.html.erb within layouts/application (6.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  Rendered layouts/_menu.html.erb (3.3ms)
Completed 200 OK in 3651ms (Views: 3639.8ms | ActiveRecord: 1.7ms)


Started GET "/" for 127.0.0.1 at 2017-03-03 16:33:27 +0800
Processing by WelcomeController#index as HTML
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY weight desc[0m
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY weight desc[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY weight desc[0m
  Rendered shared/_categories.html.erb (2.6ms)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`status` = 'on' ORDER BY id desc LIMIT 12 OFFSET 0[0m
  Rendered shared/_products.html.erb (5.0ms)
  Rendered welcome/index.html.erb within layouts/application (9.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  Rendered layouts/_menu.html.erb (1.9ms)
Completed 200 OK in 106ms (Views: 101.2ms | ActiveRecord: 1.6ms)


Started GET "/" for 127.0.0.1 at 2017-03-03 16:33:28 +0800
Processing by WelcomeController#index as HTML
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY weight desc[0m
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY weight desc[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY weight desc[0m
  Rendered shared/_categories.html.erb (2.1ms)
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`status` = 'on' ORDER BY id desc LIMIT 12 OFFSET 0[0m
  Rendered shared/_products.html.erb (2.8ms)
  Rendered welcome/index.html.erb within layouts/application (6.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  Rendered layouts/_menu.html.erb (1.6ms)
Completed 200 OK in 43ms (Views: 39.6ms | ActiveRecord: 1.7ms)


Started GET "/" for 127.0.0.1 at 2017-03-03 16:33:28 +0800
Processing by WelcomeController#index as HTML
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY weight desc[0m
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY weight desc[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY weight desc[0m
  Rendered shared/_categories.html.erb (3.1ms)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`status` = 'on' ORDER BY id desc LIMIT 12 OFFSET 0[0m
  Rendered shared/_products.html.erb (2.0ms)
  Rendered welcome/index.html.erb within layouts/application (7.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  Rendered layouts/_menu.html.erb (2.1ms)
Completed 200 OK in 58ms (Views: 50.7ms | ActiveRecord: 2.1ms)


Started GET "/" for 127.0.0.1 at 2017-03-03 16:33:28 +0800
Processing by WelcomeController#index as HTML
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY weight desc[0m
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY weight desc[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY weight desc[0m
  Rendered shared/_categories.html.erb (3.4ms)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`status` = 'on' ORDER BY id desc LIMIT 12 OFFSET 0[0m
  Rendered shared/_products.html.erb (2.9ms)
  Rendered welcome/index.html.erb within layouts/application (8.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  Rendered layouts/_menu.html.erb (1.6ms)
Completed 200 OK in 47ms (Views: 43.1ms | ActiveRecord: 1.9ms)


Started GET "/" for 127.0.0.1 at 2017-03-03 16:33:29 +0800
Processing by WelcomeController#index as HTML
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY weight desc[0m
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY weight desc[0m
  [1m[36mCategory Load (1.2ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY weight desc[0m
  Rendered shared/_categories.html.erb (10.5ms)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`status` = 'on' ORDER BY id desc LIMIT 12 OFFSET 0[0m
  Rendered shared/_products.html.erb (1.7ms)
  Rendered welcome/index.html.erb within layouts/application (13.8ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  Rendered layouts/_menu.html.erb (2.1ms)
Completed 200 OK in 41ms (Views: 36.0ms | ActiveRecord: 2.9ms)


Started GET "/" for 127.0.0.1 at 2017-03-03 16:33:30 +0800
Processing by WelcomeController#index as HTML
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY weight desc[0m
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mCategory Load (3.8ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY weight desc[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY weight desc[0m
  Rendered shared/_categories.html.erb (5.8ms)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`status` = 'on' ORDER BY id desc LIMIT 12 OFFSET 0[0m
  Rendered shared/_products.html.erb (6.1ms)
  Rendered welcome/index.html.erb within layouts/application (13.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  Rendered layouts/_menu.html.erb (1.6ms)
Completed 200 OK in 51ms (Views: 43.4ms | ActiveRecord: 5.2ms)


Started GET "/" for 127.0.0.1 at 2017-03-03 16:33:30 +0800
Processing by WelcomeController#index as HTML
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY weight desc[0m
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY weight desc[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY weight desc[0m
  Rendered shared/_categories.html.erb (2.1ms)
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`status` = 'on' ORDER BY id desc LIMIT 12 OFFSET 0[0m
  Rendered shared/_products.html.erb (1.5ms)
  Rendered welcome/index.html.erb within layouts/application (4.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  Rendered layouts/_menu.html.erb (1.5ms)
Completed 200 OK in 38ms (Views: 33.9ms | ActiveRecord: 1.9ms)


Started GET "/" for 127.0.0.1 at 2017-03-03 16:35:00 +0800
Processing by WelcomeController#index as HTML
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY weight desc[0m
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY weight desc[0m
  [1m[36mCategory Load (5.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY weight desc[0m
  Rendered shared/_categories.html.erb (9.4ms)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`status` = 'on' ORDER BY id desc LIMIT 12 OFFSET 0[0m
  Rendered shared/_products.html.erb (2.8ms)
  Rendered welcome/index.html.erb within layouts/application (14.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  Rendered layouts/_menu.html.erb (2.2ms)
Completed 200 OK in 67ms (Views: 56.4ms | ActiveRecord: 7.2ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-03 16:37:08 +0800
Processing by Admin::SessionsController#new as HTML
  Rendering admin/sessions/new.html.erb within admin/layouts/admin
  Rendered admin/sessions/new.html.erb within admin/layouts/admin (0.3ms)
  Rendered admin/layouts/_menu.html.erb (0.6ms)
Completed 200 OK in 95ms (Views: 93.5ms | ActiveRecord: 0.0ms)


Started GET "/categories/16" for 127.0.0.1 at 2017-03-03 16:52:38 +0800
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"16"}
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY weight desc[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 16 LIMIT 1[0m
  Rendering categories/show.html.erb within layouts/application
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY weight desc[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY weight desc[0m
  Rendered shared/_categories.html.erb (4.8ms)
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 9 LIMIT 1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`category_id` = 16 AND `products`.`status` = 'on' ORDER BY id desc LIMIT 12 OFFSET 0[0m
  Rendered shared/_products.html.erb (1.4ms)
  Rendered categories/show.html.erb within layouts/application (9.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  Rendered layouts/_menu.html.erb (16.3ms)
Completed 200 OK in 99ms (Views: 48.2ms | ActiveRecord: 2.9ms)


Started GET "/categories/16" for 127.0.0.1 at 2017-03-03 17:45:59 +0800
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"16"}
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY weight desc[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 16 LIMIT 1[0m
  Rendering categories/show.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY weight desc[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY weight desc[0m
  Rendered shared/_categories.html.erb (3.2ms)
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 9 LIMIT 1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`category_id` = 16 AND `products`.`status` = 'on' ORDER BY id desc LIMIT 12 OFFSET 0[0m
  Rendered shared/_products.html.erb (1.6ms)
  Rendered categories/show.html.erb within layouts/application (7.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  Rendered layouts/_menu.html.erb (15.8ms)
Completed 200 OK in 68ms (Views: 45.9ms | ActiveRecord: 2.4ms)


Started GET "/" for 127.0.0.1 at 2017-03-03 17:46:02 +0800
Processing by WelcomeController#index as HTML
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY weight desc[0m
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY weight desc[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY weight desc[0m
  Rendered shared/_categories.html.erb (2.3ms)
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`status` = 'on' ORDER BY id desc LIMIT 12 OFFSET 0[0m
  Rendered shared/_products.html.erb (1.4ms)
  Rendered welcome/index.html.erb within layouts/application (5.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  Rendered layouts/_menu.html.erb (1.6ms)
Completed 200 OK in 34ms (Views: 29.1ms | ActiveRecord: 1.6ms)


Started GET "/" for 127.0.0.1 at 2017-03-03 17:46:02 +0800
Processing by WelcomeController#index as HTML
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY weight desc[0m
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY weight desc[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY weight desc[0m
  Rendered shared/_categories.html.erb (3.7ms)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`status` = 'on' ORDER BY id desc LIMIT 12 OFFSET 0[0m
  Rendered shared/_products.html.erb (1.8ms)
  Rendered welcome/index.html.erb within layouts/application (7.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  Rendered layouts/_menu.html.erb (1.7ms)
Completed 200 OK in 36ms (Views: 31.6ms | ActiveRecord: 2.0ms)


Started GET "/" for 127.0.0.1 at 2017-03-03 17:46:04 +0800
Processing by WelcomeController#index as HTML
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY weight desc[0m
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mCategory Load (1.8ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY weight desc[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY weight desc[0m
  Rendered shared/_categories.html.erb (5.0ms)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`status` = 'on' ORDER BY id desc LIMIT 12 OFFSET 0[0m
  Rendered shared/_products.html.erb (2.0ms)
  Rendered welcome/index.html.erb within layouts/application (9.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  Rendered layouts/_menu.html.erb (3.2ms)
Completed 200 OK in 64ms (Views: 46.4ms | ActiveRecord: 3.6ms)


  [1m[35m (0.4ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('2321506512563442330', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (4.0ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to CreateShoppingCarts (20170303095129)
  [1m[35m (23.9ms)[0m  [1m[35mCREATE TABLE `shopping_carts` (`id` int AUTO_INCREMENT PRIMARY KEY, `user_id` int, `user_uuid` varchar(255), `product_id` int, `amount` int, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (15.4ms)[0m  [1m[35mCREATE  INDEX `index_shopping_carts_on_user_id`  ON `shopping_carts` (`user_id`) [0m
  [1m[35m (15.9ms)[0m  [1m[35mCREATE  INDEX `index_shopping_carts_on_user_uuid`  ON `shopping_carts` (`user_uuid`) [0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170303095129')[0m
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddUserUuidColumn (20170303095611)
  [1m[35m (67.0ms)[0m  [1m[35mALTER TABLE `users` ADD `uuid` varchar(255)[0m
  [1m[35m (19.4ms)[0m  [1m[35mCREATE UNIQUE INDEX `index_users_on_uuid`  ON `users` (`uuid`) [0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` ORDER BY `users`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY '111@qq.com' AND (`users`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `users` SET `uuid` = 'k7i86pqb', `updated_at` = '2017-03-03 09:58:47' WHERE `users`.`id` = 1[0m
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'aaa@qq.com' AND (`users`.`id` != 2) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `users` SET `uuid` = '7xljstr1', `updated_at` = '2017-03-03 09:58:47' WHERE `users`.`id` = 2[0m
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170303095611')[0m
  [1m[35m (4.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2321506512563442330')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `categories`[0m
  [1m[35m (0.9ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'categories'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `product_images`[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'product_images'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `products`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'products'[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW CREATE TABLE `shopping_carts`[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'shopping_carts'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'users'[0m
Started GET "/" for 127.0.0.1 at 2017-03-06 10:50:25 +0800
  [1m[36mActiveRecord::SchemaMigration Load (1.4ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by WelcomeController#index as HTML
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)


  
NameError (undefined local variable or method `cookie' for #<WelcomeController:0x00000003952a10>):
  
app/controllers/application_controller.rb:13:in `set_browser_uuid'
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.4ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.2ms)
  Rendering /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (9.4ms)
  Rendered /home/code/.rvm/gems/ruby-2.2.3/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (44.0ms)
Started GET "/" for 127.0.0.1 at 2017-03-06 10:52:16 +0800
Processing by WelcomeController#index as HTML
  [1m[36mCategory Load (0.9ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY weight desc[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `shopping_carts` WHERE `shopping_carts`.`user_uuid` IS NULL[0m
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY weight desc[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY weight desc[0m
  Rendered shared/_categories.html.erb (2.3ms)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`status` = 'on' ORDER BY id desc LIMIT 12 OFFSET 0[0m
  Rendered shared/_products.html.erb (2.5ms)
  Rendered welcome/index.html.erb within layouts/application (6.9ms)
  Rendered layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 406ms (Views: 358.1ms | ActiveRecord: 7.9ms)


Started GET "/shopping_carts" for 127.0.0.1 at 2017-03-06 10:52:37 +0800
Processing by ShoppingCartsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY weight desc[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `shopping_carts` WHERE `shopping_carts`.`user_uuid` IS NULL[0m
  Rendering shopping_carts/index.html.erb within layouts/application
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM `shopping_carts` WHERE `shopping_carts`.`user_uuid` IS NULL[0m
  [1m[36mShoppingCart Load (0.5ms)[0m  [1m[34mSELECT `shopping_carts`.* FROM `shopping_carts` WHERE `shopping_carts`.`user_uuid` IS NULL ORDER BY id desc[0m
  Rendered shopping_carts/index.html.erb within layouts/application (3.6ms)
  Rendered layouts/_menu.html.erb (1.0ms)
Completed 200 OK in 216ms (Views: 41.1ms | ActiveRecord: 3.5ms)


Started GET "/shopping_carts" for 127.0.0.1 at 2017-03-06 11:33:50 +0800
Processing by ShoppingCartsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY weight desc[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `shopping_carts` WHERE `shopping_carts`.`user_uuid` IS NULL[0m
  Rendering shopping_carts/index.html.erb within layouts/application
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM `shopping_carts` WHERE `shopping_carts`.`user_uuid` IS NULL[0m
  [1m[36mShoppingCart Load (0.3ms)[0m  [1m[34mSELECT `shopping_carts`.* FROM `shopping_carts` WHERE `shopping_carts`.`user_uuid` IS NULL ORDER BY id desc[0m
  Rendered shopping_carts/index.html.erb within layouts/application (2.5ms)
  Rendered layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 61ms (Views: 27.5ms | ActiveRecord: 1.5ms)


Started GET "/" for 127.0.0.1 at 2017-03-06 11:33:57 +0800
Processing by WelcomeController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 0 LIMIT 1[0m
  [1m[36mCategory Load (1.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY weight desc[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `shopping_carts` WHERE `shopping_carts`.`user_uuid` IS NULL[0m
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY weight desc[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY weight desc[0m
  Rendered shared/_categories.html.erb (3.5ms)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`status` = 'on' ORDER BY id desc LIMIT 12 OFFSET 0[0m
  Rendered shared/_products.html.erb (2.2ms)
  Rendered welcome/index.html.erb within layouts/application (7.9ms)
  Rendered layouts/_menu.html.erb (1.0ms)
Completed 200 OK in 65ms (Views: 40.9ms | ActiveRecord: 4.6ms)


Started GET "/categories/16" for 127.0.0.1 at 2017-03-06 11:34:17 +0800
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"16"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 0 LIMIT 1[0m
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY weight desc[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `shopping_carts` WHERE `shopping_carts`.`user_uuid` IS NULL[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 16 LIMIT 1[0m
  Rendering categories/show.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY weight desc[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY weight desc[0m
  Rendered shared/_categories.html.erb (2.7ms)
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 9 LIMIT 1[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`category_id` = 16 AND `products`.`status` = 'on' ORDER BY id desc LIMIT 12 OFFSET 0[0m
  Rendered shared/_products.html.erb (1.8ms)
  Rendered categories/show.html.erb within layouts/application (7.5ms)
  Rendered layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 61ms (Views: 32.6ms | ActiveRecord: 3.0ms)


Started GET "/categories/16" for 127.0.0.1 at 2017-03-06 11:37:10 +0800
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"16"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 0 LIMIT 1[0m
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY weight desc[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `shopping_carts` WHERE `shopping_carts`.`user_uuid` IS NULL[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 16 LIMIT 1[0m
  Rendering categories/show.html.erb within layouts/application
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY weight desc[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY weight desc[0m
  Rendered shared/_categories.html.erb (3.8ms)
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 9 LIMIT 1[0m
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`category_id` = 16 AND `products`.`status` = 'on' ORDER BY id desc LIMIT 12 OFFSET 0[0m
  Rendered shared/_products.html.erb (3.4ms)
  Rendered categories/show.html.erb within layouts/application (11.8ms)
  Rendered layouts/_menu.html.erb (1.3ms)
Completed 200 OK in 1711ms (Views: 1695.3ms | ActiveRecord: 4.7ms)


Started GET "/categories/16" for 127.0.0.1 at 2017-03-06 11:56:22 +0800
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"16"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY weight desc[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `shopping_carts` WHERE `shopping_carts`.`user_uuid` IS NULL[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 16 LIMIT 1[0m
  Rendering categories/show.html.erb within layouts/application
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY weight desc[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY weight desc[0m
  Rendered shared/_categories.html.erb (2.3ms)
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 9 LIMIT 1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`category_id` = 16 AND `products`.`status` = 'on' ORDER BY id desc LIMIT 12 OFFSET 0[0m
  Rendered shared/_products.html.erb (1.6ms)
  Rendered categories/show.html.erb within layouts/application (6.8ms)
  Rendered layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 3096ms (Views: 3064.4ms | ActiveRecord: 2.5ms)


Started GET "/shopping_carts" for 127.0.0.1 at 2017-03-06 12:07:39 +0800
Processing by ShoppingCartsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 0 LIMIT 1[0m
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY weight desc[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `shopping_carts` WHERE `shopping_carts`.`user_uuid` IS NULL[0m
  Rendering shopping_carts/index.html.erb within layouts/application
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM `shopping_carts` WHERE `shopping_carts`.`user_uuid` IS NULL[0m
  [1m[36mShoppingCart Load (0.3ms)[0m  [1m[34mSELECT `shopping_carts`.* FROM `shopping_carts` WHERE `shopping_carts`.`user_uuid` IS NULL ORDER BY id desc[0m
  Rendered shopping_carts/index.html.erb within layouts/application (2.4ms)
  Rendered layouts/_menu.html.erb (1.8ms)
Completed 200 OK in 70ms (Views: 41.2ms | ActiveRecord: 3.9ms)


Started GET "/shopping_carts" for 127.0.0.1 at 2017-03-06 14:36:03 +0800
Processing by ShoppingCartsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 0 LIMIT 1[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY weight desc[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM `shopping_carts` WHERE `shopping_carts`.`user_uuid` IS NULL[0m
  Rendering shopping_carts/index.html.erb within layouts/application
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM `shopping_carts` WHERE `shopping_carts`.`user_uuid` IS NULL[0m
  [1m[36mShoppingCart Load (0.3ms)[0m  [1m[34mSELECT `shopping_carts`.* FROM `shopping_carts` WHERE `shopping_carts`.`user_uuid` IS NULL ORDER BY id desc[0m
  Rendered shopping_carts/index.html.erb within layouts/application (2.2ms)
  Rendered layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 143ms (Views: 108.0ms | ActiveRecord: 2.0ms)


Started GET "/" for 127.0.0.1 at 2017-03-06 14:36:12 +0800
Processing by WelcomeController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 0 LIMIT 1[0m
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY weight desc[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `shopping_carts` WHERE `shopping_carts`.`user_uuid` IS NULL[0m
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY weight desc[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY weight desc[0m
  Rendered shared/_categories.html.erb (2.8ms)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`status` = 'on' ORDER BY id desc LIMIT 12 OFFSET 0[0m
  Rendered shared/_products.html.erb (4.1ms)
  Rendered welcome/index.html.erb within layouts/application (9.4ms)
  Rendered layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 81ms (Views: 64.7ms | ActiveRecord: 3.5ms)


Started GET "/" for 127.0.0.1 at 2017-03-06 14:36:21 +0800
Processing by WelcomeController#index as HTML
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 0 LIMIT 1[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY weight desc[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `shopping_carts` WHERE `shopping_carts`.`user_uuid` IS NULL[0m
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY weight desc[0m
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY weight desc[0m
  Rendered shared/_categories.html.erb (4.5ms)
  [1m[36mProduct Load (2.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`status` = 'on' ORDER BY id desc LIMIT 12 OFFSET 0[0m
  Rendered shared/_products.html.erb (4.9ms)
  Rendered welcome/index.html.erb within layouts/application (12.0ms)
  Rendered layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 85ms (Views: 67.7ms | ActiveRecord: 7.4ms)


Started GET "/" for 127.0.0.1 at 2017-03-06 14:38:35 +0800
Processing by WelcomeController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 0 LIMIT 1[0m
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY weight desc[0m
  [1m[35m (2.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `shopping_carts` WHERE `shopping_carts`.`user_uuid` IS NULL[0m
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY weight desc[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY weight desc[0m
  Rendered shared/_categories.html.erb (4.0ms)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`status` = 'on' ORDER BY id desc LIMIT 12 OFFSET 0[0m
  Rendered shared/_products.html.erb (2.6ms)
  Rendered welcome/index.html.erb within layouts/application (10.3ms)
  Rendered layouts/_menu.html.erb (1.2ms)
Completed 200 OK in 93ms (Views: 78.1ms | ActiveRecord: 4.8ms)


Started GET "/" for 127.0.0.1 at 2017-03-06 14:41:31 +0800
Processing by WelcomeController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 0 LIMIT 1[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY weight desc[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `shopping_carts` WHERE `shopping_carts`.`user_uuid` IS NULL[0m
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY weight desc[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY weight desc[0m
  Rendered shared/_categories.html.erb (3.0ms)
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`status` = 'on' ORDER BY id desc LIMIT 12 OFFSET 0[0m
  Rendered shared/_products.html.erb (2.2ms)
  Rendered welcome/index.html.erb within layouts/application (7.0ms)
  Rendered layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 64ms (Views: 56.4ms | ActiveRecord: 2.5ms)


Started GET "/shopping_carts" for 127.0.0.1 at 2017-03-06 14:41:34 +0800
Processing by ShoppingCartsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 0 LIMIT 1[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY weight desc[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `shopping_carts` WHERE `shopping_carts`.`user_uuid` IS NULL[0m
  Rendering shopping_carts/index.html.erb within layouts/application
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM `shopping_carts` WHERE `shopping_carts`.`user_uuid` IS NULL[0m
  [1m[36mShoppingCart Load (0.4ms)[0m  [1m[34mSELECT `shopping_carts`.* FROM `shopping_carts` WHERE `shopping_carts`.`user_uuid` IS NULL ORDER BY id desc[0m
  Rendered shopping_carts/index.html.erb within layouts/application (3.9ms)
  Rendered layouts/_menu.html.erb (1.1ms)
Completed 200 OK in 73ms (Views: 64.6ms | ActiveRecord: 2.8ms)


Started GET "/categories/16" for 127.0.0.1 at 2017-03-06 14:42:36 +0800
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"16"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 0 LIMIT 1[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY weight desc[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `shopping_carts` WHERE `shopping_carts`.`user_uuid` IS NULL[0m
  [1m[36mCategory Load (0.9ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 16 LIMIT 1[0m
  Rendering categories/show.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY weight desc[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY weight desc[0m
  Rendered shared/_categories.html.erb (2.8ms)
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  `categories`.* FROM `categories` WHERE `categories`.`id` = 9 LIMIT 1[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`category_id` = 16 AND `products`.`status` = 'on' ORDER BY id desc LIMIT 12 OFFSET 0[0m
  Rendered shared/_products.html.erb (2.3ms)
  Rendered categories/show.html.erb within layouts/application (8.4ms)
  Rendered layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 69ms (Views: 55.4ms | ActiveRecord: 3.5ms)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('2321506512563442330', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to CreateAddresses (20170306064639)
  [1m[35m (14.7ms)[0m  [1m[35mCREATE TABLE `addresses` (`id` int AUTO_INCREMENT PRIMARY KEY, `user_id` int, `address_type` varchar(255), `contact_name` varchar(255), `cellphone` varchar(255), `address` varchar(255), `zipcode` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX `index_address_on_user_id_and_address_type`  ON `address` (`user_id`, `address_type`) [0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2321506512563442330')[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2321506512563442330', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to CreateAddresses (20170306064639)
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE `addresses` (`id` int AUTO_INCREMENT PRIMARY KEY, `user_id` int, `address_type` varchar(255), `contact_name` varchar(255), `cellphone` varchar(255), `address` varchar(255), `zipcode` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2321506512563442330')[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2321506512563442330', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to CreateAddresses (20170306064639)
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE `addresses` (`id` int AUTO_INCREMENT PRIMARY KEY, `user_id` int, `address_type` varchar(255), `contact_name` varchar(255), `cellphone` varchar(255), `address` varchar(255), `zipcode` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2321506512563442330')[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2321506512563442330', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to CreateAddresses (20170306064639)
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE `addresses` (`id` int AUTO_INCREMENT PRIMARY KEY, `user_id` int, `address_type` varchar(255), `contact_name` varchar(255), `cellphone` varchar(255), `address` varchar(255), `zipcode` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2321506512563442330')[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2321506512563442330', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to CreateAddresses (20170306064639)
  [1m[35m (23.9ms)[0m  [1m[35mCREATE TABLE `addresses` (`id` int AUTO_INCREMENT PRIMARY KEY, `user_id` int, `address_type` varchar(255), `contact_name` varchar(255), `cellphone` varchar(255), `address` varchar(255), `zipcode` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (13.6ms)[0m  [1m[35mCREATE  INDEX `index_addresses_on_user_id_and_address_type`  ON `addresses` (`user_id`, `address_type`) [0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170306064639')[0m
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddUserDefaultAddressId (20170306064745)
  [1m[35m (77.1ms)[0m  [1m[35mALTER TABLE `users` ADD `default_address_id` int[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170306064745')[0m
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2321506512563442330')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `addresses`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'addresses'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `categories`[0m
  [1m[35m (0.8ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'categories'[0m
  [1m[35m (1.7ms)[0m  [1m[35mSHOW CREATE TABLE `product_images`[0m
  [1m[35m (1.0ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'product_images'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `products`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'products'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `shopping_carts`[0m
  [1m[35m (0.8ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'shopping_carts'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'users'[0m
Started GET "/" for 127.0.0.1 at 2017-03-06 15:53:47 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by WelcomeController#index as HTML
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY weight desc[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `shopping_carts` WHERE `shopping_carts`.`user_uuid` IS NULL[0m
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY weight desc[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY weight desc[0m
  Rendered shared/_categories.html.erb (2.2ms)
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`status` = 'on' ORDER BY id desc LIMIT 12 OFFSET 0[0m
  Rendered shared/_products.html.erb (1.4ms)
  Rendered welcome/index.html.erb within layouts/application (5.0ms)
  Rendered layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 58ms (Views: 37.5ms | ActiveRecord: 2.2ms)


Started GET "/" for 127.0.0.1 at 2017-03-07 15:55:14 +0800
  [1m[36mActiveRecord::SchemaMigration Load (1.6ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by WelcomeController#index as HTML
  [1m[36mCategory Load (1.0ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY weight desc[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM `shopping_carts` WHERE `shopping_carts`.`user_uuid` IS NULL[0m
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY weight desc[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY weight desc[0m
  Rendered shared/_categories.html.erb (2.9ms)
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`status` = 'on' ORDER BY id desc LIMIT 12 OFFSET 0[0m
  Rendered shared/_products.html.erb (6.0ms)
  Rendered welcome/index.html.erb within layouts/application (11.9ms)
  Rendered layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 579ms (Views: 516.7ms | ActiveRecord: 9.7ms)


Started GET "/orders/new" for 127.0.0.1 at 2017-03-07 15:56:43 +0800
Processing by OrdersController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 0 LIMIT 1[0m
Redirected to http://localhost:3000/sessions/new
Filter chain halted as :auth_user rendered or redirected
Completed 302 Found in 174ms (ActiveRecord: 2.5ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-03-07 15:56:43 +0800
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 0 LIMIT 1[0m
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 65ms (Views: 59.4ms | ActiveRecord: 0.3ms)


Started POST "/sessions" for 127.0.0.1 at 2017-03-07 15:56:48 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"+fH0opW6u4lUaidSpzc8Kcg8/fFGXaiqLA0Vnls31i5uT+n7OYUNMQxWUhBGw7FEXVWhmXLGTB7/16NAhUALtg==", "email"=>"aaa@qq.com", "password"=>"[FILTERED]", "sign_submit"=>"登录"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 0 LIMIT 1[0m
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'aaa@qq.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/
Completed 302 Found in 213ms (ActiveRecord: 4.2ms)


Started GET "/" for 127.0.0.1 at 2017-03-07 15:56:48 +0800
Processing by WelcomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY weight desc[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `shopping_carts` WHERE `shopping_carts`.`user_uuid` IS NULL[0m
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY weight desc[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY weight desc[0m
  Rendered shared/_categories.html.erb (2.5ms)
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`status` = 'on' ORDER BY id desc LIMIT 12 OFFSET 0[0m
  Rendered shared/_products.html.erb (1.7ms)
  Rendered welcome/index.html.erb within layouts/application (6.3ms)
  Rendered layouts/_menu.html.erb (1.0ms)
Completed 200 OK in 53ms (Views: 45.5ms | ActiveRecord: 3.1ms)


Started GET "/orders/new" for 127.0.0.1 at 2017-03-07 15:57:00 +0800
Processing by OrdersController#new as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 0 LIMIT 1[0m
Redirected to http://localhost:3000/sessions/new
Filter chain halted as :auth_user rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 1.3ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-03-07 15:57:00 +0800
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 0 LIMIT 1[0m
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.9ms)
  Rendered layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 52ms (Views: 49.9ms | ActiveRecord: 0.3ms)


Started POST "/sessions" for 127.0.0.1 at 2017-03-07 15:57:04 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"nIAh+XygFNlKI5etpZ2l4ngl93EJyY07MaZFrReWAjgLPjyg0J+iYRIf4u9EaSiP7UyrGT1SaY/ifPNzyeHfoA==", "email"=>"aaa@qq.com", "password"=>"[FILTERED]", "sign_submit"=>"登录"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 0 LIMIT 1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'aaa@qq.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/
Completed 302 Found in 151ms (ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-03-07 15:57:04 +0800
Processing by WelcomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY weight desc[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `shopping_carts` WHERE `shopping_carts`.`user_uuid` IS NULL[0m
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY weight desc[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY weight desc[0m
  Rendered shared/_categories.html.erb (3.5ms)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`status` = 'on' ORDER BY id desc LIMIT 12 OFFSET 0[0m
  Rendered shared/_products.html.erb (1.8ms)
  Rendered welcome/index.html.erb within layouts/application (6.7ms)
  Rendered layouts/_menu.html.erb (1.9ms)
Completed 200 OK in 55ms (Views: 48.7ms | ActiveRecord: 2.3ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-03-07 15:57:06 +0800
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 0 LIMIT 1[0m
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_menu.html.erb (0.7ms)
Completed 200 OK in 47ms (Views: 45.3ms | ActiveRecord: 0.3ms)


Started POST "/sessions" for 127.0.0.1 at 2017-03-07 15:57:08 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"7iUlB8wiIF/NLCAuPSKGUntndoLX7qMtXTO8TdMCCPZ5mzheYB2W55UQVWzc1gs/7g4q6uN1R5mO6QqTDXXVbg==", "email"=>"aaa@qq.com", "password"=>"[FILTERED]", "sign_submit"=>"登录"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 0 LIMIT 1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'aaa@qq.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/
Completed 302 Found in 184ms (ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2017-03-07 15:57:08 +0800
Processing by WelcomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY weight desc[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `shopping_carts` WHERE `shopping_carts`.`user_uuid` IS NULL[0m
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY weight desc[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY weight desc[0m
  Rendered shared/_categories.html.erb (2.3ms)
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`status` = 'on' ORDER BY id desc LIMIT 12 OFFSET 0[0m
  Rendered shared/_products.html.erb (3.2ms)
  Rendered welcome/index.html.erb within layouts/application (7.4ms)
  Rendered layouts/_menu.html.erb (1.1ms)
Completed 200 OK in 54ms (Views: 47.8ms | ActiveRecord: 1.8ms)


Started GET "/" for 127.0.0.1 at 2017-03-07 15:57:12 +0800
Processing by WelcomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 0 LIMIT 1[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY weight desc[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `shopping_carts` WHERE `shopping_carts`.`user_uuid` IS NULL[0m
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY weight desc[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY weight desc[0m
  Rendered shared/_categories.html.erb (3.2ms)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`status` = 'on' ORDER BY id desc LIMIT 12 OFFSET 0[0m
  Rendered shared/_products.html.erb (1.9ms)
  Rendered welcome/index.html.erb within layouts/application (7.3ms)
  Rendered layouts/_menu.html.erb (2.4ms)
Completed 200 OK in 56ms (Views: 48.9ms | ActiveRecord: 2.4ms)


Started GET "/" for 127.0.0.1 at 2017-03-07 15:57:14 +0800
Processing by WelcomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY weight desc[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `shopping_carts` WHERE `shopping_carts`.`user_uuid` IS NULL[0m
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY weight desc[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY weight desc[0m
  Rendered shared/_categories.html.erb (2.2ms)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`status` = 'on' ORDER BY id desc LIMIT 12 OFFSET 0[0m
  Rendered shared/_products.html.erb (2.0ms)
  Rendered welcome/index.html.erb within layouts/application (5.8ms)
  Rendered layouts/_menu.html.erb (1.5ms)
Completed 200 OK in 53ms (Views: 47.1ms | ActiveRecord: 1.9ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-03-07 15:57:16 +0800
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 44ms (Views: 41.3ms | ActiveRecord: 0.3ms)


Started POST "/sessions" for 127.0.0.1 at 2017-03-07 15:57:17 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"VUDuLZrkdQoyZcqbXqxFxLz2WUFgQTpZ7+2wxuerOerC/vN0NtvDsmpZv9m/WMipKZ8FKVTa3u08NwYYOdzkcg==", "email"=>"aaa@qq.com", "password"=>"[FILTERED]", "sign_submit"=>"登录"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'aaa@qq.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/
Completed 302 Found in 152ms (ActiveRecord: 1.0ms)


Started GET "/" for 127.0.0.1 at 2017-03-07 15:57:17 +0800
Processing by WelcomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY weight desc[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `shopping_carts` WHERE `shopping_carts`.`user_uuid` IS NULL[0m
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY weight desc[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY weight desc[0m
  Rendered shared/_categories.html.erb (3.3ms)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`status` = 'on' ORDER BY id desc LIMIT 12 OFFSET 0[0m
  Rendered shared/_products.html.erb (1.8ms)
  Rendered welcome/index.html.erb within layouts/application (6.7ms)
  Rendered layouts/_menu.html.erb (0.9ms)
Completed 200 OK in 53ms (Views: 47.4ms | ActiveRecord: 2.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-03-07 15:57:21 +0800
Processing by UsersController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 0 LIMIT 1[0m
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (16.5ms)
  Rendered layouts/_menu.html.erb (0.8ms)
Completed 200 OK in 76ms (Views: 73.6ms | ActiveRecord: 0.3ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-03-07 15:57:22 +0800
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 0 LIMIT 1[0m
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_menu.html.erb (1.5ms)
Completed 200 OK in 57ms (Views: 55.6ms | ActiveRecord: 0.3ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-03-07 15:57:27 +0800
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 0 LIMIT 1[0m
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_menu.html.erb (1.5ms)
Completed 200 OK in 54ms (Views: 51.8ms | ActiveRecord: 0.3ms)


Started POST "/sessions" for 127.0.0.1 at 2017-03-07 15:57:28 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"zDgo4CRIxwyITkOT6iLRo3Gw7pByAil/IabzlrWzqCdbhjW5iHdxtNByNtEL1lzO5Nmy+EaZzcvyfEVIa8R1vw==", "email"=>"aaa@qq.com", "password"=>"[FILTERED]", "sign_submit"=>"登录"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 0 LIMIT 1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'aaa@qq.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/
Completed 302 Found in 151ms (ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2017-03-07 15:57:29 +0800
Processing by WelcomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY weight desc[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `shopping_carts` WHERE `shopping_carts`.`user_uuid` IS NULL[0m
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY weight desc[0m
  [1m[36mCategory Load (1.0ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY weight desc[0m
  Rendered shared/_categories.html.erb (4.2ms)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`status` = 'on' ORDER BY id desc LIMIT 12 OFFSET 0[0m
  Rendered shared/_products.html.erb (1.7ms)
  Rendered welcome/index.html.erb within layouts/application (7.7ms)
  Rendered layouts/_menu.html.erb (1.2ms)
Completed 200 OK in 79ms (Views: 72.5ms | ActiveRecord: 2.7ms)


Started GET "/" for 127.0.0.1 at 2017-03-07 15:57:32 +0800
Processing by WelcomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[36mCategory Load (0.9ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY weight desc[0m
  [1m[35m (3.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `shopping_carts` WHERE `shopping_carts`.`user_uuid` IS NULL[0m
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY weight desc[0m
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY weight desc[0m
  Rendered shared/_categories.html.erb (4.4ms)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`status` = 'on' ORDER BY id desc LIMIT 12 OFFSET 0[0m
  Rendered shared/_products.html.erb (5.0ms)
  Rendered welcome/index.html.erb within layouts/application (11.7ms)
  Rendered layouts/_menu.html.erb (1.7ms)
Completed 200 OK in 95ms (Views: 78.9ms | ActiveRecord: 5.8ms)


Started GET "/" for 127.0.0.1 at 2017-03-07 15:57:35 +0800
Processing by WelcomeController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 0 LIMIT 1[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` IS NULL ORDER BY weight desc[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `shopping_carts` WHERE `shopping_carts`.`user_uuid` IS NULL[0m
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '9' ORDER BY weight desc[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`ancestry` = '10' ORDER BY weight desc[0m
  Rendered shared/_categories.html.erb (4.8ms)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`status` = 'on' ORDER BY id desc LIMIT 12 OFFSET 0[0m
  Rendered shared/_products.html.erb (2.2ms)
  Rendered welcome/index.html.erb within layouts/application (10.4ms)
  Rendered layouts/_menu.html.erb (1.4ms)
Completed 200 OK in 89ms (Views: 79.7ms | ActiveRecord: 2.4ms)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2321506512563442330', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.4ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to CreateOrders (20170308080505)
  [1m[35m (37.0ms)[0m  [1m[35mCREATE TABLE `orders` (`id` int AUTO_INCREMENT PRIMARY KEY, `user_id` int, `product_id` int, `address_id` int, `order_no` varchar(255), `amount` int, `total_moeny` decimal(10,2), `payment_at` datetime, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (12.3ms)[0m  [1m[35mCREATE  INDEX `index_orders_on_user_id`  ON `orders` (`user_id`) [0m
  [1m[35m (12.8ms)[0m  [1m[35mCREATE UNIQUE INDEX `index_orders_on_order_no`  ON `orders` (`order_no`) [0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170308080505')[0m
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT RELEASE_LOCK('2321506512563442330')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `addresses`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'addresses'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `categories`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'categories'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `orders`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'orders'[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `product_images`[0m
  [1m[35m (0.9ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'product_images'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `products`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'products'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `shopping_carts`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'shopping_carts'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'users'[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('2321506512563442330', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to CreatePayments (20170309021544)
  [1m[35m (15.8ms)[0m  [1m[35mCREATE TABLE `payments` (`id` int AUTO_INCREMENT PRIMARY KEY, `user_id` int, `payment_no` varchar(255), `transaction_no` varchar(255), `status` varchar(255) DEFAULT 'initial', `total_moeny` decimal(10,2), `payment_at` datetime, `raw_response` text, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (13.9ms)[0m  [1m[35mCREATE  INDEX `index_payments_on_user_id`  ON `payments` (`user_id`) [0m
  [1m[35m (11.8ms)[0m  [1m[35mCREATE UNIQUE INDEX `index_payments_on_payment_no`  ON `payments` (`payment_no`) [0m
  [1m[35m (12.2ms)[0m  [1m[35mCREATE  INDEX `index_payments_on_transaction_no`  ON `payments` (`transaction_no`) [0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170309021544')[0m
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddOrderPaymentIdColumn (20170309022208)
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE `order` ADD `payment_id` int[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2321506512563442330')[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2321506512563442330', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to AddOrderPaymentIdColumn (20170309022208)
  [1m[35m (37.4ms)[0m  [1m[35mALTER TABLE `orders` ADD `payment_id` int[0m
  [1m[35m (27.2ms)[0m  [1m[35mALTER TABLE `orders` ADD `status` varchar(255) DEFAULT 'initial'[0m
  [1m[35m (12.7ms)[0m  [1m[35mCREATE  INDEX `index_orders_on_payment_id`  ON `orders` (`payment_id`) [0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170309022208')[0m
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2321506512563442330')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `addresses`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'addresses'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `categories`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'categories'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `orders`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'orders'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `payments`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'payments'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `product_images`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'product_images'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `products`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'products'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `shopping_carts`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'shopping_carts'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'users'[0m
